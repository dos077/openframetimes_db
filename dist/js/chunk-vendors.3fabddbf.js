(self["webpackChunkframetime_db"]=self["webpackChunkframetime_db"]||[]).push([[998],{1002:function(t){t.exports={name:"mdi-v4",type:{positive:"mdi-check-circle",negative:"mdi-alert",info:"mdi-information",warning:"mdi-exclamation"},arrow:{up:"mdi-arrow-up",right:"mdi-arrow-right",down:"mdi-arrow-down",left:"mdi-arrow-left",dropdown:"mdi-menu-down"},chevron:{left:"mdi-chevron-left",right:"mdi-chevron-right"},colorPicker:{spectrum:"mdi-gradient",tune:"mdi-tune",palette:"mdi-palette-swatch"},pullToRefresh:{icon:"mdi-refresh"},carousel:{left:"mdi-chevron-left",right:"mdi-chevron-right",up:"mdi-chevron-up",down:"mdi-chevron-down",navigationIcon:"mdi-circle"},chip:{remove:"mdi-close-circle",selected:"mdi-check"},datetime:{arrowLeft:"mdi-chevron-left",arrowRight:"mdi-chevron-right",now:"mdi-clock-outline",today:"mdi-calendar-today"},editor:{bold:"mdi-format-bold",italic:"mdi-format-italic",strikethrough:"mdi-format-strikethrough-variant",underline:"mdi-format-underline",unorderedList:"mdi-format-list-bulleted",orderedList:"mdi-format-list-numbered",subscript:"mdi-format-subscript",superscript:"mdi-format-superscript",hyperlink:"mdi-link",toggleFullscreen:"mdi-fullscreen",quote:"mdi-format-quote-close",left:"mdi-format-align-left",center:"mdi-format-align-center",right:"mdi-format-align-right",justify:"mdi-format-align-justify",print:"mdi-printer",outdent:"mdi-format-indent-decrease",indent:"mdi-format-indent-increase",removeFormat:"mdi-format-clear",formatting:"mdi-format-color-text",fontSize:"mdi-format-size",align:"mdi-format-align-left",hr:"mdi-minus",undo:"mdi-undo",redo:"mdi-redo",heading:"mdi-format-size",heading1:"mdi-format-header-1",heading2:"mdi-format-header-2",heading3:"mdi-format-header-3",heading4:"mdi-format-header-4",heading5:"mdi-format-header-5",heading6:"mdi-format-header-6",code:"mdi-code-tags",size:"mdi-format-size",size1:"mdi-numeric-1-box",size2:"mdi-numeric-2-box",size3:"mdi-numeric-3-box",size4:"mdi-numeric-4-box",size5:"mdi-numeric-5-box",size6:"mdi-numeric-6-box",size7:"mdi-numeric-7-box",font:"mdi-format-font",viewSource:"mdi-code-tags"},expansionItem:{icon:"mdi-chevron-down",denseIcon:"mdi-menu-down"},fab:{icon:"mdi-plus",activeIcon:"mdi-close"},field:{clear:"mdi-close-circle",error:"mdi-alert-circle"},pagination:{first:"mdi-chevron-double-left",prev:"mdi-chevron-left",next:"mdi-chevron-right",last:"mdi-chevron-double-right"},rating:{icon:"mdi-star"},stepper:{done:"mdi-check",active:"mdi-pencil",error:"mdi-alert"},tabs:{left:"mdi-chevron-left",right:"mdi-chevron-right",up:"mdi-chevron-up",down:"mdi-chevron-down"},table:{arrowUp:"mdi-arrow-up",warning:"mdi-alert",firstPage:"mdi-chevron-double-left",prevPage:"mdi-chevron-left",nextPage:"mdi-chevron-right",lastPage:"mdi-chevron-double-right"},tree:{icon:"mdi-play"},uploader:{done:"mdi-check",clear:"mdi-close",add:"mdi-plus-box",upload:"mdi-cloud-upload",removeQueue:"mdi-notification-clear-all",removeUploaded:"mdi-check-all"}}},9804:function(t,e,n){"use strict";n(4719);var i=n(9269),r=n(6237),s=n(5102),o=n(4633),a=n(2605),l=n(8108),c=n(7396),u=n(3856),h=n(64),d=n(3027),f=n(6809);const{passiveCapture:p}=d.rU;let g=null,m=null,v=null;e["Z"]=(0,u.L)({name:"QBtn",props:{...c.b7,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(t,{slots:e,emit:n}){const{proxy:u}=(0,i.FN)(),{classes:y,style:b,innerClasses:w,attributes:_,hasLink:x,linkTag:S,navigateOnClick:k,isActionable:I}=(0,c.ZP)(t),E=(0,r.iH)(null),T=(0,r.iH)(null);let C,A,M=null;const D=(0,i.Fl)((()=>void 0!==t.label&&null!==t.label&&""!==t.label)),O=(0,i.Fl)((()=>!0!==t.disable&&!1!==t.ripple&&{keyCodes:!0===x.value?[13,32]:[13],...!0===t.ripple?{}:t.ripple})),P=(0,i.Fl)((()=>({center:t.round}))),R=(0,i.Fl)((()=>{const e=Math.max(0,Math.min(100,t.percentage));return e>0?{transition:"transform 0.6s",transform:`translateX(${e-100}%)`}:{}})),L=(0,i.Fl)((()=>{if(!0===t.loading)return{onMousedown:U,onTouchstart:U,onClick:U,onKeydown:U,onKeyup:U};if(!0===I.value){const e={onClick:F,onKeydown:V,onMousedown:B};if(!0===u.$q.platform.has.touch){const n=void 0!==t.onTouchstart?"":"Passive";e[`onTouchstart${n}`]=q}return e}return{onClick:d.NS}})),N=(0,i.Fl)((()=>({ref:E,class:"q-btn q-btn-item non-selectable no-outline "+y.value,style:b.value,..._.value,...L.value})));function F(e){if(null!==E.value){if(void 0!==e){if(!0===e.defaultPrevented)return;const n=document.activeElement;if("submit"===t.type&&n!==document.body&&!1===E.value.contains(n)&&!1===n.contains(E.value)){E.value.focus();const t=()=>{document.removeEventListener("keydown",d.NS,!0),document.removeEventListener("keyup",t,p),null!==E.value&&E.value.removeEventListener("blur",t,p)};document.addEventListener("keydown",d.NS,!0),document.addEventListener("keyup",t,p),E.value.addEventListener("blur",t,p)}}k(e)}}function V(t){null!==E.value&&(n("keydown",t),!0===(0,f.So)(t,[13,32])&&m!==E.value&&(null!==m&&z(),!0!==t.defaultPrevented&&(E.value.focus(),m=E.value,E.value.classList.add("q-btn--active"),document.addEventListener("keyup",j,!0),E.value.addEventListener("blur",j,p)),(0,d.NS)(t)))}function q(t){null!==E.value&&(n("touchstart",t),!0!==t.defaultPrevented&&(g!==E.value&&(null!==g&&z(),g=E.value,M=t.target,M.addEventListener("touchcancel",j,p),M.addEventListener("touchend",j,p)),C=!0,clearTimeout(A),A=setTimeout((()=>{C=!1}),200)))}function B(t){null!==E.value&&(t.qSkipRipple=!0===C,n("mousedown",t),!0!==t.defaultPrevented&&v!==E.value&&(null!==v&&z(),v=E.value,E.value.classList.add("q-btn--active"),document.addEventListener("mouseup",j,p)))}function j(t){if(null!==E.value&&(void 0===t||"blur"!==t.type||document.activeElement!==E.value)){if(void 0!==t&&"keyup"===t.type){if(m===E.value&&!0===(0,f.So)(t,[13,32])){const e=new MouseEvent("click",t);e.qKeyEvent=!0,!0===t.defaultPrevented&&(0,d.X$)(e),!0===t.cancelBubble&&(0,d.sT)(e),E.value.dispatchEvent(e),(0,d.NS)(t),t.qKeyEvent=!0}n("keyup",t)}z()}}function z(t){const e=T.value;!0===t||g!==E.value&&v!==E.value||null===e||e===document.activeElement||(e.setAttribute("tabindex",-1),e.focus()),g===E.value&&(null!==M&&(M.removeEventListener("touchcancel",j,p),M.removeEventListener("touchend",j,p)),g=M=null),v===E.value&&(document.removeEventListener("mouseup",j,p),v=null),m===E.value&&(document.removeEventListener("keyup",j,!0),null!==E.value&&E.value.removeEventListener("blur",j,p),m=null),null!==E.value&&E.value.classList.remove("q-btn--active")}function U(t){(0,d.NS)(t),t.qSkipRipple=!0}return(0,i.Jd)((()=>{z(!0)})),Object.assign(u,{click:F}),()=>{let n=[];void 0!==t.icon&&n.push((0,i.h)(o.Z,{name:t.icon,left:!1===t.stack&&!0===D.value,role:"img","aria-hidden":"true"})),!0===D.value&&n.push((0,i.h)("span",{class:"block"},[t.label])),n=(0,h.vs)(e.default,n),void 0!==t.iconRight&&!1===t.round&&n.push((0,i.h)(o.Z,{name:t.iconRight,right:!1===t.stack&&!0===D.value,role:"img","aria-hidden":"true"}));const r=[(0,i.h)("span",{class:"q-focus-helper",ref:T})];return!0===t.loading&&void 0!==t.percentage&&r.push((0,i.h)("span",{class:"q-btn__progress absolute-full overflow-hidden"+(!0===t.darkPercentage?" q-btn__progress--dark":"")},[(0,i.h)("span",{class:"q-btn__progress-indicator fit block",style:R.value})])),r.push((0,i.h)("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+w.value},n)),null!==t.loading&&r.push((0,i.h)(s.uT,{name:"q-transition--fade"},(()=>!0===t.loading?[(0,i.h)("span",{key:"loading",class:"absolute-full flex flex-center"},void 0!==e.loading?e.loading():[(0,i.h)(a.Z)])]:null))),(0,i.wy)((0,i.h)(S.value,N.value,r),[[l.Z,O.value,void 0,P.value]])}}})},7396:function(t,e,n){"use strict";n.d(e,{ZP:function(){return g},_V:function(){return f},b7:function(){return p}});n(4719);var i=n(9269),r=n(3994),s=n(505),o=n(2453);const a={none:0,xs:4,sm:8,md:16,lg:24,xl:32},l={xs:8,sm:10,md:14,lg:20,xl:24},c=["button","submit","reset"],u=/[^\s]\/[^\s]/,h=["flat","outline","push","unelevated"],d=(t,e)=>!0===t.flat?"flat":!0===t.outline?"outline":!0===t.push?"push":!0===t.unelevated?"unelevated":e,f=t=>{const e=d(t);return void 0!==e?{[e]:!0}:{}},p={...s.LU,...o.$,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...h.reduce(((t,e)=>(t[e]=Boolean)&&t),{}),square:Boolean,round:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...r.jO.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function g(t){const e=(0,s.ZP)(t,l),n=(0,r.ZP)(t),{hasRouterLink:h,hasLink:f,linkTag:p,linkAttrs:g,navigateOnClick:m}=(0,o.Z)({fallbackTag:"button"}),v=(0,i.Fl)((()=>{const n=!1===t.fab&&!1===t.fabMini?e.value:{};return void 0!==t.padding?Object.assign({},n,{padding:t.padding.split(/\s+/).map((t=>t in a?a[t]+"px":t)).join(" "),minWidth:"0",minHeight:"0"}):n})),y=(0,i.Fl)((()=>!0===t.rounded||!0===t.fab||!0===t.fabMini)),b=(0,i.Fl)((()=>!0!==t.disable&&!0!==t.loading)),w=(0,i.Fl)((()=>!0===b.value?t.tabindex||0:-1)),_=(0,i.Fl)((()=>d(t,"standard"))),x=(0,i.Fl)((()=>{const e={tabindex:w.value};return!0===f.value?Object.assign(e,g.value):!0===c.includes(t.type)&&(e.type=t.type),"a"===p.value?(!0===t.disable?e["aria-disabled"]="true":void 0===e.href&&(e.role="button"),!0!==h.value&&!0===u.test(t.type)&&(e.type=t.type)):!0===t.disable&&(e.disabled="",e["aria-disabled"]="true"),!0===t.loading&&void 0!==t.percentage&&Object.assign(e,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":t.percentage}),e})),S=(0,i.Fl)((()=>{let e;void 0!==t.color?e=!0===t.flat||!0===t.outline?`text-${t.textColor||t.color}`:`bg-${t.color} text-${t.textColor||"white"}`:t.textColor&&(e=`text-${t.textColor}`);const n=!0===t.round?"round":"rectangle"+(!0===y.value?" q-btn--rounded":!0===t.square?" q-btn--square":"");return`q-btn--${_.value} q-btn--${n}`+(void 0!==e?" "+e:"")+(!0===b.value?" q-btn--actionable q-focusable q-hoverable":!0===t.disable?" disabled":"")+(!0===t.fab?" q-btn--fab":!0===t.fabMini?" q-btn--fab-mini":"")+(!0===t.noCaps?" q-btn--no-uppercase":"")+(!0===t.dense?" q-btn--dense":"")+(!0===t.stretch?" no-border-radius self-stretch":"")+(!0===t.glossy?" glossy":"")+(t.square?" q-btn--square":"")})),k=(0,i.Fl)((()=>n.value+(!0===t.stack?" column":" row")+(!0===t.noWrap?" no-wrap text-no-wrap":"")+(!0===t.loading?" q-btn__content--hidden":"")));return{classes:S,style:v,innerClasses:k,attributes:x,hasLink:f,linkTag:p,navigateOnClick:m,isActionable:b}}},8055:function(t,e,n){"use strict";var i=n(9269),r=n(6597),s=n(3856),o=n(64);e["Z"]=(0,s.L)({name:"QCard",props:{...r.S,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=(0,i.FN)(),s=(0,r.Z)(t,n),a=(0,i.Fl)((()=>"q-card"+(!0===s.value?" q-card--dark q-dark":"")+(!0===t.bordered?" q-card--bordered":"")+(!0===t.square?" q-card--square no-border-radius":"")+(!0===t.flat?" q-card--flat no-shadow":"")));return()=>(0,i.h)(t.tag,{class:a.value},(0,o.KR)(e.default))}})},4333:function(t,e,n){"use strict";var i=n(9269),r=n(3994),s=n(3856),o=n(64);e["Z"]=(0,s.L)({name:"QCardActions",props:{...r.jO,vertical:Boolean},setup(t,{slots:e}){const n=(0,r.ZP)(t),s=(0,i.Fl)((()=>`q-card__actions ${n.value} q-card__actions--`+(!0===t.vertical?"vert column":"horiz row")));return()=>(0,i.h)("div",{class:s.value},(0,o.KR)(e.default))}})},9501:function(t,e,n){"use strict";var i=n(9269),r=n(3856),s=n(64);e["Z"]=(0,r.L)({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(t,{slots:e}){const n=(0,i.Fl)((()=>"q-card__section q-card__section--"+(!0===t.horizontal?"horiz row no-wrap":"vert")));return()=>(0,i.h)(t.tag,{class:n.value},(0,s.KR)(e.default))}})},1384:function(t,e,n){"use strict";n(4719);var i=n(9269),r=n(4633),s=n(8108),o=n(6597),a=n(505),l=n(3856),c=n(3027),u=n(64);const h={xs:8,sm:10,md:14,lg:20,xl:24};e["Z"]=(0,l.L)({name:"QChip",props:{...o.S,...a.LU,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(t,{slots:e,emit:n}){const{proxy:{$q:l}}=(0,i.FN)(),d=(0,o.Z)(t,l),f=(0,a.ZP)(t,h),p=(0,i.Fl)((()=>!0===t.selected||void 0!==t.icon)),g=(0,i.Fl)((()=>!0===t.selected?t.iconSelected||l.iconSet.chip.selected:t.icon)),m=(0,i.Fl)((()=>t.iconRemove||l.iconSet.chip.remove)),v=(0,i.Fl)((()=>!1===t.disable&&(!0===t.clickable||null!==t.selected))),y=(0,i.Fl)((()=>{const e=!0===t.outline&&t.color||t.textColor;return"q-chip row inline no-wrap items-center"+(!1===t.outline&&void 0!==t.color?` bg-${t.color}`:"")+(e?` text-${e} q-chip--colored`:"")+(!0===t.disable?" disabled":"")+(!0===t.dense?" q-chip--dense":"")+(!0===t.outline?" q-chip--outline":"")+(!0===t.selected?" q-chip--selected":"")+(!0===v.value?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(!0===t.square?" q-chip--square":"")+(!0===d.value?" q-chip--dark q-dark":"")})),b=(0,i.Fl)((()=>{const e=!0===t.disable?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0},n={...e,role:"button","aria-hidden":"false","aria-label":t.removeAriaLabel||l.lang.label.remove};return{chip:e,remove:n}}));function w(t){13===t.keyCode&&_(t)}function _(e){t.disable||(n("update:selected",!t.selected),n("click",e))}function x(e){void 0!==e.keyCode&&13!==e.keyCode||((0,c.NS)(e),!1===t.disable&&(n("update:modelValue",!1),n("remove")))}function S(){const n=[];!0===v.value&&n.push((0,i.h)("div",{class:"q-focus-helper"})),!0===p.value&&n.push((0,i.h)(r.Z,{class:"q-chip__icon q-chip__icon--left",name:g.value}));const s=void 0!==t.label?[(0,i.h)("div",{class:"ellipsis"},[t.label])]:void 0;return n.push((0,i.h)("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},(0,u.pf)(e.default,s))),t.iconRight&&n.push((0,i.h)(r.Z,{class:"q-chip__icon q-chip__icon--right",name:t.iconRight})),!0===t.removable&&n.push((0,i.h)(r.Z,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:m.value,...b.value.remove,onClick:x,onKeyup:x})),n}return()=>{if(!1===t.modelValue)return;const e={class:y.value,style:f.value};return!0===v.value&&Object.assign(e,b.value.chip,{onClick:_,onKeyup:w}),(0,u.Jl)("div",e,S(),"ripple",!1!==t.ripple&&!0!==t.disable,(()=>[[s.Z,t.ripple]]))}}})},1682:function(t,e,n){"use strict";n.d(e,{Z:function(){return B}});var i=n(9269),r=n(6237),s=n(5102),o=n(6114);function a(t,e,n){let r;function s(){void 0!==r&&(o.Z.remove(r),r=void 0)}return(0,i.Jd)((()=>{!0===t.value&&s()})),{removeFromHistory:s,addToHistory(){r={condition:()=>!0===n.value,handler:e},o.Z.add(r)}}}var l=n(7933),c=n(6775),u=n(9216),h=n(959),d=n(2130),f=n(3027),p=n(7336),g=n(1013);let m,v,y,b,w,_,x=0,S=!1;function k(t){I(t)&&(0,f.NS)(t)}function I(t){if(t.target===document.body||t.target.classList.contains("q-layout__backdrop"))return!0;const e=(0,f.AZ)(t),n=t.shiftKey&&!t.deltaX,i=!n&&Math.abs(t.deltaX)<=Math.abs(t.deltaY),r=n||i?t.deltaY:t.deltaX;for(let s=0;s<e.length;s++){const t=e[s];if((0,p.QA)(t,i))return i?r<0&&0===t.scrollTop||r>0&&t.scrollTop+t.clientHeight===t.scrollHeight:r<0&&0===t.scrollLeft||r>0&&t.scrollLeft+t.clientWidth===t.scrollWidth}return!0}function E(t){t.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function T(t){!0!==S&&(S=!0,requestAnimationFrame((()=>{S=!1;const{height:e}=t.target,{clientHeight:n,scrollTop:i}=document.scrollingElement;void 0!==y&&e===window.innerHeight||(y=n-e,document.scrollingElement.scrollTop=i),i>y&&(document.scrollingElement.scrollTop-=Math.ceil((i-y)/8))})))}function C(t){const e=document.body,n=void 0!==window.visualViewport;if("add"===t){const{overflowY:t,overflowX:i}=window.getComputedStyle(e);m=(0,p.OI)(window),v=(0,p.u3)(window),b=e.style.left,w=e.style.top,e.style.left=`-${m}px`,e.style.top=`-${v}px`,"hidden"!==i&&("scroll"===i||e.scrollWidth>window.innerWidth)&&e.classList.add("q-body--force-scrollbar-x"),"hidden"!==t&&("scroll"===t||e.scrollHeight>window.innerHeight)&&e.classList.add("q-body--force-scrollbar-y"),e.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,!0===g.Lp.is.ios&&(!0===n?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",T,f.rU.passiveCapture),window.visualViewport.addEventListener("scroll",T,f.rU.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",E,f.rU.passiveCapture))}!0===g.Lp.is.desktop&&!0===g.Lp.is.mac&&window[`${t}EventListener`]("wheel",k,f.rU.notPassive),"remove"===t&&(!0===g.Lp.is.ios&&(!0===n?(window.visualViewport.removeEventListener("resize",T,f.rU.passiveCapture),window.visualViewport.removeEventListener("scroll",T,f.rU.passiveCapture)):window.removeEventListener("scroll",E,f.rU.passiveCapture)),e.classList.remove("q-body--prevent-scroll"),e.classList.remove("q-body--force-scrollbar-x"),e.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,e.style.left=b,e.style.top=w,window.scrollTo(m,v),y=void 0)}function A(t){let e="add";if(!0===t){if(x++,void 0!==_)return clearTimeout(_),void(_=void 0);if(x>1)return}else{if(0===x)return;if(x--,x>0)return;if(e="remove",!0===g.Lp.is.ios&&!0===g.Lp.is.nativeMobile)return clearTimeout(_),void(_=setTimeout((()=>{C(e),_=void 0}),100))}C(e)}function M(){let t;return{preventBodyScroll(e){e===t||void 0===t&&!0!==e||(t=e,A(e))}}}var D=n(3856),O=n(6145),P=n(64),R=n(1135),L=n(7001),N=n(6146);let F=0;const V={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},q={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var B=(0,D.L)({name:"QDialog",inheritAttrs:!1,props:{...u.vr,...h.D,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:t=>"standard"===t||["top","bottom","left","right"].includes(t)}},emits:[...u.gH,"shake","click","escapeKey"],setup(t,{slots:e,emit:n,attrs:o}){const f=(0,i.FN)(),p=(0,r.iH)(null),g=(0,r.iH)(!1),m=(0,r.iH)(!1);let v,y,b,w=null;const _=(0,i.Fl)((()=>!0!==t.persistent&&!0!==t.noRouteDismiss&&!0!==t.seamless)),{preventBodyScroll:x}=M(),{registerTimeout:S}=(0,l.Z)(),{registerTick:k,removeTick:I}=(0,c.Z)(),{transitionProps:E,transitionStyle:T}=(0,h.Z)(t,(()=>q[t.position][0]),(()=>q[t.position][1])),{showPortal:C,hidePortal:A,portalIsAccessible:D,renderPortal:B}=(0,d.Z)(f,p,st,!0),{hide:j}=(0,u.ZP)({showing:g,hideOnRouteChange:_,handleShow:G,handleHide:Y,processOnMount:!0}),{addToHistory:z,removeFromHistory:U}=a(g,j,_),$=(0,i.Fl)((()=>"q-dialog__inner flex no-pointer-events q-dialog__inner--"+(!0===t.maximized?"maximized":"minimized")+` q-dialog__inner--${t.position} ${V[t.position]}`+(!0===m.value?" q-dialog__inner--animating":"")+(!0===t.fullWidth?" q-dialog__inner--fullwidth":"")+(!0===t.fullHeight?" q-dialog__inner--fullheight":"")+(!0===t.square?" q-dialog__inner--square":""))),H=(0,i.Fl)((()=>!0===g.value&&!0!==t.seamless)),W=(0,i.Fl)((()=>!0===t.autoClose?{onClick:et}:{})),K=(0,i.Fl)((()=>["q-dialog fullscreen no-pointer-events q-dialog--"+(!0===H.value?"modal":"seamless"),o.class]));function G(e){z(),w=!1===t.noRefocus&&null!==document.activeElement?document.activeElement:null,tt(t.maximized),C(),m.value=!0,!0!==t.noFocus?(null!==document.activeElement&&document.activeElement.blur(),k(Q)):I(),S((()=>{if(!0===f.proxy.$q.platform.is.ios){if(!0!==t.seamless&&document.activeElement){const{top:t,bottom:e}=document.activeElement.getBoundingClientRect(),{innerHeight:n}=window,i=void 0!==window.visualViewport?window.visualViewport.height:n;t>0&&e>i/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-i,e>=n?1/0:Math.ceil(document.scrollingElement.scrollTop+e-i/2))),document.activeElement.scrollIntoView()}b=!0,p.value.click(),b=!1}C(!0),m.value=!1,n("show",e)}),t.transitionDuration)}function Y(e){I(),U(),J(!0),m.value=!0,A(),null!==w&&(((e&&0===e.type.indexOf("key")?w.closest('[tabindex]:not([tabindex^="-"])'):void 0)||w).focus(),w=null),S((()=>{A(!0),m.value=!1,n("hide",e)}),t.transitionDuration)}function Q(t){(0,N.jd)((()=>{let e=p.value;null!==e&&!0!==e.contains(document.activeElement)&&(e=(""!==t?e.querySelector(t):null)||e.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||e.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||e.querySelector("[autofocus], [data-autofocus]")||e,e.focus({preventScroll:!0}))}))}function X(t){t&&"function"===typeof t.focus?t.focus({preventScroll:!0}):Q(),n("shake");const e=p.value;null!==e&&(e.classList.remove("q-animate--scale"),e.classList.add("q-animate--scale"),clearTimeout(v),v=setTimeout((()=>{null!==p.value&&(e.classList.remove("q-animate--scale"),Q())}),170))}function Z(){!0!==t.seamless&&(!0===t.persistent||!0===t.noEscDismiss?!0!==t.maximized&&!0!==t.noShake&&X():(n("escapeKey"),j()))}function J(e){clearTimeout(v),!0!==e&&!0!==g.value||(tt(!1),!0!==t.seamless&&(x(!1),(0,L.H)(it),(0,R.k)(Z))),!0!==e&&(w=null)}function tt(t){!0===t?!0!==y&&(F<1&&document.body.classList.add("q-body--dialog"),F++,y=!0):!0===y&&(F<2&&document.body.classList.remove("q-body--dialog"),F--,y=!1)}function et(t){!0!==b&&(j(t),n("click",t))}function nt(e){!0!==t.persistent&&!0!==t.noBackdropDismiss?j(e):!0!==t.noShake&&X(e.relatedTarget)}function it(e){!0!==t.allowFocusOutside&&!0===D.value&&!0!==(0,O.mY)(p.value,e.target)&&Q('[tabindex]:not([tabindex="-1"])')}(0,i.YP)((()=>t.maximized),(t=>{!0===g.value&&tt(t)})),(0,i.YP)(H,(t=>{x(t),!0===t?((0,L.i)(it),(0,R.c)(Z)):((0,L.H)(it),(0,R.k)(Z))})),Object.assign(f.proxy,{focus:Q,shake:X,__updateRefocusTarget(t){w=t||null}}),(0,i.Jd)(J);const rt=!0===f.proxy.$q.platform.is.ios?"onClick":"onFocusin";function st(){return(0,i.h)("div",{role:"dialog","aria-modal":!0===H.value?"true":"false",...o,class:K.value},[(0,i.h)(s.uT,{name:"q-transition--fade",appear:!0},(()=>!0===H.value?(0,i.h)("div",{class:"q-dialog__backdrop fixed-full",style:T.value,"aria-hidden":"true",tabindex:-1,[rt]:nt}):null)),(0,i.h)(s.uT,E.value,(()=>!0===g.value?(0,i.h)("div",{ref:p,class:$.value,style:T.value,tabindex:-1,...W.value},(0,P.KR)(e.default)):null))])}return B}})},7454:function(t,e,n){"use strict";n(4719);var i=n(9269),r=n(6237),s=n(5722),o=n(3856),a=n(64),l=n(4300);e["Z"]=(0,o.L)({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:e,emit:n}){const{proxy:{$q:o}}=(0,i.FN)(),c=(0,i.f3)(l.YE,l.qO);if(c===l.qO)return console.error("QHeader needs to be child of QLayout"),l.qO;const u=(0,r.iH)(parseInt(t.heightHint,10)),h=(0,r.iH)(!0),d=(0,i.Fl)((()=>!0===t.reveal||c.view.value.indexOf("H")>-1||o.platform.is.ios&&!0===c.isContainer.value)),f=(0,i.Fl)((()=>{if(!0!==t.modelValue)return 0;if(!0===d.value)return!0===h.value?u.value:0;const e=u.value-c.scroll.value.position;return e>0?e:0})),p=(0,i.Fl)((()=>!0!==t.modelValue||!0===d.value&&!0!==h.value)),g=(0,i.Fl)((()=>!0===t.modelValue&&!0===p.value&&!0===t.reveal)),m=(0,i.Fl)((()=>"q-header q-layout__section--marginal "+(!0===d.value?"fixed":"absolute")+"-top"+(!0===t.bordered?" q-header--bordered":"")+(!0===p.value?" q-header--hidden":"")+(!0!==t.modelValue?" q-layout--prevent-focus":""))),v=(0,i.Fl)((()=>{const t=c.rows.value.top,e={};return"l"===t[0]&&!0===c.left.space&&(e[!0===o.lang.rtl?"right":"left"]=`${c.left.size}px`),"r"===t[2]&&!0===c.right.space&&(e[!0===o.lang.rtl?"left":"right"]=`${c.right.size}px`),e}));function y(t,e){c.update("header",t,e)}function b(t,e){t.value!==e&&(t.value=e)}function w({height:t}){b(u,t),y("size",t)}function _(t){!0===g.value&&b(h,!0),n("focusin",t)}(0,i.YP)((()=>t.modelValue),(t=>{y("space",t),b(h,!0),c.animate()})),(0,i.YP)(f,(t=>{y("offset",t)})),(0,i.YP)((()=>t.reveal),(e=>{!1===e&&b(h,t.modelValue)})),(0,i.YP)(h,(t=>{c.animate(),n("reveal",t)})),(0,i.YP)(c.scroll,(e=>{!0===t.reveal&&b(h,"up"===e.direction||e.position<=t.revealOffset||e.position-e.inflectionPoint<100)}));const x={};return c.instances.header=x,!0===t.modelValue&&y("size",u.value),y("space",t.modelValue),y("offset",f.value),(0,i.Jd)((()=>{c.instances.header===x&&(c.instances.header=void 0,y("size",0),y("offset",0),y("space",!1))})),()=>{const n=(0,a.Bl)(e.default,[]);return!0===t.elevated&&n.push((0,i.h)("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),n.push((0,i.h)(s.Z,{debounce:0,onResize:w})),(0,i.h)("header",{class:m.value,style:v.value,onFocusin:_},n)}}})},4633:function(t,e,n){"use strict";var i=n(9269),r=n(505),s=n(3856),o=n(64);const a="0 0 24 24",l=t=>t,c=t=>`ionicons ${t}`,u={"mdi-":t=>`mdi ${t}`,"icon-":l,"bt-":t=>`bt ${t}`,"eva-":t=>`eva ${t}`,"ion-md":c,"ion-ios":c,"ion-logo":c,"iconfont ":l,"ti-":t=>`themify-icon ${t}`,"bi-":t=>`bootstrap-icons ${t}`},h={o_:"-outlined",r_:"-round",s_:"-sharp"},d={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},f=new RegExp("^("+Object.keys(u).join("|")+")"),p=new RegExp("^("+Object.keys(h).join("|")+")"),g=new RegExp("^("+Object.keys(d).join("|")+")"),m=/^[Mm]\s?[-+]?\.?\d/,v=/^img:/,y=/^svguse:/,b=/^ion-/,w=/^(fa-(solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /;e["Z"]=(0,s.L)({name:"QIcon",props:{...r.LU,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(t,{slots:e}){const{proxy:{$q:n}}=(0,i.FN)(),s=(0,r.ZP)(t),l=(0,i.Fl)((()=>"q-icon"+(!0===t.left?" on-left":"")+(!0===t.right?" on-right":"")+(void 0!==t.color?` text-${t.color}`:""))),c=(0,i.Fl)((()=>{let e,r=t.name;if("none"===r||!r)return{none:!0};if(null!==n.iconMapFn){const t=n.iconMapFn(r);if(void 0!==t){if(void 0===t.icon)return{cls:t.cls,content:void 0!==t.content?t.content:" "};if(r=t.icon,"none"===r||!r)return{none:!0}}}if(!0===m.test(r)){const[t,e=a]=r.split("|");return{svg:!0,viewBox:e,nodes:t.split("&&").map((t=>{const[e,n,r]=t.split("@@");return(0,i.h)("path",{style:n,d:e,transform:r})}))}}if(!0===v.test(r))return{img:!0,src:r.substring(4)};if(!0===y.test(r)){const[t,e=a]=r.split("|");return{svguse:!0,src:t.substring(7),viewBox:e}}let s=" ";const o=r.match(f);if(null!==o)e=u[o[1]](r);else if(!0===w.test(r))e=r;else if(!0===b.test(r))e=`ionicons ion-${!0===n.platform.is.ios?"ios":"md"}${r.substring(3)}`;else if(!0===g.test(r)){e="notranslate material-symbols";const t=r.match(g);null!==t&&(r=r.substring(6),e+=d[t[1]]),s=r}else{e="notranslate material-icons";const t=r.match(p);null!==t&&(r=r.substring(2),e+=h[t[1]]),s=r}return{cls:e,content:s}}));return()=>{const n={class:l.value,style:s.value,"aria-hidden":"true",role:"presentation"};return!0===c.value.none?(0,i.h)(t.tag,n,(0,o.KR)(e.default)):!0===c.value.img?(0,i.h)("span",n,(0,o.vs)(e.default,[(0,i.h)("img",{src:c.value.src})])):!0===c.value.svg?(0,i.h)("span",n,(0,o.vs)(e.default,[(0,i.h)("svg",{viewBox:c.value.viewBox||"0 0 24 24"},c.value.nodes)])):!0===c.value.svguse?(0,i.h)("span",n,(0,o.vs)(e.default,[(0,i.h)("svg",{viewBox:c.value.viewBox},[(0,i.h)("use",{"xlink:href":c.value.src})])])):(void 0!==c.value.cls&&(n.class+=" "+c.value.cls),(0,i.h)(t.tag,n,(0,o.vs)(e.default,[c.value.content])))}}})},5246:function(t,e,n){"use strict";n(3352);var i=n(9269),r=n(6237),s=n(6597),o=n(2453),a=n(3856),l=n(64),c=n(3027),u=n(6809);e["Z"]=(0,a.L)({name:"QItem",props:{...s.S,...o.$,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(t,{slots:e,emit:n}){const{proxy:{$q:a}}=(0,i.FN)(),h=(0,s.Z)(t,a),{hasLink:d,linkAttrs:f,linkClass:p,linkTag:g,navigateOnClick:m}=(0,o.Z)(),v=(0,r.iH)(null),y=(0,r.iH)(null),b=(0,i.Fl)((()=>!0===t.clickable||!0===d.value||"label"===t.tag)),w=(0,i.Fl)((()=>!0!==t.disable&&!0===b.value)),_=(0,i.Fl)((()=>"q-item q-item-type row no-wrap"+(!0===t.dense?" q-item--dense":"")+(!0===h.value?" q-item--dark":"")+(!0===d.value&&null===t.active?p.value:!0===t.active?" q-item--active"+(void 0!==t.activeClass?` ${t.activeClass}`:""):"")+(!0===t.disable?" disabled":"")+(!0===w.value?" q-item--clickable q-link cursor-pointer "+(!0===t.manualFocus?"q-manual-focusable":"q-focusable q-hoverable")+(!0===t.focused?" q-manual-focusable--focused":""):""))),x=(0,i.Fl)((()=>{if(void 0===t.insetLevel)return null;const e=!0===a.lang.rtl?"Right":"Left";return{["padding"+e]:16+56*t.insetLevel+"px"}}));function S(t){!0===w.value&&(null!==y.value&&(!0!==t.qKeyEvent&&document.activeElement===v.value?y.value.focus():document.activeElement===y.value&&v.value.focus()),m(t))}function k(t){if(!0===w.value&&!0===(0,u.So)(t,13)){(0,c.NS)(t),t.qKeyEvent=!0;const e=new MouseEvent("click",t);e.qKeyEvent=!0,v.value.dispatchEvent(e)}n("keyup",t)}function I(){const t=(0,l.Bl)(e.default,[]);return!0===w.value&&t.unshift((0,i.h)("div",{class:"q-focus-helper",tabindex:-1,ref:y})),t}return()=>{const e={ref:v,class:_.value,style:x.value,role:"listitem",onClick:S,onKeyup:k};return!0===w.value?(e.tabindex=t.tabindex||"0",Object.assign(e,f.value)):!0===b.value&&(e["aria-disabled"]="true"),(0,i.h)(g.value,e,I())}}})},3712:function(t,e,n){"use strict";var i=n(9269),r=n(3856),s=n(64);e["Z"]=(0,r.L)({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(t,{slots:e}){const n=(0,i.Fl)((()=>parseInt(t.lines,10))),r=(0,i.Fl)((()=>"q-item__label"+(!0===t.overline?" q-item__label--overline text-overline":"")+(!0===t.caption?" q-item__label--caption text-caption":"")+(!0===t.header?" q-item__label--header":"")+(1===n.value?" ellipsis":""))),o=(0,i.Fl)((()=>void 0!==t.lines&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null));return()=>(0,i.h)("div",{style:o.value,class:r.value},(0,s.KR)(e.default))}})},2278:function(t,e,n){"use strict";var i=n(9269),r=n(3856),s=n(64);e["Z"]=(0,r.L)({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(t,{slots:e}){const n=(0,i.Fl)((()=>"q-item__section column q-item__section--"+(!0===t.avatar||!0===t.side||!0===t.thumbnail?"side":"main")+(!0===t.top?" q-item__section--top justify-start":" justify-center")+(!0===t.avatar?" q-item__section--avatar":"")+(!0===t.thumbnail?" q-item__section--thumbnail":"")+(!0===t.noWrap?" q-item__section--nowrap":"")));return()=>(0,i.h)("div",{class:n.value},(0,s.KR)(e.default))}})},2146:function(t,e,n){"use strict";var i=n(9269),r=n(3856),s=n(6597),o=n(64);e["Z"]=(0,r.L)({name:"QList",props:{...s.S,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(t,{slots:e}){const n=(0,i.FN)(),r=(0,s.Z)(t,n.proxy.$q),a=(0,i.Fl)((()=>"q-list"+(!0===t.bordered?" q-list--bordered":"")+(!0===t.dense?" q-list--dense":"")+(!0===t.separator?" q-list--separator":"")+(!0===r.value?" q-list--dark":"")+(!0===t.padding?" q-list--padding":"")));return()=>(0,i.h)(t.tag,{class:a.value},(0,o.KR)(e.default))}})},2446:function(t,e,n){"use strict";n.d(e,{Z:function(){return g}});var i=n(9269),r=n(6237),s=n(1013),o=n(3856),a=n(7336),l=n(3027);const{passive:c}=l.rU,u=["both","horizontal","vertical"];var h=(0,o.L)({name:"QScrollObserver",props:{axis:{type:String,validator:t=>u.includes(t),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(t,{emit:e}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let r,s,o=null;function u(){null!==o&&o();const i=Math.max(0,(0,a.u3)(r)),s=(0,a.OI)(r),l={top:i-n.position.top,left:s-n.position.left};if("vertical"===t.axis&&0===l.top||"horizontal"===t.axis&&0===l.left)return;const c=Math.abs(l.top)>=Math.abs(l.left)?l.top<0?"up":"down":l.left<0?"left":"right";n.position={top:i,left:s},n.directionChanged=n.direction!==c,n.delta=l,!0===n.directionChanged&&(n.direction=c,n.inflectionPoint=n.position),e("scroll",{...n})}function h(){r=(0,a.b0)(s,t.scrollTarget),r.addEventListener("scroll",f,c),f(!0)}function d(){void 0!==r&&(r.removeEventListener("scroll",f,c),r=void 0)}function f(e){if(!0===e||0===t.debounce||"0"===t.debounce)u();else if(null===o){const[e,n]=t.debounce?[setTimeout(u,t.debounce),clearTimeout]:[requestAnimationFrame(u),cancelAnimationFrame];o=()=>{n(e),o=null}}}(0,i.YP)((()=>t.scrollTarget),(()=>{d(),h()}));const{proxy:p}=(0,i.FN)();return(0,i.YP)((()=>p.$q.lang.rtl),u),(0,i.bv)((()=>{s=p.$el.parentNode,h()})),(0,i.Jd)((()=>{null!==o&&o(),d()})),Object.assign(p,{trigger:f,getPosition:()=>n}),l.ZT}}),d=n(5722),f=n(64),p=n(4300),g=(0,o.L)({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:e,emit:n}){const{proxy:{$q:o}}=(0,i.FN)(),l=(0,r.iH)(null),c=(0,r.iH)(o.screen.height),u=(0,r.iH)(!0===t.container?0:o.screen.width),g=(0,r.iH)({position:0,direction:"down",inflectionPoint:0}),m=(0,r.iH)(0),v=(0,r.iH)(!0===s.uX.value?0:(0,a.np)()),y=(0,i.Fl)((()=>"q-layout q-layout--"+(!0===t.container?"containerized":"standard"))),b=(0,i.Fl)((()=>!1===t.container?{minHeight:o.screen.height+"px"}:null)),w=(0,i.Fl)((()=>0!==v.value?{[!0===o.lang.rtl?"left":"right"]:`${v.value}px`}:null)),_=(0,i.Fl)((()=>0!==v.value?{[!0===o.lang.rtl?"right":"left"]:0,[!0===o.lang.rtl?"left":"right"]:`-${v.value}px`,width:`calc(100% + ${v.value}px)`}:null));function x(e){if(!0===t.container||!0!==document.qScrollPrevented){const i={position:e.position.top,direction:e.direction,directionChanged:e.directionChanged,inflectionPoint:e.inflectionPoint.top,delta:e.delta.top};g.value=i,void 0!==t.onScroll&&n("scroll",i)}}function S(e){const{height:i,width:r}=e;let s=!1;c.value!==i&&(s=!0,c.value=i,void 0!==t.onScrollHeight&&n("scrollHeight",i),I()),u.value!==r&&(s=!0,u.value=r),!0===s&&void 0!==t.onResize&&n("resize",e)}function k({height:t}){m.value!==t&&(m.value=t,I())}function I(){if(!0===t.container){const t=c.value>m.value?(0,a.np)():0;v.value!==t&&(v.value=t)}}let E;const T={instances:{},view:(0,i.Fl)((()=>t.view)),isContainer:(0,i.Fl)((()=>t.container)),rootRef:l,height:c,containerHeight:m,scrollbarWidth:v,totalWidth:(0,i.Fl)((()=>u.value+v.value)),rows:(0,i.Fl)((()=>{const e=t.view.toLowerCase().split(" ");return{top:e[0].split(""),middle:e[1].split(""),bottom:e[2].split("")}})),header:(0,r.qj)({size:0,offset:0,space:!1}),right:(0,r.qj)({size:300,offset:0,space:!1}),footer:(0,r.qj)({size:0,offset:0,space:!1}),left:(0,r.qj)({size:300,offset:0,space:!1}),scroll:g,animate(){void 0!==E?clearTimeout(E):document.body.classList.add("q-body--layout-animate"),E=setTimeout((()=>{document.body.classList.remove("q-body--layout-animate"),E=void 0}),155)},update(t,e,n){T[t][e]=n}};if((0,i.JJ)(p.YE,T),(0,a.np)()>0){let C=null;const A=document.body;function M(){C=null,A.classList.remove("hide-scrollbar")}function D(){if(null===C){if(A.scrollHeight>o.screen.height)return;A.classList.add("hide-scrollbar")}else clearTimeout(C);C=setTimeout(M,300)}function O(t){null!==C&&"remove"===t&&(clearTimeout(C),M()),window[`${t}EventListener`]("resize",D)}(0,i.YP)((()=>!0!==t.container?"add":"remove"),O),!0!==t.container&&O("add"),(0,i.Ah)((()=>{O("remove")}))}return()=>{const n=(0,f.vs)(e.default,[(0,i.h)(h,{onScroll:x}),(0,i.h)(d.Z,{onResize:S})]),r=(0,i.h)("div",{class:y.value,style:b.value,ref:!0===t.container?void 0:l,tabindex:-1},n);return!0===t.container?(0,i.h)("div",{class:"q-layout-container overflow-hidden",ref:l},[(0,i.h)(d.Z,{onResize:k}),(0,i.h)("div",{class:"absolute-full",style:w.value},[(0,i.h)("div",{class:"scroll",style:_.value},[r])])]):r}}})},5645:function(t,e,n){"use strict";n.d(e,{Z:function(){return U}});var i=n(9269),r=n(6237),s=n(5102),o=n(1013);function a(){if(void 0!==window.getSelection){const t=window.getSelection();void 0!==t.empty?t.empty():void 0!==t.removeAllRanges&&(t.removeAllRanges(),!0!==o.ZP.is.mobile&&t.addRange(document.createRange()))}else void 0!==document.selection&&document.selection.empty()}var l=n(3027),c=n(6809);const u={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function h({showing:t,avoidEmit:e,configureAnchorEl:n}){const{props:s,proxy:o,emit:u}=(0,i.FN)(),h=(0,r.iH)(null);let d;function f(t){return null!==h.value&&(void 0===t||void 0===t.touches||t.touches.length<=1)}const p={};function g(){(0,l.ul)(p,"anchor")}function m(t){h.value=t;while(h.value.classList.contains("q-anchor--skip"))h.value=h.value.parentNode;n()}function v(){if(!1===s.target||""===s.target||null===o.$el.parentNode)h.value=null;else if(!0===s.target)m(o.$el.parentNode);else{let e=s.target;if("string"===typeof s.target)try{e=document.querySelector(s.target)}catch(t){e=void 0}void 0!==e&&null!==e?(h.value=e.$el||e,n()):(h.value=null,console.error(`Anchor: target "${s.target}" not found`))}}return void 0===n&&(Object.assign(p,{hide(t){o.hide(t)},toggle(t){o.toggle(t),t.qAnchorHandled=!0},toggleKey(t){!0===(0,c.So)(t,13)&&p.toggle(t)},contextClick(t){o.hide(t),(0,l.X$)(t),(0,i.Y3)((()=>{o.show(t),t.qAnchorHandled=!0}))},prevent:l.X$,mobileTouch(t){if(p.mobileCleanup(t),!0!==f(t))return;o.hide(t),h.value.classList.add("non-selectable");const e=t.target;(0,l.M0)(p,"anchor",[[e,"touchmove","mobileCleanup","passive"],[e,"touchend","mobileCleanup","passive"],[e,"touchcancel","mobileCleanup","passive"],[h.value,"contextmenu","prevent","notPassive"]]),d=setTimeout((()=>{o.show(t),t.qAnchorHandled=!0}),300)},mobileCleanup(e){h.value.classList.remove("non-selectable"),clearTimeout(d),!0===t.value&&void 0!==e&&a()}}),n=function(t=s.contextMenu){if(!0===s.noParentEvent||null===h.value)return;let e;e=!0===t?!0===o.$q.platform.is.mobile?[[h.value,"touchstart","mobileTouch","passive"]]:[[h.value,"mousedown","hide","passive"],[h.value,"contextmenu","contextClick","notPassive"]]:[[h.value,"click","toggle","passive"],[h.value,"keyup","toggleKey","passive"]],(0,l.M0)(p,"anchor",e)}),(0,i.YP)((()=>s.contextMenu),(t=>{null!==h.value&&(g(),n(t))})),(0,i.YP)((()=>s.target),(()=>{null!==h.value&&g(),v()})),(0,i.YP)((()=>s.noParentEvent),(t=>{null!==h.value&&(!0===t?g():n())})),(0,i.bv)((()=>{v(),!0!==e&&!0===s.modelValue&&null===h.value&&u("update:modelValue",!1)})),(0,i.Jd)((()=>{clearTimeout(d),g()})),{anchorEl:h,canShow:f,anchorEvents:p}}function d(t,e){const n=(0,r.iH)(null);let s;function o(t,e){const n=(void 0!==e?"add":"remove")+"EventListener",i=void 0!==e?e:s;t!==window&&t[n]("scroll",i,l.rU.passive),window[n]("scroll",i,l.rU.passive),s=e}function a(){null!==n.value&&(o(n.value),n.value=null)}const c=(0,i.YP)((()=>t.noParentEvent),(()=>{null!==n.value&&(a(),e())}));return(0,i.Jd)(c),{localScrollTarget:n,unconfigureScrollTarget:a,changeScrollEvent:o}}var f=n(9216),p=n(6597),g=n(2130),m=n(959),v=n(6775),y=n(7933),b=n(3856),w=n(1761),_=n(7336),x=n(64),S=n(1135),k=n(7001),I=n(6145);n(4719);let E;const{notPassiveCapture:T}=l.rU,C=[];function A(t){clearTimeout(E);const e=t.target;if(void 0===e||8===e.nodeType||!0===e.classList.contains("no-pointer-events"))return;let n=w.Q$.length-1;while(n>=0){const t=w.Q$[n].$;if("QDialog"!==t.type.name)break;if(!0!==t.props.seamless)return;n--}for(let i=C.length-1;i>=0;i--){const n=C[i];if(null!==n.anchorEl.value&&!1!==n.anchorEl.value.contains(e)||e!==document.body&&(null===n.innerRef.value||!1!==n.innerRef.value.contains(e)))return;t.qClickOutside=!0,n.onClickOutside(t)}}function M(t){C.push(t),1===C.length&&(document.addEventListener("mousedown",A,T),document.addEventListener("touchstart",A,T))}function D(t){const e=C.findIndex((e=>e===t));e>-1&&(C.splice(e,1),0===C.length&&(clearTimeout(E),document.removeEventListener("mousedown",A,T),document.removeEventListener("touchstart",A,T)))}var O=n(6146);let P,R;function L(t){const e=t.split(" ");return 2===e.length&&(!0!==["top","center","bottom"].includes(e[0])?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):!0===["left","middle","right","start","end"].includes(e[1])||(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1))}function N(t){return!t||2===t.length&&("number"===typeof t[0]&&"number"===typeof t[1])}const F={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};function V(t,e){const n=t.split(" ");return{vertical:n[0],horizontal:F[`${n[1]}#${!0===e?"rtl":"ltr"}`]}}function q(t,e){let{top:n,left:i,right:r,bottom:s,width:o,height:a}=t.getBoundingClientRect();return void 0!==e&&(n-=e[1],i-=e[0],s+=e[1],r+=e[0],o+=e[0],a+=e[1]),{top:n,left:i,right:r,bottom:s,width:o,height:a,middle:i+(r-i)/2,center:n+(s-n)/2}}function B(t){return{top:0,center:t.offsetHeight/2,bottom:t.offsetHeight,left:0,middle:t.offsetWidth/2,right:t.offsetWidth}}function j(t){if(!0===o.Lp.is.ios&&void 0!==window.visualViewport){const t=document.body.style,{offsetLeft:e,offsetTop:n}=window.visualViewport;e!==P&&(t.setProperty("--q-pe-left",e+"px"),P=e),n!==R&&(t.setProperty("--q-pe-top",n+"px"),R=n)}let e;const{scrollLeft:n,scrollTop:i}=t.el;if(void 0===t.absoluteOffset)e=q(t.anchorEl,!0===t.cover?[0,0]:t.offset);else{const{top:n,left:i}=t.anchorEl.getBoundingClientRect(),r=n+t.absoluteOffset.top,s=i+t.absoluteOffset.left;e={top:r,left:s,width:1,height:1,right:s+1,center:r,middle:s,bottom:r+1}}let r={maxHeight:t.maxHeight,maxWidth:t.maxWidth,visibility:"visible"};!0!==t.fit&&!0!==t.cover||(r.minWidth=e.width+"px",!0===t.cover&&(r.minHeight=e.height+"px")),Object.assign(t.el.style,r);const s=B(t.el),a={top:e[t.anchorOrigin.vertical]-s[t.selfOrigin.vertical],left:e[t.anchorOrigin.horizontal]-s[t.selfOrigin.horizontal]};z(a,e,s,t.anchorOrigin,t.selfOrigin),r={top:a.top+"px",left:a.left+"px"},void 0!==a.maxHeight&&(r.maxHeight=a.maxHeight+"px",e.height>a.maxHeight&&(r.minHeight=r.maxHeight)),void 0!==a.maxWidth&&(r.maxWidth=a.maxWidth+"px",e.width>a.maxWidth&&(r.minWidth=r.maxWidth)),Object.assign(t.el.style,r),t.el.scrollTop!==i&&(t.el.scrollTop=i),t.el.scrollLeft!==n&&(t.el.scrollLeft=n)}function z(t,e,n,i,r){const s=n.bottom,o=n.right,a=(0,_.np)(),l=window.innerHeight-a,c=document.body.clientWidth;if(t.top<0||t.top+s>l)if("center"===r.vertical)t.top=e[i.vertical]>l/2?Math.max(0,l-s):0,t.maxHeight=Math.min(s,l);else if(e[i.vertical]>l/2){const n=Math.min(l,"center"===i.vertical?e.center:i.vertical===r.vertical?e.bottom:e.top);t.maxHeight=Math.min(s,n),t.top=Math.max(0,n-s)}else t.top=Math.max(0,"center"===i.vertical?e.center:i.vertical===r.vertical?e.top:e.bottom),t.maxHeight=Math.min(s,l-t.top);if(t.left<0||t.left+o>c)if(t.maxWidth=Math.min(o,c),"middle"===r.horizontal)t.left=e[i.horizontal]>c/2?Math.max(0,c-o):0;else if(e[i.horizontal]>c/2){const n=Math.min(c,"middle"===i.horizontal?e.middle:i.horizontal===r.horizontal?e.right:e.left);t.maxWidth=Math.min(o,n),t.left=Math.max(0,n-t.maxWidth)}else t.left=Math.max(0,"middle"===i.horizontal?e.middle:i.horizontal===r.horizontal?e.left:e.right),t.maxWidth=Math.min(o,c-t.left)}["left","middle","right"].forEach((t=>{F[`${t}#ltr`]=t,F[`${t}#rtl`]=t}));var U=(0,b.L)({name:"QMenu",inheritAttrs:!1,props:{...u,...f.vr,...p.S,...m.D,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:L},self:{type:String,validator:L},offset:{type:Array,validator:N},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...f.gH,"click","escapeKey"],setup(t,{slots:e,emit:n,attrs:o}){let a,c,u,b=null;const E=(0,i.FN)(),{proxy:T}=E,{$q:C}=T,A=(0,r.iH)(null),P=(0,r.iH)(!1),R=(0,i.Fl)((()=>!0!==t.persistent&&!0!==t.noRouteDismiss)),L=(0,p.Z)(t,C),{registerTick:N,removeTick:F}=(0,v.Z)(),{registerTimeout:q}=(0,y.Z)(),{transitionProps:B,transitionStyle:z}=(0,m.Z)(t),{localScrollTarget:U,changeScrollEvent:$,unconfigureScrollTarget:H}=d(t,lt),{anchorEl:W,canShow:K}=h({showing:P}),{hide:G}=(0,f.ZP)({showing:P,canShow:K,handleShow:st,handleHide:ot,hideOnRouteChange:R,processOnMount:!0}),{showPortal:Y,hidePortal:Q,renderPortal:X}=(0,g.Z)(E,A,ft),Z={anchorEl:W,innerRef:A,onClickOutside(e){if(!0!==t.persistent&&!0===P.value)return G(e),("touchstart"===e.type||e.target.classList.contains("q-dialog__backdrop"))&&(0,l.NS)(e),!0}},J=(0,i.Fl)((()=>V(t.anchor||(!0===t.cover?"center middle":"bottom start"),C.lang.rtl))),tt=(0,i.Fl)((()=>!0===t.cover?J.value:V(t.self||"top start",C.lang.rtl))),et=(0,i.Fl)((()=>(!0===t.square?" q-menu--square":"")+(!0===L.value?" q-menu--dark q-dark":""))),nt=(0,i.Fl)((()=>!0===t.autoClose?{onClick:ct}:{})),it=(0,i.Fl)((()=>!0===P.value&&!0!==t.persistent));function rt(){(0,O.jd)((()=>{let t=A.value;t&&!0!==t.contains(document.activeElement)&&(t=t.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))}))}function st(e){if(b=!1===t.noRefocus?document.activeElement:null,(0,k.i)(ut),Y(),lt(),a=void 0,void 0!==e&&(t.touchPosition||t.contextMenu)){const t=(0,l.FK)(e);if(void 0!==t.left){const{top:e,left:n}=W.value.getBoundingClientRect();a={left:t.left-n,top:t.top-e}}}void 0===c&&(c=(0,i.YP)((()=>C.screen.width+"|"+C.screen.height+"|"+t.self+"|"+t.anchor+"|"+C.lang.rtl),dt)),!0!==t.noFocus&&document.activeElement.blur(),N((()=>{dt(),!0!==t.noFocus&&rt()})),q((()=>{!0===C.platform.is.ios&&(u=t.autoClose,A.value.click()),dt(),Y(!0),n("show",e)}),t.transitionDuration)}function ot(e){F(),Q(),at(!0),null===b||void 0!==e&&!0===e.qClickOutside||(((e&&0===e.type.indexOf("key")?b.closest('[tabindex]:not([tabindex^="-"])'):void 0)||b).focus(),b=null),q((()=>{Q(!0),n("hide",e)}),t.transitionDuration)}function at(t){a=void 0,void 0!==c&&(c(),c=void 0),!0!==t&&!0!==P.value||((0,k.H)(ut),H(),D(Z),(0,S.k)(ht)),!0!==t&&(b=null)}function lt(){null===W.value&&void 0===t.scrollTarget||(U.value=(0,_.b0)(W.value,t.scrollTarget),$(U.value,dt))}function ct(t){!0!==u?((0,w.AH)(T,t),n("click",t)):u=!1}function ut(e){!0===it.value&&!0!==t.noFocus&&!0!==(0,I.mY)(A.value,e.target)&&rt()}function ht(t){n("escapeKey"),G(t)}function dt(){const e=A.value;null!==e&&null!==W.value&&j({el:e,offset:t.offset,anchorEl:W.value,anchorOrigin:J.value,selfOrigin:tt.value,absoluteOffset:a,fit:t.fit,cover:t.cover,maxHeight:t.maxHeight,maxWidth:t.maxWidth})}function ft(){return(0,i.h)(s.uT,B.value,(()=>!0===P.value?(0,i.h)("div",{role:"menu",...o,ref:A,tabindex:-1,class:["q-menu q-position-engine scroll"+et.value,o.class],style:[o.style,z.value],...nt.value},(0,x.KR)(e.default)):null))}return(0,i.YP)(it,(t=>{!0===t?((0,S.c)(ht),M(Z)):((0,S.k)(ht),D(Z))})),(0,i.Jd)(at),Object.assign(T,{focus:rt,updatePosition:dt}),X}})},8906:function(t,e,n){"use strict";var i=n(9269),r=n(3856),s=n(64),o=n(4300);e["Z"]=(0,r.L)({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:e}){const{proxy:{$q:n}}=(0,i.FN)(),r=(0,i.f3)(o.YE,o.qO);if(r===o.qO)return console.error("QPage needs to be a deep child of QLayout"),o.qO;const a=(0,i.f3)(o.Mw,o.qO);if(a===o.qO)return console.error("QPage needs to be child of QPageContainer"),o.qO;const l=(0,i.Fl)((()=>{const e=(!0===r.header.space?r.header.size:0)+(!0===r.footer.space?r.footer.size:0);if("function"===typeof t.styleFn){const i=!0===r.isContainer.value?r.containerHeight.value:n.screen.height;return t.styleFn(e,i)}return{minHeight:!0===r.isContainer.value?r.containerHeight.value-e+"px":0===n.screen.height?0!==e?`calc(100vh - ${e}px)`:"100vh":n.screen.height-e+"px"}})),c=(0,i.Fl)((()=>"q-page"+(!0===t.padding?" q-layout-padding":"")));return()=>(0,i.h)("main",{class:c.value,style:l.value},(0,s.KR)(e.default))}})},6974:function(t,e,n){"use strict";var i=n(9269),r=n(3856),s=n(64),o=n(4300);e["Z"]=(0,r.L)({name:"QPageContainer",setup(t,{slots:e}){const{proxy:{$q:n}}=(0,i.FN)(),r=(0,i.f3)(o.YE,o.qO);if(r===o.qO)return console.error("QPageContainer needs to be child of QLayout"),o.qO;(0,i.JJ)(o.Mw,!0);const a=(0,i.Fl)((()=>{const t={};return!0===r.header.space&&(t.paddingTop=`${r.header.size}px`),!0===r.right.space&&(t["padding"+(!0===n.lang.rtl?"Left":"Right")]=`${r.right.size}px`),!0===r.footer.space&&(t.paddingBottom=`${r.footer.size}px`),!0===r.left.space&&(t["padding"+(!0===n.lang.rtl?"Right":"Left")]=`${r.left.size}px`),t}));return()=>(0,i.h)("div",{class:"q-page-container",style:a.value},(0,s.KR)(e.default))}})},5722:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var i=n(9269),r=n(6237),s=n(1013);function o(){const t=(0,r.iH)(!s.uX.value);return!1===t.value&&(0,i.bv)((()=>{t.value=!0})),t}var a=n(3856),l=n(3027);const c="undefined"!==typeof ResizeObserver,u=!0===c?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var h=(0,a.L)({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:e}){let n,r=null,s={width:-1,height:-1};function a(e){!0===e||0===t.debounce||"0"===t.debounce?h():null===r&&(r=setTimeout(h,t.debounce))}function h(){if(clearTimeout(r),r=null,n){const{offsetWidth:t,offsetHeight:i}=n;t===s.width&&i===s.height||(s={width:t,height:i},e("resize",s))}}const{proxy:d}=(0,i.FN)();if(!0===c){let f;const p=t=>{n=d.$el.parentNode,n?(f=new ResizeObserver(a),f.observe(n),h()):!0!==t&&(0,i.Y3)((()=>{p(!0)}))};return(0,i.bv)((()=>{p()})),(0,i.Jd)((()=>{clearTimeout(r),void 0!==f&&(void 0!==f.disconnect?f.disconnect():n&&f.unobserve(n))})),l.ZT}{const g=o();let m;function v(){clearTimeout(r),void 0!==m&&(void 0!==m.removeEventListener&&m.removeEventListener("resize",a,l.rU.passive),m=void 0)}function y(){v(),n&&n.contentDocument&&(m=n.contentDocument.defaultView,m.addEventListener("resize",a,l.rU.passive),h())}return(0,i.bv)((()=>{(0,i.Y3)((()=>{n=d.$el,n&&y()}))})),(0,i.Jd)(v),d.trigger=a,()=>{if(!0===g.value)return(0,i.h)("object",{style:u.style,tabindex:-1,type:"text/html",data:u.url,"aria-hidden":"true",onLoad:y})}}}})},4949:function(t,e,n){"use strict";n.d(e,{Z:function(){return E}});n(4719);var i=n(9269),r=n(6237),s=n(6632),o=n(3856),a=(0,o.L)({name:"QField",inheritAttrs:!1,props:s.Cl,emits:s.HJ,setup(){return(0,s.ZP)((0,s.tL)())}}),l=n(4633),c=n(1384),u=n(5246),h=n(2278),d=n(3712),f=n(5645),p=n(1682),g=n(722),m=n(9724),v=n(447),y=n(3704),b=n(3027),w=n(7328),_=n(6809),x=n(64);const S=t=>["add","add-unique","toggle"].includes(t),k=".*+?^${}()|[]\\",I=Object.keys(s.Cl);var E=(0,o.L)({name:"QSelect",inheritAttrs:!1,props:{...g.t9,...m.Fz,...s.Cl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:S},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:t=>["default","menu","dialog"].includes(t),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...s.HJ,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(t,{slots:e,emit:n}){const{proxy:o}=(0,i.FN)(),{$q:E}=o,T=(0,r.iH)(!1),C=(0,r.iH)(!1),A=(0,r.iH)(-1),M=(0,r.iH)(""),D=(0,r.iH)(!1),O=(0,r.iH)(!1);let P,R,L,N,F,V,q,B,j;const z=(0,r.iH)(null),U=(0,r.iH)(null),$=(0,r.iH)(null),H=(0,r.iH)(null),W=(0,r.iH)(null),K=(0,m.Do)(t),G=(0,v.Z)(Yt),Y=(0,i.Fl)((()=>Array.isArray(t.options)?t.options.length:0)),Q=(0,i.Fl)((()=>void 0===t.virtualScrollItemSize?!0===t.optionsDense?24:48:t.virtualScrollItemSize)),{virtualScrollSliceRange:X,virtualScrollSliceSizeComputed:Z,localResetVirtualScroll:J,padVirtualScroll:tt,onVirtualScrollEvt:et,scrollTo:nt,setVirtualScrollSize:it}=(0,g.vp)({virtualScrollLength:Y,getVirtualScrollTarget:Ht,getVirtualScrollEl:$t,virtualScrollItemSizeComputed:Q}),rt=(0,s.tL)(),st=(0,i.Fl)((()=>{const e=!0===t.mapOptions&&!0!==t.multiple,n=void 0===t.modelValue||null===t.modelValue&&!0!==e?[]:!0===t.multiple&&Array.isArray(t.modelValue)?t.modelValue:[t.modelValue];if(!0===t.mapOptions&&!0===Array.isArray(t.options)){const i=!0===t.mapOptions&&void 0!==R?R:[],r=n.map((t=>Nt(t,i)));return null===t.modelValue&&!0===e?r.filter((t=>null!==t)):r}return n})),ot=(0,i.Fl)((()=>{const e={};return I.forEach((n=>{const i=t[n];void 0!==i&&(e[n]=i)})),e})),at=(0,i.Fl)((()=>null===t.optionsDark?rt.isDark.value:t.optionsDark)),lt=(0,i.Fl)((()=>(0,s.yV)(st.value))),ct=(0,i.Fl)((()=>{let e="q-field__input q-placeholder col";return!0===t.hideSelected||0===st.value.length?[e,t.inputClass]:(e+=" q-field__input--padding",void 0===t.inputClass?e:[e,t.inputClass])})),ut=(0,i.Fl)((()=>(!0===t.virtualScrollHorizontal?"q-virtual-scroll--horizontal":"")+(t.popupContentClass?" "+t.popupContentClass:""))),ht=(0,i.Fl)((()=>0===Y.value)),dt=(0,i.Fl)((()=>st.value.map((t=>It.value(t))).join(", "))),ft=(0,i.Fl)((()=>void 0!==t.displayValue?t.displayValue:dt.value)),pt=(0,i.Fl)((()=>!0===t.optionsHtml?()=>!0:t=>void 0!==t&&null!==t&&!0===t.html)),gt=(0,i.Fl)((()=>!0===t.displayValueHtml||void 0===t.displayValue&&(!0===t.optionsHtml||st.value.some(pt.value)))),mt=(0,i.Fl)((()=>!0===rt.focused.value?t.tabindex:-1)),vt=(0,i.Fl)((()=>{const e={tabindex:t.tabindex,role:"combobox","aria-label":t.label,"aria-readonly":!0===t.readonly?"true":"false","aria-autocomplete":!0===t.useInput?"list":"none","aria-expanded":!0===T.value?"true":"false","aria-controls":`${rt.targetUid.value}_lb`};return A.value>=0&&(e["aria-activedescendant"]=`${rt.targetUid.value}_${A.value}`),e})),yt=(0,i.Fl)((()=>({id:`${rt.targetUid.value}_lb`,role:"listbox","aria-multiselectable":!0===t.multiple?"true":"false"}))),bt=(0,i.Fl)((()=>st.value.map(((t,e)=>({index:e,opt:t,html:pt.value(t),selected:!0,removeAtIndex:Dt,toggleOption:Pt,tabindex:mt.value}))))),wt=(0,i.Fl)((()=>{if(0===Y.value)return[];const{from:e,to:n}=X.value;return t.options.slice(e,n).map(((n,i)=>{const r=!0===Et.value(n),s=e+i,o={clickable:!0,active:!1,activeClass:St.value,manualFocus:!0,focused:!1,disable:r,tabindex:-1,dense:t.optionsDense,dark:at.value,role:"option",id:`${rt.targetUid.value}_${s}`,onClick:()=>{Pt(n)}};return!0!==r&&(!0===Vt(n)&&(o.active=!0),A.value===s&&(o.focused=!0),o["aria-selected"]=!0===o.active?"true":"false",!0===E.platform.is.desktop&&(o.onMousemove=()=>{!0===T.value&&Rt(s)})),{index:s,opt:n,html:pt.value(n),label:It.value(n),selected:o.active,focused:o.focused,toggleOption:Pt,setOptionIndex:Rt,itemProps:o}}))})),_t=(0,i.Fl)((()=>void 0!==t.dropdownIcon?t.dropdownIcon:E.iconSet.arrow.dropdown)),xt=(0,i.Fl)((()=>!1===t.optionsCover&&!0!==t.outlined&&!0!==t.standout&&!0!==t.borderless&&!0!==t.rounded)),St=(0,i.Fl)((()=>void 0!==t.optionsSelectedClass?t.optionsSelectedClass:void 0!==t.color?`text-${t.color}`:"")),kt=(0,i.Fl)((()=>Ft(t.optionValue,"value"))),It=(0,i.Fl)((()=>Ft(t.optionLabel,"label"))),Et=(0,i.Fl)((()=>Ft(t.optionDisable,"disable"))),Tt=(0,i.Fl)((()=>st.value.map((t=>kt.value(t))))),Ct=(0,i.Fl)((()=>{const t={onInput:Yt,onChange:G,onKeydown:Ut,onKeyup:jt,onKeypress:zt,onFocus:qt,onClick(t){!0===L&&(0,b.sT)(t)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=G,t}));function At(e){return!0===t.emitValue?kt.value(e):e}function Mt(e){if(e>-1&&e<st.value.length)if(!0===t.multiple){const i=t.modelValue.slice();n("remove",{index:e,value:i.splice(e,1)[0]}),n("update:modelValue",i)}else n("update:modelValue",null)}function Dt(t){Mt(t),rt.focus()}function Ot(e,i){const r=At(e);if(!0!==t.multiple)return!0===t.fillInput&&Xt(It.value(e),!0,!0),void n("update:modelValue",r);if(0===st.value.length)return n("add",{index:0,value:r}),void n("update:modelValue",!0===t.multiple?[r]:r);if(!0===i&&!0===Vt(e))return;if(void 0!==t.maxValues&&t.modelValue.length>=t.maxValues)return;const s=t.modelValue.slice();n("add",{index:s.length,value:r}),s.push(r),n("update:modelValue",s)}function Pt(e,i){if(!0!==rt.editable.value||void 0===e||!0===Et.value(e))return;const r=kt.value(e);if(!0!==t.multiple)return!0!==i&&(Xt(!0===t.fillInput?It.value(e):"",!0,!0),ue()),null!==U.value&&U.value.focus(),void(0!==st.value.length&&!0===(0,y.xb)(kt.value(st.value[0]),r)||n("update:modelValue",!0===t.emitValue?r:e));if((!0!==L||!0===D.value)&&rt.focus(),qt(),0===st.value.length){const i=!0===t.emitValue?r:e;return n("add",{index:0,value:i}),void n("update:modelValue",!0===t.multiple?[i]:i)}const s=t.modelValue.slice(),o=Tt.value.findIndex((t=>(0,y.xb)(t,r)));if(o>-1)n("remove",{index:o,value:s.splice(o,1)[0]});else{if(void 0!==t.maxValues&&s.length>=t.maxValues)return;const i=!0===t.emitValue?r:e;n("add",{index:s.length,value:i}),s.push(i)}n("update:modelValue",s)}function Rt(t){if(!0!==E.platform.is.desktop)return;const e=t>-1&&t<Y.value?t:-1;A.value!==e&&(A.value=e)}function Lt(e=1,n){if(!0===T.value){let i=A.value;do{i=(0,w.Uz)(i+e,-1,Y.value-1)}while(-1!==i&&i!==A.value&&!0===Et.value(t.options[i]));A.value!==i&&(Rt(i),nt(i),!0!==n&&!0===t.useInput&&!0===t.fillInput&&Qt(i>=0?It.value(t.options[i]):V))}}function Nt(e,n){const i=t=>(0,y.xb)(kt.value(t),e);return t.options.find(i)||n.find(i)||e}function Ft(t,e){const n=void 0!==t?t:e;return"function"===typeof n?n:t=>null!==t&&"object"===typeof t&&n in t?t[n]:t}function Vt(t){const e=kt.value(t);return void 0!==Tt.value.find((t=>(0,y.xb)(t,e)))}function qt(e){!0===t.useInput&&null!==U.value&&(void 0===e||U.value===e.target&&e.target.value===dt.value)&&U.value.select()}function Bt(t){!0===(0,_.So)(t,27)&&!0===T.value&&((0,b.sT)(t),ue(),he()),n("keyup",t)}function jt(e){const{value:n}=e.target;if(void 0===e.keyCode)if(e.target.value="",clearTimeout(P),he(),"string"===typeof n&&n.length>0){const e=n.toLocaleLowerCase(),i=n=>{const i=t.options.find((t=>n.value(t).toLocaleLowerCase()===e));return void 0!==i&&(-1===st.value.indexOf(i)?Pt(i):ue(),!0)},r=t=>{!0!==i(kt)&&!0!==i(It)&&!0!==t&&Zt(n,!0,(()=>r(!0)))};r()}else rt.clearValue(e);else Bt(e)}function zt(t){n("keypress",t)}function Ut(e){if(n("keydown",e),!0===(0,_.Wm)(e))return;const r=M.value.length>0&&(void 0!==t.newValueMode||void 0!==t.onNewValue),s=!0!==e.shiftKey&&!0!==t.multiple&&(A.value>-1||!0===r);if(27===e.keyCode)return void(0,b.X$)(e);if(9===e.keyCode&&!1===s)return void le();if(void 0===e.target||e.target.id!==rt.targetUid.value)return;if(40===e.keyCode&&!0!==rt.innerLoading.value&&!1===T.value)return(0,b.NS)(e),void ce();if(8===e.keyCode&&!0!==t.hideSelected&&0===M.value.length)return void(!0===t.multiple&&!0===Array.isArray(t.modelValue)?Mt(t.modelValue.length-1):!0!==t.multiple&&null!==t.modelValue&&n("update:modelValue",null));35!==e.keyCode&&36!==e.keyCode||"string"===typeof M.value&&0!==M.value.length||((0,b.NS)(e),A.value=-1,Lt(36===e.keyCode?1:-1,t.multiple)),33!==e.keyCode&&34!==e.keyCode||void 0===Z.value||((0,b.NS)(e),A.value=Math.max(-1,Math.min(Y.value,A.value+(33===e.keyCode?-1:1)*Z.value.view)),Lt(33===e.keyCode?1:-1,t.multiple)),38!==e.keyCode&&40!==e.keyCode||((0,b.NS)(e),Lt(38===e.keyCode?-1:1,t.multiple));const o=Y.value;if((void 0===B||j<Date.now())&&(B=""),o>0&&!0!==t.useInput&&void 0!==e.key&&1===e.key.length&&!1===e.altKey&&!1===e.ctrlKey&&!1===e.metaKey&&(32!==e.keyCode||B.length>0)){!0!==T.value&&ce(e);const n=e.key.toLocaleLowerCase(),r=1===B.length&&B[0]===n;j=Date.now()+1500,!1===r&&((0,b.NS)(e),B+=n);const s=new RegExp("^"+B.split("").map((t=>k.indexOf(t)>-1?"\\"+t:t)).join(".*"),"i");let a=A.value;if(!0===r||a<0||!0!==s.test(It.value(t.options[a])))do{a=(0,w.Uz)(a+1,-1,o-1)}while(a!==A.value&&(!0===Et.value(t.options[a])||!0!==s.test(It.value(t.options[a]))));A.value!==a&&(0,i.Y3)((()=>{Rt(a),nt(a),a>=0&&!0===t.useInput&&!0===t.fillInput&&Qt(It.value(t.options[a]))}))}else if(13===e.keyCode||32===e.keyCode&&!0!==t.useInput&&""===B||9===e.keyCode&&!1!==s)if(9!==e.keyCode&&(0,b.NS)(e),A.value>-1&&A.value<o)Pt(t.options[A.value]);else{if(!0===r){const e=(e,n)=>{if(n){if(!0!==S(n))return}else n=t.newValueMode;if(void 0===e||null===e)return;Xt("",!0!==t.multiple,!0);const i="toggle"===n?Pt:Ot;i(e,"add-unique"===n),!0!==t.multiple&&(null!==U.value&&U.value.focus(),ue())};if(void 0!==t.onNewValue?n("newValue",M.value,e):e(M.value),!0!==t.multiple)return}!0===T.value?le():!0!==rt.innerLoading.value&&ce()}}function $t(){return!0===L?W.value:null!==$.value&&null!==$.value.contentEl?$.value.contentEl:void 0}function Ht(){return $t()}function Wt(){return!0===t.hideSelected?[]:void 0!==e["selected-item"]?bt.value.map((t=>e["selected-item"](t))).slice():void 0!==e.selected?[].concat(e.selected()):!0===t.useChips?bt.value.map(((e,n)=>(0,i.h)(c.Z,{key:"option-"+n,removable:!0===rt.editable.value&&!0!==Et.value(e.opt),dense:!0,textColor:t.color,tabindex:mt.value,onRemove(){e.removeAtIndex(n)}},(()=>(0,i.h)("span",{class:"ellipsis",[!0===e.html?"innerHTML":"textContent"]:It.value(e.opt)}))))):[(0,i.h)("span",{[!0===gt.value?"innerHTML":"textContent"]:ft.value})]}function Kt(){if(!0===ht.value)return void 0!==e["no-option"]?e["no-option"]({inputValue:M.value}):void 0;const t=void 0!==e.option?e.option:t=>(0,i.h)(u.Z,{key:t.index,...t.itemProps},(()=>(0,i.h)(h.Z,(()=>(0,i.h)(d.Z,(()=>(0,i.h)("span",{[!0===t.html?"innerHTML":"textContent"]:t.label})))))));let n=tt("div",wt.value.map(t));return void 0!==e["before-options"]&&(n=e["before-options"]().concat(n)),(0,x.vs)(e["after-options"],n)}function Gt(e,n){const r=!0===n?{...vt.value,...rt.splitAttrs.attributes.value}:void 0,s={ref:!0===n?U:void 0,key:"i_t",class:ct.value,style:t.inputStyle,value:void 0!==M.value?M.value:"",type:"search",...r,id:!0===n?rt.targetUid.value:void 0,maxlength:t.maxlength,autocomplete:t.autocomplete,"data-autofocus":!0===e||!0===t.autofocus||void 0,disabled:!0===t.disable,readonly:!0===t.readonly,...Ct.value};return!0!==e&&!0===L&&(!0===Array.isArray(s.class)?s.class=[...s.class,"no-pointer-events"]:s.class+=" no-pointer-events"),(0,i.h)("input",s)}function Yt(e){clearTimeout(P),e&&e.target&&!0===e.target.qComposing||(Qt(e.target.value||""),N=!0,V=M.value,!0===rt.focused.value||!0===L&&!0!==D.value||rt.focus(),void 0!==t.onFilter&&(P=setTimeout((()=>{Zt(M.value)}),t.inputDebounce)))}function Qt(t){M.value!==t&&(M.value=t,n("inputValue",t))}function Xt(e,n,i){N=!0!==i,!0===t.useInput&&(Qt(e),!0!==n&&!0===i||(V=e),!0!==n&&Zt(e))}function Zt(e,r,s){if(void 0===t.onFilter||!0!==r&&!0!==rt.focused.value)return;!0===rt.innerLoading.value?n("filterAbort"):(rt.innerLoading.value=!0,O.value=!0),""!==e&&!0!==t.multiple&&st.value.length>0&&!0!==N&&e===It.value(st.value[0])&&(e="");const a=setTimeout((()=>{!0===T.value&&(T.value=!1)}),10);clearTimeout(F),F=a,n("filter",e,((t,e)=>{!0!==r&&!0!==rt.focused.value||F!==a||(clearTimeout(F),"function"===typeof t&&t(),O.value=!1,(0,i.Y3)((()=>{rt.innerLoading.value=!1,!0===rt.editable.value&&(!0===r?!0===T.value&&ue():!0===T.value?de(!0):T.value=!0),"function"===typeof e&&(0,i.Y3)((()=>{e(o)})),"function"===typeof s&&(0,i.Y3)((()=>{s(o)}))})))}),(()=>{!0===rt.focused.value&&F===a&&(clearTimeout(F),rt.innerLoading.value=!1,O.value=!1),!0===T.value&&(T.value=!1)}))}function Jt(){return(0,i.h)(f.Z,{ref:$,class:ut.value,style:t.popupContentStyle,modelValue:T.value,fit:!0!==t.menuShrink,cover:!0===t.optionsCover&&!0!==ht.value&&!0!==t.useInput,anchor:t.menuAnchor,self:t.menuSelf,offset:t.menuOffset,dark:at.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:xt.value,transitionShow:t.transitionShow,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,separateClosePopup:!0,...yt.value,onScrollPassive:et,onBeforeShow:ge,onBeforeHide:te,onShow:ee},Kt)}function te(t){me(t),le()}function ee(){it()}function ne(t){(0,b.sT)(t),null!==U.value&&U.value.focus(),D.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function ie(t){(0,b.sT)(t),(0,i.Y3)((()=>{D.value=!1}))}function re(){const n=[(0,i.h)(a,{class:`col-auto ${rt.fieldClass.value}`,...ot.value,for:rt.targetUid.value,dark:at.value,square:!0,loading:O.value,itemAligned:!1,filled:!0,stackLabel:M.value.length>0,...rt.splitAttrs.listeners.value,onFocus:ne,onBlur:ie},{...e,rawControl:()=>rt.getControl(!0),before:void 0,after:void 0})];return!0===T.value&&n.push((0,i.h)("div",{ref:W,class:ut.value+" scroll",style:t.popupContentStyle,...yt.value,onClick:b.X$,onScrollPassive:et},Kt())),(0,i.h)(p.Z,{ref:H,modelValue:C.value,position:!0===t.useInput?"top":void 0,transitionShow:q,transitionHide:t.transitionHide,transitionDuration:t.transitionDuration,onBeforeShow:ge,onBeforeHide:se,onHide:oe,onShow:ae},(()=>(0,i.h)("div",{class:"q-select__dialog"+(!0===at.value?" q-select__dialog--dark q-dark":"")+(!0===D.value?" q-select__dialog--focused":"")},n)))}function se(t){me(t),null!==H.value&&H.value.__updateRefocusTarget(rt.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),rt.focused.value=!1}function oe(t){ue(),!1===rt.focused.value&&n("blur",t),he()}function ae(){const t=document.activeElement;null!==t&&t.id===rt.targetUid.value||null===U.value||U.value===t||U.value.focus(),it()}function le(){!0!==C.value&&(A.value=-1,!0===T.value&&(T.value=!1),!1===rt.focused.value&&(clearTimeout(F),F=void 0,!0===rt.innerLoading.value&&(n("filterAbort"),rt.innerLoading.value=!1,O.value=!1)))}function ce(n){!0===rt.editable.value&&(!0===L?(rt.onControlFocusin(n),C.value=!0,(0,i.Y3)((()=>{rt.focus()}))):rt.focus(),void 0!==t.onFilter?Zt(M.value):!0===ht.value&&void 0===e["no-option"]||(T.value=!0))}function ue(){C.value=!1,le()}function he(){!0===t.useInput&&Xt(!0!==t.multiple&&!0===t.fillInput&&st.value.length>0&&It.value(st.value[0])||"",!0,!0)}function de(e){let n=-1;if(!0===e){if(st.value.length>0){const e=kt.value(st.value[0]);n=t.options.findIndex((t=>(0,y.xb)(kt.value(t),e)))}J(n)}Rt(n)}function fe(t,e){!0===T.value&&!1===rt.innerLoading.value&&(J(-1,!0),(0,i.Y3)((()=>{!0===T.value&&!1===rt.innerLoading.value&&(t>e?J():de(!0))})))}function pe(){!1===C.value&&null!==$.value&&$.value.updatePosition()}function ge(t){void 0!==t&&(0,b.sT)(t),n("popupShow",t),rt.hasPopupOpen=!0,rt.onControlFocusin(t)}function me(t){void 0!==t&&(0,b.sT)(t),n("popupHide",t),rt.hasPopupOpen=!1,rt.onControlFocusout(t)}function ve(){L=(!0===E.platform.is.mobile||"dialog"===t.behavior)&&("menu"!==t.behavior&&(!0!==t.useInput||(void 0!==e["no-option"]||void 0!==t.onFilter||!1===ht.value))),q=!0===E.platform.is.ios&&!0===L&&!0===t.useInput?"fade":t.transitionShow}return(0,i.YP)(st,(e=>{R=e,!0===t.useInput&&!0===t.fillInput&&!0!==t.multiple&&!0!==rt.innerLoading.value&&(!0!==C.value&&!0!==T.value||!0!==lt.value)&&(!0!==N&&he(),!0!==C.value&&!0!==T.value||Zt(""))}),{immediate:!0}),(0,i.YP)((()=>t.fillInput),he),(0,i.YP)(T,de),(0,i.YP)(Y,fe),(0,i.Xn)(ve),(0,i.ic)(pe),ve(),(0,i.Jd)((()=>{clearTimeout(P)})),Object.assign(o,{showPopup:ce,hidePopup:ue,removeAtIndex:Mt,add:Ot,toggleOption:Pt,getOptionIndex:()=>A.value,setOptionIndex:Rt,moveOptionSelection:Lt,filter:Zt,updateMenuPosition:pe,updateInputValue:Xt,isOptionSelected:Vt,getEmittingOptionValue:At,isOptionDisabled:(...t)=>!0===Et.value.apply(null,t),getOptionValue:(...t)=>kt.value.apply(null,t),getOptionLabel:(...t)=>It.value.apply(null,t)}),Object.assign(rt,{innerValue:st,fieldClass:(0,i.Fl)((()=>`q-select q-field--auto-height q-select--with${!0!==t.useInput?"out":""}-input q-select--with${!0!==t.useChips?"out":""}-chips q-select--`+(!0===t.multiple?"multiple":"single"))),inputRef:z,targetRef:U,hasValue:lt,showPopup:ce,floatingLabel:(0,i.Fl)((()=>!0!==t.hideSelected&&!0===lt.value||"number"===typeof M.value||M.value.length>0||(0,s.yV)(t.displayValue))),getControlChild:()=>{if(!1!==rt.editable.value&&(!0===C.value||!0!==ht.value||void 0!==e["no-option"]))return!0===L?re():Jt();!0===rt.hasPopupOpen&&(rt.hasPopupOpen=!1)},controlEvents:{onFocusin(t){rt.onControlFocusin(t)},onFocusout(t){rt.onControlFocusout(t,(()=>{he(),le()}))},onClick(t){if((0,b.X$)(t),!0!==L&&!0===T.value)return le(),void(null!==U.value&&U.value.focus());ce(t)}},getControl:e=>{const n=Wt(),r=!0===e||!0!==C.value||!0!==L;if(!0===t.useInput)n.push(Gt(e,r));else if(!0===rt.editable.value){const s=!0===r?vt.value:void 0;n.push((0,i.h)("input",{ref:!0===r?U:void 0,key:"d_t",class:"q-select__focus-target",id:!0===r?rt.targetUid.value:void 0,value:ft.value,readonly:!0,"data-autofocus":!0===e||!0===t.autofocus||void 0,...s,onKeydown:Ut,onKeyup:Bt,onKeypress:zt})),!0===r&&"string"===typeof t.autocomplete&&t.autocomplete.length>0&&n.push((0,i.h)("input",{class:"q-select__autocomplete-input",autocomplete:t.autocomplete,tabindex:-1,onKeyup:jt}))}if(void 0!==K.value&&!0!==t.disable&&Tt.value.length>0){const e=Tt.value.map((t=>(0,i.h)("option",{value:t,selected:!0})));n.push((0,i.h)("select",{class:"hidden",name:K.value,multiple:t.multiple},e))}const s=!0===t.useInput||!0!==r?void 0:rt.splitAttrs.attributes.value;return(0,i.h)("div",{class:"q-field__native row items-center",...s},n)},getInnerAppend:()=>!0!==t.loading&&!0!==O.value&&!0!==t.hideDropdownIcon?[(0,i.h)(l.Z,{class:"q-select__dropdown-icon"+(!0===T.value?" rotate-180":""),name:_t.value})]:null}),(0,s.ZP)(rt)}})},4492:function(t,e,n){"use strict";var i=n(9269),r=n(6597),s=n(3856);const o={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},a={xs:2,sm:4,md:8,lg:16,xl:24};e["Z"]=(0,s.L)({name:"QSeparator",props:{...r.S,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(t){const e=(0,i.FN)(),n=(0,r.Z)(t,e.proxy.$q),s=(0,i.Fl)((()=>!0===t.vertical?"vertical":"horizontal")),l=(0,i.Fl)((()=>` q-separator--${s.value}`)),c=(0,i.Fl)((()=>!1!==t.inset?`${l.value}-${o[t.inset]}`:"")),u=(0,i.Fl)((()=>`q-separator${l.value}${c.value}`+(void 0!==t.color?` bg-${t.color}`:"")+(!0===n.value?" q-separator--dark":""))),h=(0,i.Fl)((()=>{const e={};if(void 0!==t.size&&(e[!0===t.vertical?"width":"height"]=t.size),!1!==t.spaced){const n=!0===t.spaced?`${a.md}px`:t.spaced in a?`${a[t.spaced]}px`:t.spaced,i=!0===t.vertical?["Left","Right"]:["Top","Bottom"];e[`margin${i[0]}`]=e[`margin${i[1]}`]=n}return e}));return()=>(0,i.h)("hr",{class:u.value,style:h.value,"aria-orientation":s.value})}})},3139:function(t,e,n){"use strict";var i=n(9269),r=n(3856);const s=(0,i.h)("div",{class:"q-space"});e["Z"]=(0,r.L)({name:"QSpace",setup(){return()=>s}})},2605:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var i=n(9269),r=n(505);const s={size:{type:[Number,String],default:"1em"},color:String};function o(t){return{cSize:(0,i.Fl)((()=>t.size in r.Ok?`${r.Ok[t.size]}px`:t.size)),classes:(0,i.Fl)((()=>"q-spinner"+(t.color?` text-${t.color}`:"")))}}var a=n(3856),l=(0,a.L)({name:"QSpinner",props:{...s,thickness:{type:Number,default:5}},setup(t){const{cSize:e,classes:n}=o(t);return()=>(0,i.h)("svg",{class:n.value+" q-spinner-mat",width:e.value,height:e.value,viewBox:"25 25 50 50"},[(0,i.h)("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":t.thickness,"stroke-miterlimit":"10"})])}})},366:function(t,e,n){"use strict";var i=n(9269),r=n(3856),s=n(64);e["Z"]=(0,r.L)({name:"QToolbar",props:{inset:Boolean},setup(t,{slots:e}){const n=(0,i.Fl)((()=>"q-toolbar row no-wrap items-center"+(!0===t.inset?" q-toolbar--inset":"")));return()=>(0,i.h)("div",{class:n.value,role:"toolbar"},(0,s.KR)(e.default))}})},8623:function(t,e,n){"use strict";var i=n(9269),r=n(3856),s=n(64);e["Z"]=(0,r.L)({name:"QToolbarTitle",props:{shrink:Boolean},setup(t,{slots:e}){const n=(0,i.Fl)((()=>"q-toolbar__title ellipsis"+(!0===t.shrink?" col-shrink":"")));return()=>(0,i.h)("div",{class:n.value},(0,s.KR)(e.default))}})},722:function(t,e,n){"use strict";n.d(e,{If:function(){return v},vp:function(){return b},t9:function(){return y}});n(4719);var i=n(9269),r=n(6237),s=n(7265),o=n(3027);let a=!1;{const t=document.createElement("div");t.setAttribute("dir","rtl"),Object.assign(t.style,{width:"1px",height:"1px",overflow:"auto"});const e=document.createElement("div");Object.assign(e.style,{width:"1000px",height:"1px"}),document.body.appendChild(t),t.appendChild(e),t.scrollLeft=-1e3,a=t.scrollLeft>=0,t.remove()}const l=1e3,c=["start","center","end","start-force","center-force","end-force"],u=Array.prototype.filter,h=void 0===window.getComputedStyle(document.body).overflowAnchor?o.ZT:function(t,e){null!==t&&(cancelAnimationFrame(t._qOverflowAnimationFrame),t._qOverflowAnimationFrame=requestAnimationFrame((()=>{if(null===t)return;const n=t.children||[];u.call(n,(t=>t.dataset&&void 0!==t.dataset.qVsAnchor)).forEach((t=>{delete t.dataset.qVsAnchor}));const i=n[e];i&&i.dataset&&(i.dataset.qVsAnchor="")})))};function d(t,e){return t+e}function f(t,e,n,i,r,s,o,l){const c=t===window?document.scrollingElement||document.documentElement:t,u=!0===r?"offsetWidth":"offsetHeight",h={scrollStart:0,scrollViewSize:-o-l,scrollMaxSize:0,offsetStart:-o,offsetEnd:-l};if(!0===r?(t===window?(h.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,h.scrollViewSize+=document.documentElement.clientWidth):(h.scrollStart=c.scrollLeft,h.scrollViewSize+=c.clientWidth),h.scrollMaxSize=c.scrollWidth,!0===s&&(h.scrollStart=(!0===a?h.scrollMaxSize-h.scrollViewSize:0)-h.scrollStart)):(t===window?(h.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,h.scrollViewSize+=document.documentElement.clientHeight):(h.scrollStart=c.scrollTop,h.scrollViewSize+=c.clientHeight),h.scrollMaxSize=c.scrollHeight),null!==n)for(let a=n.previousElementSibling;null!==a;a=a.previousElementSibling)!1===a.classList.contains("q-virtual-scroll--skip")&&(h.offsetStart+=a[u]);if(null!==i)for(let a=i.nextElementSibling;null!==a;a=a.nextElementSibling)!1===a.classList.contains("q-virtual-scroll--skip")&&(h.offsetEnd+=a[u]);if(e!==t){const n=c.getBoundingClientRect(),i=e.getBoundingClientRect();!0===r?(h.offsetStart+=i.left-n.left,h.offsetEnd-=i.width):(h.offsetStart+=i.top-n.top,h.offsetEnd-=i.height),t!==window&&(h.offsetStart+=h.scrollStart),h.offsetEnd+=h.scrollMaxSize-h.offsetStart}return h}function p(t,e,n,i){"end"===e&&(e=(t===window?document.body:t)[!0===n?"scrollWidth":"scrollHeight"]),t===window?!0===n?(!0===i&&(e=(!0===a?document.body.scrollWidth-document.documentElement.clientWidth:0)-e),window.scrollTo(e,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,e):!0===n?(!0===i&&(e=(!0===a?t.scrollWidth-t.offsetWidth:0)-e),t.scrollLeft=e):t.scrollTop=e}function g(t,e,n,i){if(n>=i)return 0;const r=e.length,s=Math.floor(n/l),o=Math.floor((i-1)/l)+1;let a=t.slice(s,o).reduce(d,0);return n%l!==0&&(a-=e.slice(s*l,n).reduce(d,0)),i%l!==0&&i!==r&&(a-=e.slice(i,o*l).reduce(d,0)),a}const m={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},v=Object.keys(m),y={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...m};function b({virtualScrollLength:t,getVirtualScrollTarget:e,getVirtualScrollEl:n,virtualScrollItemSizeComputed:o}){const a=(0,i.FN)(),{props:m,emit:v,proxy:y}=a,{$q:b}=y;let w,_,x,S,k=[];const I=(0,r.iH)(0),E=(0,r.iH)(0),T=(0,r.iH)({}),C=(0,r.iH)(null),A=(0,r.iH)(null),M=(0,r.iH)(null),D=(0,r.iH)({from:0,to:0}),O=(0,i.Fl)((()=>void 0!==m.tableColspan?m.tableColspan:100));void 0===o&&(o=(0,i.Fl)((()=>m.virtualScrollItemSize)));const P=(0,i.Fl)((()=>o.value+";"+m.virtualScrollHorizontal)),R=(0,i.Fl)((()=>P.value+";"+m.virtualScrollSliceRatioBefore+";"+m.virtualScrollSliceRatioAfter));function L(){z(_,!0)}function N(t){z(void 0===t?_:t)}function F(i,r){const s=e();if(void 0===s||null===s||8===s.nodeType)return;const o=f(s,n(),C.value,A.value,m.virtualScrollHorizontal,b.lang.rtl,m.virtualScrollStickySizeStart,m.virtualScrollStickySizeEnd);x!==o.scrollViewSize&&U(o.scrollViewSize),q(s,o,Math.min(t.value-1,Math.max(0,parseInt(i,10)||0)),0,c.indexOf(r)>-1?r:_>-1&&i>_?"end":"start")}function V(){const i=e();if(void 0===i||null===i||8===i.nodeType)return;const r=f(i,n(),C.value,A.value,m.virtualScrollHorizontal,b.lang.rtl,m.virtualScrollStickySizeStart,m.virtualScrollStickySizeEnd),s=t.value-1,o=r.scrollMaxSize-r.offsetStart-r.offsetEnd-E.value;if(w===r.scrollStart)return;if(r.scrollMaxSize<=0)return void q(i,r,0,0);x!==r.scrollViewSize&&U(r.scrollViewSize),B(D.value.from);const a=Math.floor(r.scrollMaxSize-Math.max(r.scrollViewSize,r.offsetEnd)-Math.min(S[s],r.scrollViewSize/2));if(a>0&&Math.ceil(r.scrollStart)>=a)return void q(i,r,s,r.scrollMaxSize-r.offsetEnd-k.reduce(d,0));let c=0,u=r.scrollStart-r.offsetStart,h=u;if(u<=o&&u+r.scrollViewSize>=I.value)u-=I.value,c=D.value.from,h=u;else for(let t=0;u>=k[t]&&c<s;t++)u-=k[t],c+=l;while(u>0&&c<s)u-=S[c],u>-r.scrollViewSize?(c++,h=u):h=S[c]+u;q(i,r,c,h)}function q(e,n,i,r,s){const o="string"===typeof s&&s.indexOf("-force")>-1,a=!0===o?s.replace("-force",""):s,l=void 0!==a?a:"start";let c=Math.max(0,i-T.value[l]),u=c+T.value.total;u>t.value&&(u=t.value,c=Math.max(0,u-T.value.total)),w=n.scrollStart;const f=c!==D.value.from||u!==D.value.to;if(!1===f&&void 0===a)return void H(i);const{activeElement:v}=document,y=M.value;!0===f&&null!==y&&y!==v&&!0===y.contains(v)&&(y.addEventListener("focusout",j),setTimeout((()=>{null!==y&&y.removeEventListener("focusout",j)}))),h(y,i-c);const _=void 0!==a?S.slice(c,i).reduce(d,0):0;if(!0===f){const e=u>=D.value.from&&c<=D.value.to?D.value.to:u;D.value={from:c,to:e},I.value=g(k,S,0,c),E.value=g(k,S,u,t.value),requestAnimationFrame((()=>{D.value.to!==u&&w===n.scrollStart&&(D.value={from:D.value.from,to:u},E.value=g(k,S,u,t.value))}))}requestAnimationFrame((()=>{if(w!==n.scrollStart)return;!0===f&&B(c);const t=S.slice(c,i).reduce(d,0),s=t+n.offsetStart+I.value,l=s+S[i];let u=s+r;if(void 0!==a){const e=t-_,r=n.scrollStart+e;u=!0!==o&&r<s&&l<r+n.scrollViewSize?r:"end"===a?l-n.scrollViewSize:s-("start"===a?0:Math.round((n.scrollViewSize-S[i])/2))}w=u,p(e,u,m.virtualScrollHorizontal,b.lang.rtl),H(i)}))}function B(t){const e=M.value;if(e){const n=u.call(e.children,(t=>t.classList&&!1===t.classList.contains("q-virtual-scroll--skip"))),i=n.length,r=!0===m.virtualScrollHorizontal?t=>t.getBoundingClientRect().width:t=>t.offsetHeight;let s,o,a=t;for(let t=0;t<i;){s=r(n[t]),t++;while(t<i&&!0===n[t].classList.contains("q-virtual-scroll--with-prev"))s+=r(n[t]),t++;o=s-S[a],0!==o&&(S[a]+=o,k[Math.floor(a/l)]+=o),a++}}}function j(){null!==M.value&&void 0!==M.value&&M.value.focus()}function z(e,n){const r=1*o.value;!0!==n&&!1!==Array.isArray(S)||(S=[]);const s=S.length;S.length=t.value;for(let i=t.value-1;i>=s;i--)S[i]=r;const a=Math.floor((t.value-1)/l);k=[];for(let i=0;i<=a;i++){let e=0;const n=Math.min((i+1)*l,t.value);for(let t=i*l;t<n;t++)e+=S[t];k.push(e)}_=-1,w=void 0,I.value=g(k,S,0,D.value.from),E.value=g(k,S,D.value.to,t.value),e>=0?(B(D.value.from),(0,i.Y3)((()=>{F(e)}))):W()}function U(t){if(void 0===t&&"undefined"!==typeof window){const i=e();void 0!==i&&null!==i&&8!==i.nodeType&&(t=f(i,n(),C.value,A.value,m.virtualScrollHorizontal,b.lang.rtl,m.virtualScrollStickySizeStart,m.virtualScrollStickySizeEnd).scrollViewSize)}x=t;const i=parseFloat(m.virtualScrollSliceRatioBefore)||0,r=parseFloat(m.virtualScrollSliceRatioAfter)||0,s=1+i+r,a=void 0===t||t<=0?1:Math.ceil(t/o.value),l=Math.max(1,a,Math.ceil((m.virtualScrollSliceSize>0?m.virtualScrollSliceSize:10)/s));T.value={total:Math.ceil(l*s),start:Math.ceil(l*i),center:Math.ceil(l*(.5+i)),end:Math.ceil(l*(1+i)),view:a}}function $(t,e){const n=!0===m.virtualScrollHorizontal?"width":"height",r={["--q-virtual-scroll-item-"+n]:o.value+"px"};return["tbody"===t?(0,i.h)(t,{class:"q-virtual-scroll__padding",key:"before",ref:C},[(0,i.h)("tr",[(0,i.h)("td",{style:{[n]:`${I.value}px`,...r},colspan:O.value})])]):(0,i.h)(t,{class:"q-virtual-scroll__padding",key:"before",ref:C,style:{[n]:`${I.value}px`,...r}}),(0,i.h)(t,{class:"q-virtual-scroll__content",key:"content",ref:M,tabindex:-1},e.flat()),"tbody"===t?(0,i.h)(t,{class:"q-virtual-scroll__padding",key:"after",ref:A},[(0,i.h)("tr",[(0,i.h)("td",{style:{[n]:`${E.value}px`,...r},colspan:O.value})])]):(0,i.h)(t,{class:"q-virtual-scroll__padding",key:"after",ref:A,style:{[n]:`${E.value}px`,...r}})]}function H(t){_!==t&&(void 0!==m.onVirtualScroll&&v("virtualScroll",{index:t,from:D.value.from,to:D.value.to-1,direction:t<_?"decrease":"increase",ref:y}),_=t)}(0,i.YP)(R,(()=>{U()})),(0,i.YP)(P,L),U();const W=(0,s.Z)(V,!0===b.platform.is.ios?120:35);(0,i.wF)((()=>{U()}));let K=!1;return(0,i.se)((()=>{K=!0})),(0,i.dl)((()=>{if(!0!==K)return;const t=e();void 0!==w&&void 0!==t&&null!==t&&8!==t.nodeType?p(t,w,m.virtualScrollHorizontal,b.lang.rtl):F(_)})),(0,i.Jd)((()=>{W.cancel()})),Object.assign(y,{scrollTo:F,reset:L,refresh:N}),{virtualScrollSliceRange:D,virtualScrollSliceSizeComputed:T,setVirtualScrollSize:U,onVirtualScrollEvt:W,localResetVirtualScroll:z,padVirtualScroll:$,scrollTo:F,reset:L,refresh:N}}},3994:function(t,e,n){"use strict";n.d(e,{ZP:function(){return a},jO:function(){return o}});var i=n(9269);const r={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},s=Object.keys(r),o={align:{type:String,validator:t=>s.includes(t)}};function a(t){return(0,i.Fl)((()=>{const e=void 0===t.align?!0===t.vertical?"stretch":"left":t.align;return`${!0===t.vertical?"items":"justify"}-${r[e]}`}))}},6597:function(t,e,n){"use strict";n.d(e,{S:function(){return r},Z:function(){return s}});var i=n(9269);const r={dark:{type:Boolean,default:null}};function s(t,e){return(0,i.Fl)((()=>null===t.dark?e.dark.isActive:t.dark))}},6632:function(t,e,n){"use strict";n.d(e,{ZP:function(){return R},yV:function(){return M},HJ:function(){return O},Cl:function(){return D},tL:function(){return P}});n(4719);var i=n(9269),r=n(6237),s=n(5102),o=n(1013),a=n(4633),l=n(2605),c=n(6597),u=n(4300);function h({validate:t,resetValidation:e,requiresQForm:n}){const r=(0,i.f3)(u.vh,!1);if(!1!==r){const{props:n,proxy:s}=(0,i.FN)();Object.assign(s,{validate:t,resetValidation:e}),(0,i.YP)((()=>n.disable),(t=>{!0===t?("function"===typeof e&&e(),r.unbindComponent(s)):r.bindComponent(s)})),(0,i.bv)((()=>{!0!==n.disable&&r.bindComponent(s)})),(0,i.Jd)((()=>{!0!==n.disable&&r.unbindComponent(s)}))}else!0===n&&console.error("Parent QForm not found on useFormChild()!")}const d=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,f=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,p=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,g=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,m=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,v={date:t=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(t),time:t=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(t),fulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(t),timeOrFulltime:t=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(t),email:t=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t),hexColor:t=>d.test(t),hexaColor:t=>f.test(t),hexOrHexaColor:t=>p.test(t),rgbColor:t=>g.test(t),rgbaColor:t=>m.test(t),rgbOrRgbaColor:t=>g.test(t)||m.test(t),hexOrRgbColor:t=>d.test(t)||g.test(t),hexaOrRgbaColor:t=>f.test(t)||m.test(t),anyColor:t=>p.test(t)||g.test(t)||m.test(t)};var y=n(7265),b=n(3613);const w=[!0,!1,"ondemand"],_={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:t=>w.includes(t)}};function x(t,e){const{props:n,proxy:s}=(0,i.FN)(),o=(0,r.iH)(!1),a=(0,r.iH)(null),l=(0,r.iH)(null);h({validate:w,resetValidation:m});let c,u=0;const d=(0,i.Fl)((()=>void 0!==n.rules&&null!==n.rules&&n.rules.length>0)),f=(0,i.Fl)((()=>!0!==n.disable&&!0===d.value)),p=(0,i.Fl)((()=>!0===n.error||!0===o.value)),g=(0,i.Fl)((()=>"string"===typeof n.errorMessage&&n.errorMessage.length>0?n.errorMessage:a.value));function m(){u++,e.value=!1,l.value=null,o.value=!1,a.value=null,x.cancel()}function w(t=n.modelValue){if(!0!==f.value)return!0;const i=++u,r=!0!==e.value?()=>{l.value=!0}:()=>{},s=(t,n)=>{!0===t&&r(),o.value=t,a.value=n||null,e.value=!1},c=[];for(let e=0;e<n.rules.length;e++){const i=n.rules[e];let r;if("function"===typeof i?r=i(t,v):"string"===typeof i&&void 0!==v[i]&&(r=v[i](t)),!1===r||"string"===typeof r)return s(!0,r),!1;!0!==r&&void 0!==r&&c.push(r)}return 0===c.length?(s(!1),!0):(e.value=!0,Promise.all(c).then((t=>{if(void 0===t||!1===Array.isArray(t)||0===t.length)return i===u&&s(!1),!0;const e=t.find((t=>!1===t||"string"===typeof t));return i===u&&s(void 0!==e,e),void 0===e}),(t=>(i===u&&(console.error(t),s(!0)),!1))))}function _(t){!0===f.value&&"ondemand"!==n.lazyRules&&(!0===l.value||!0!==n.lazyRules&&!0!==t)&&x()}(0,i.YP)((()=>n.modelValue),(()=>{_()})),(0,i.YP)((()=>n.reactiveRules),(t=>{!0===t?void 0===c&&(c=(0,i.YP)((()=>n.rules),(()=>{_(!0)}))):void 0!==c&&(c(),c=void 0)}),{immediate:!0}),(0,i.YP)(t,(t=>{!0===t?null===l.value&&(l.value=!1):!1===l.value&&(l.value=!0,!0===f.value&&"ondemand"!==n.lazyRules&&!1===e.value&&x())}));const x=(0,y.Z)(w,0);return(0,i.Jd)((()=>{void 0!==c&&c(),x.cancel()})),Object.assign(s,{resetValidation:m,validate:w}),(0,b.g)(s,"hasError",(()=>p.value)),{isDirtyModel:l,hasRules:d,hasError:p,errorMessage:g,validate:w,resetValidation:m}}const S=/^on[A-Z]/;function k(t,e){const n={listeners:(0,r.iH)({}),attributes:(0,r.iH)({})};function s(){const i={},r={};for(const e in t)"class"!==e&&"style"!==e&&!1===S.test(e)&&(i[e]=t[e]);for(const t in e.props)!0===S.test(t)&&(r[t]=e.props[t]);n.attributes.value=i,n.listeners.value=r}return(0,i.Xn)(s),s(),n}var I=n(64),E=n(1878),T=n(3027),C=n(6146);function A(t){return void 0===t?`f_${(0,E.Z)()}`:t}function M(t){return void 0!==t&&null!==t&&(""+t).length>0}const D={...c.S,..._,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},O=["update:modelValue","clear","focus","blur","popupShow","popupHide"];function P(){const{props:t,attrs:e,proxy:n,vnode:s}=(0,i.FN)(),o=(0,c.Z)(t,n.$q);return{isDark:o,editable:(0,i.Fl)((()=>!0!==t.disable&&!0!==t.readonly)),innerLoading:(0,r.iH)(!1),focused:(0,r.iH)(!1),hasPopupOpen:!1,splitAttrs:k(e,s),targetUid:(0,r.iH)(A(t.for)),rootRef:(0,r.iH)(null),targetRef:(0,r.iH)(null),controlRef:(0,r.iH)(null)}}function R(t){const{props:e,emit:n,slots:r,attrs:c,proxy:u}=(0,i.FN)(),{$q:h}=u;let d;void 0===t.hasValue&&(t.hasValue=(0,i.Fl)((()=>M(e.modelValue)))),void 0===t.emitValue&&(t.emitValue=t=>{n("update:modelValue",t)}),void 0===t.controlEvents&&(t.controlEvents={onFocusin:N,onFocusout:F}),Object.assign(t,{clearValue:V,onControlFocusin:N,onControlFocusout:F,focus:R}),void 0===t.computedCounter&&(t.computedCounter=(0,i.Fl)((()=>{if(!1!==e.counter){const t="string"===typeof e.modelValue||"number"===typeof e.modelValue?(""+e.modelValue).length:!0===Array.isArray(e.modelValue)?e.modelValue.length:0,n=void 0!==e.maxlength?e.maxlength:e.maxValues;return t+(void 0!==n?" / "+n:"")}})));const{isDirtyModel:f,hasRules:p,hasError:g,errorMessage:m,resetValidation:v}=x(t.focused,t.innerLoading),y=void 0!==t.floatingLabel?(0,i.Fl)((()=>!0===e.stackLabel||!0===t.focused.value||!0===t.floatingLabel.value)):(0,i.Fl)((()=>!0===e.stackLabel||!0===t.focused.value||!0===t.hasValue.value)),b=(0,i.Fl)((()=>!0===e.bottomSlots||void 0!==e.hint||!0===p.value||!0===e.counter||null!==e.error)),w=(0,i.Fl)((()=>!0===e.filled?"filled":!0===e.outlined?"outlined":!0===e.borderless?"borderless":e.standout?"standout":"standard")),_=(0,i.Fl)((()=>`q-field row no-wrap items-start q-field--${w.value}`+(void 0!==t.fieldClass?` ${t.fieldClass.value}`:"")+(!0===e.rounded?" q-field--rounded":"")+(!0===e.square?" q-field--square":"")+(!0===y.value?" q-field--float":"")+(!0===k.value?" q-field--labeled":"")+(!0===e.dense?" q-field--dense":"")+(!0===e.itemAligned?" q-field--item-aligned q-item-type":"")+(!0===t.isDark.value?" q-field--dark":"")+(void 0===t.getControl?" q-field--auto-height":"")+(!0===t.focused.value?" q-field--focused":"")+(!0===g.value?" q-field--error":"")+(!0===g.value||!0===t.focused.value?" q-field--highlighted":"")+(!0!==e.hideBottomSpace&&!0===b.value?" q-field--with-bottom":"")+(!0===e.disable?" q-field--disabled":!0===e.readonly?" q-field--readonly":""))),S=(0,i.Fl)((()=>"q-field__control relative-position row no-wrap"+(void 0!==e.bgColor?` bg-${e.bgColor}`:"")+(!0===g.value?" text-negative":"string"===typeof e.standout&&e.standout.length>0&&!0===t.focused.value?` ${e.standout}`:void 0!==e.color?` text-${e.color}`:""))),k=(0,i.Fl)((()=>!0===e.labelSlot||void 0!==e.label)),E=(0,i.Fl)((()=>"q-field__label no-pointer-events absolute ellipsis"+(void 0!==e.labelColor&&!0!==g.value?` text-${e.labelColor}`:""))),D=(0,i.Fl)((()=>({id:t.targetUid.value,editable:t.editable.value,focused:t.focused.value,floatingLabel:y.value,modelValue:e.modelValue,emitValue:t.emitValue}))),O=(0,i.Fl)((()=>{const n={for:t.targetUid.value};return!0===e.disable?n["aria-disabled"]="true":!0===e.readonly&&(n["aria-readonly"]="true"),n}));function P(){const e=document.activeElement;let n=void 0!==t.targetRef&&t.targetRef.value;!n||null!==e&&e.id===t.targetUid.value||(!0===n.hasAttribute("tabindex")||(n=n.querySelector("[tabindex]")),n&&n!==e&&n.focus({preventScroll:!0}))}function R(){(0,C.jd)(P)}function L(){(0,C.fP)(P);const e=document.activeElement;null!==e&&t.rootRef.value.contains(e)&&e.blur()}function N(e){clearTimeout(d),!0===t.editable.value&&!1===t.focused.value&&(t.focused.value=!0,n("focus",e))}function F(e,i){clearTimeout(d),d=setTimeout((()=>{(!0!==document.hasFocus()||!0!==t.hasPopupOpen&&void 0!==t.controlRef&&null!==t.controlRef.value&&!1===t.controlRef.value.contains(document.activeElement))&&(!0===t.focused.value&&(t.focused.value=!1,n("blur",e)),void 0!==i&&i())}))}function V(r){if((0,T.NS)(r),!0!==h.platform.is.mobile){const e=void 0!==t.targetRef&&t.targetRef.value||t.rootRef.value;e.focus()}else!0===t.rootRef.value.contains(document.activeElement)&&document.activeElement.blur();"file"===e.type&&(t.inputRef.value.value=null),n("update:modelValue",null),n("clear",e.modelValue),(0,i.Y3)((()=>{v(),!0!==h.platform.is.mobile&&(f.value=!1)}))}function q(){const n=[];return void 0!==r.prepend&&n.push((0,i.h)("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:T.X$},r.prepend())),n.push((0,i.h)("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},B())),!0===g.value&&!1===e.noErrorIcon&&n.push(z("error",[(0,i.h)(a.Z,{name:h.iconSet.field.error,color:"negative"})])),!0===e.loading||!0===t.innerLoading.value?n.push(z("inner-loading-append",void 0!==r.loading?r.loading():[(0,i.h)(l.Z,{color:e.color})])):!0===e.clearable&&!0===t.hasValue.value&&!0===t.editable.value&&n.push(z("inner-clearable-append",[(0,i.h)(a.Z,{class:"q-field__focusable-action",tag:"button",name:e.clearIcon||h.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:V})])),void 0!==r.append&&n.push((0,i.h)("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:T.X$},r.append())),void 0!==t.getInnerAppend&&n.push(z("inner-append",t.getInnerAppend())),void 0!==t.getControlChild&&n.push(t.getControlChild()),n}function B(){const n=[];return void 0!==e.prefix&&null!==e.prefix&&n.push((0,i.h)("div",{class:"q-field__prefix no-pointer-events row items-center"},e.prefix)),void 0!==t.getShadowControl&&!0===t.hasShadow.value&&n.push(t.getShadowControl()),void 0!==t.getControl?n.push(t.getControl()):void 0!==r.rawControl?n.push(r.rawControl()):void 0!==r.control&&n.push((0,i.h)("div",{ref:t.targetRef,class:"q-field__native row",tabindex:-1,...t.splitAttrs.attributes.value,"data-autofocus":!0===e.autofocus||void 0},r.control(D.value))),!0===k.value&&n.push((0,i.h)("div",{class:E.value},(0,I.KR)(r.label,e.label))),void 0!==e.suffix&&null!==e.suffix&&n.push((0,i.h)("div",{class:"q-field__suffix no-pointer-events row items-center"},e.suffix)),n.concat((0,I.KR)(r.default))}function j(){let n,o;!0===g.value?null!==m.value?(n=[(0,i.h)("div",{role:"alert"},m.value)],o=`q--slot-error-${m.value}`):(n=(0,I.KR)(r.error),o="q--slot-error"):!0===e.hideHint&&!0!==t.focused.value||(void 0!==e.hint?(n=[(0,i.h)("div",e.hint)],o=`q--slot-hint-${e.hint}`):(n=(0,I.KR)(r.hint),o="q--slot-hint"));const a=!0===e.counter||void 0!==r.counter;if(!0===e.hideBottomSpace&&!1===a&&void 0===n)return;const l=(0,i.h)("div",{key:o,class:"q-field__messages col"},n);return(0,i.h)("div",{class:"q-field__bottom row items-start q-field__bottom--"+(!0!==e.hideBottomSpace?"animated":"stale"),onClick:T.X$},[!0===e.hideBottomSpace?l:(0,i.h)(s.uT,{name:"q-transition--field-message"},(()=>l)),!0===a?(0,i.h)("div",{class:"q-field__counter"},void 0!==r.counter?r.counter():t.computedCounter.value):null])}function z(t,e){return null===e?null:(0,i.h)("div",{key:t,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},e)}(0,i.YP)((()=>e.for),(e=>{t.targetUid.value=A(e)}));let U=!1;return(0,i.se)((()=>{U=!0})),(0,i.dl)((()=>{!0===U&&!0===e.autofocus&&u.focus()})),(0,i.bv)((()=>{!0===o.uX.value&&void 0===e.for&&(t.targetUid.value=A()),!0===e.autofocus&&u.focus()})),(0,i.Jd)((()=>{clearTimeout(d)})),Object.assign(u,{focus:R,blur:L}),function(){const n=void 0===t.getControl&&void 0===r.control?{...t.splitAttrs.attributes.value,"data-autofocus":!0===e.autofocus||void 0,...O.value}:O.value;return(0,i.h)("label",{ref:t.rootRef,class:[_.value,c.class],style:c.style,...n},[void 0!==r.before?(0,i.h)("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:T.X$},r.before()):null,(0,i.h)("div",{class:"q-field__inner relative-position col self-stretch"},[(0,i.h)("div",{ref:t.controlRef,class:S.value,tabindex:-1,...t.controlEvents},q()),!0===b.value?j():null]),void 0!==r.after?(0,i.h)("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:T.X$},r.after()):null])}}},9724:function(t,e,n){"use strict";n.d(e,{Do:function(){return o},Fz:function(){return r},eX:function(){return s}});var i=n(9269);const r={name:String};function s(t={}){return(e,n,r)=>{e[n]((0,i.h)("input",{class:"hidden"+(r||""),...t.value}))}}function o(t){return(0,i.Fl)((()=>t.name||t.for))}},447:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});var i=n(1013);const r=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,s=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,o=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,a=/[a-z0-9_ -]$/i;function l(t){return function(e){if("compositionend"===e.type||"change"===e.type){if(!0!==e.target.qComposing)return;e.target.qComposing=!1,t(e)}else if("compositionupdate"===e.type&&!0!==e.target.qComposing&&"string"===typeof e.data){const t=!0===i.Lp.is.firefox?!1===a.test(e.data):!0===r.test(e.data)||!0===s.test(e.data)||!0===o.test(e.data);!0===t&&(e.target.qComposing=!0)}}}},9216:function(t,e,n){"use strict";n.d(e,{ZP:function(){return a},gH:function(){return o},vr:function(){return s}});var i=n(9269),r=n(6380);const s={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},o=["beforeShow","show","beforeHide","hide"];function a({showing:t,canShow:e,hideOnRouteChange:n,handleShow:s,handleHide:o,processOnMount:a}){const l=(0,i.FN)(),{props:c,emit:u,proxy:h}=l;let d;function f(e){!0===t.value?m(e):p(e)}function p(t){if(!0===c.disable||void 0!==t&&!0===t.qAnchorHandled||void 0!==e&&!0!==e(t))return;const n=void 0!==c["onUpdate:modelValue"];!0===n&&(u("update:modelValue",!0),d=t,(0,i.Y3)((()=>{d===t&&(d=void 0)}))),null!==c.modelValue&&!1!==n||g(t)}function g(e){!0!==t.value&&(t.value=!0,u("beforeShow",e),void 0!==s?s(e):u("show",e))}function m(t){if(!0===c.disable)return;const e=void 0!==c["onUpdate:modelValue"];!0===e&&(u("update:modelValue",!1),d=t,(0,i.Y3)((()=>{d===t&&(d=void 0)}))),null!==c.modelValue&&!1!==e||v(t)}function v(e){!1!==t.value&&(t.value=!1,u("beforeHide",e),void 0!==o?o(e):u("hide",e))}function y(e){if(!0===c.disable&&!0===e)void 0!==c["onUpdate:modelValue"]&&u("update:modelValue",!1);else if(!0===e!==t.value){const t=!0===e?g:v;t(d)}}(0,i.YP)((()=>c.modelValue),y),void 0!==n&&!0===(0,r.Rb)(l)&&(0,i.YP)((()=>h.$route.fullPath),(()=>{!0===n.value&&!0===t.value&&m()})),!0===a&&(0,i.bv)((()=>{y(c.modelValue)}));const b={show:p,hide:m,toggle:f};return Object.assign(h,b),b}},2130:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});n(4719);var i=n(6237),r=n(9269),s=(n(3027),n(6146)),o=n(4233);const a=[];let l=document.body;function c(t){const e=document.createElement("div");if(void 0!==t&&(e.id=t),void 0!==o.w6.globalNodes){const t=o.w6.globalNodes["class"];void 0!==t&&(e.className=t)}return l.appendChild(e),a.push(e),e}function u(t){a.splice(a.indexOf(t),1),t.remove()}var h=n(1761),d=n(3613);function f(t){t=t.parent;while(void 0!==t&&null!==t){if("QGlobalDialog"===t.type.name)return!0;if("QDialog"===t.type.name||"QMenu"===t.type.name)return!1;t=t.parent}return!1}function p(t,e,n,o){const a=(0,i.iH)(!1),l=(0,i.iH)(!1);let p=null;const g={},m=!0===o&&f(t);function v(e){if(!0===e)return(0,s.xF)(g),void(l.value=!0);l.value=!1,!1===a.value&&(!1===m&&null===p&&(p=c()),a.value=!0,h.Q$.push(t.proxy),(0,s.YX)(g))}function y(e){if(l.value=!1,!0!==e)return;(0,s.xF)(g),a.value=!1;const n=h.Q$.indexOf(t.proxy);-1!==n&&h.Q$.splice(n,1),null!==p&&(u(p),p=null)}return(0,r.Ah)((()=>{y(!0)})),t.proxy.__qPortal=!0,(0,d.g)(t.proxy,"contentEl",(()=>e.value)),{showPortal:v,hidePortal:y,portalIsActive:a,portalIsAccessible:l,renderPortal:()=>!0===m?n():!0===a.value?[(0,r.h)(r.lR,{to:p},n())]:void 0}}},2453:function(t,e,n){"use strict";n.d(e,{$:function(){return h},Z:function(){return d}});var i=n(9269),r=n(6380);function s(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}function o(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function a(t,e){for(const n in e){const i=e[n],r=t[n];if("string"===typeof i){if(i!==r)return!1}else if(!1===Array.isArray(r)||r.length!==i.length||i.some(((t,e)=>t!==r[e])))return!1}return!0}function l(t,e){return!0===Array.isArray(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}function c(t,e){return!0===Array.isArray(t)?l(t,e):!0===Array.isArray(e)?l(e,t):t===e}function u(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!1===c(t[n],e[n]))return!1;return!0}const h={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function d({fallbackTag:t,useDisableForRouterLinkProps:e=!0}={}){const n=(0,i.FN)(),{props:l,proxy:c,emit:h}=n,d=(0,r.Rb)(n),f=(0,i.Fl)((()=>!0!==l.disable&&void 0!==l.href)),p=!0===e?(0,i.Fl)((()=>!0===d&&!0!==l.disable&&!0!==f.value&&void 0!==l.to&&null!==l.to&&""!==l.to)):(0,i.Fl)((()=>!0===d&&!0!==f.value&&void 0!==l.to&&null!==l.to&&""!==l.to)),g=(0,i.Fl)((()=>!0===p.value?k(l.to):null)),m=(0,i.Fl)((()=>null!==g.value)),v=(0,i.Fl)((()=>!0===f.value||!0===m.value)),y=(0,i.Fl)((()=>"a"===l.type||!0===v.value?"a":l.tag||t||"div")),b=(0,i.Fl)((()=>!0===f.value?{href:l.href,target:l.target}:!0===m.value?{href:g.value.href,target:l.target}:{})),w=(0,i.Fl)((()=>{if(!1===m.value)return-1;const{matched:t}=g.value,{length:e}=t,n=t[e-1];if(void 0===n)return-1;const i=c.$route.matched;if(0===i.length)return-1;const r=i.findIndex(o.bind(null,n));if(r>-1)return r;const a=s(t[e-2]);return e>1&&s(n)===a&&i[i.length-1].path!==a?i.findIndex(o.bind(null,t[e-2])):r})),_=(0,i.Fl)((()=>!0===m.value&&-1!==w.value&&a(c.$route.params,g.value.params))),x=(0,i.Fl)((()=>!0===_.value&&w.value===c.$route.matched.length-1&&u(c.$route.params,g.value.params))),S=(0,i.Fl)((()=>!0===m.value?!0===x.value?` ${l.exactActiveClass} ${l.activeClass}`:!0===l.exact?"":!0===_.value?` ${l.activeClass}`:"":""));function k(t){try{return c.$router.resolve(t)}catch(e){}return null}function I(t,{returnRouterError:e,to:n=l.to,replace:i=l.replace}={}){if(!0===l.disable)return t.preventDefault(),Promise.resolve(!1);if(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||void 0!==t.button&&0!==t.button||"_blank"===l.target)return Promise.resolve(!1);t.preventDefault();const r=c.$router[!0===i?"replace":"push"](n);return!0===e?r:r.then((()=>{})).catch((()=>{}))}function E(t){if(!0===m.value){const e=e=>I(t,e);h("click",t,e),!0!==t.defaultPrevented&&e()}else h("click",t)}return{hasRouterLink:m,hasHrefLink:f,hasLink:v,linkTag:y,resolvedLink:g,linkIsActive:_,linkIsExactActive:x,linkClass:S,linkAttrs:b,getLink:k,navigateToRouterLink:I,navigateOnClick:E}}},505:function(t,e,n){"use strict";n.d(e,{LU:function(){return s},Ok:function(){return r},ZP:function(){return o}});var i=n(9269);const r={xs:18,sm:24,md:32,lg:38,xl:46},s={size:String};function o(t,e=r){return(0,i.Fl)((()=>void 0!==t.size?{fontSize:t.size in e?`${e[t.size]}px`:t.size}:null))}},6775:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var i=n(9269),r=n(6380);function s(){let t;const e=(0,i.FN)();function n(){t=void 0}return(0,i.se)(n),(0,i.Jd)(n),{removeTick:n,registerTick(n){t=n,(0,i.Y3)((()=>{t===n&&(!1===(0,r.$D)(e)&&t(),t=void 0)}))}}}},7933:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var i=n(9269),r=n(6380);function s(){let t;const e=(0,i.FN)();function n(){clearTimeout(t)}return(0,i.se)(n),(0,i.Jd)(n),{removeTimeout:n,registerTimeout(n,i){clearTimeout(t),!1===(0,r.$D)(e)&&(t=setTimeout(n,i))}}}},959:function(t,e,n){"use strict";n.d(e,{D:function(){return r},Z:function(){return s}});var i=n(9269);const r={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function s(t,e=(()=>{}),n=(()=>{})){return{transitionProps:(0,i.Fl)((()=>{const i=`q-transition--${t.transitionShow||e()}`,r=`q-transition--${t.transitionHide||n()}`;return{appear:!0,enterFromClass:`${i}-enter-from`,enterActiveClass:`${i}-enter-active`,enterToClass:`${i}-enter-to`,leaveFromClass:`${r}-leave-from`,leaveActiveClass:`${r}-leave-active`,leaveToClass:`${r}-leave-to`}})),transitionStyle:(0,i.Fl)((()=>`--q-transition-duration: ${t.transitionDuration}ms`))}}},8108:function(t,e,n){"use strict";n.d(e,{Z:function(){return u}});n(4719);var i=n(3856),r=n(6145),s=n(3027),o=n(6809);function a(t,e=250){let n,i=!1;return function(){return!1===i&&(i=!0,setTimeout((()=>{i=!1}),e),n=t.apply(this,arguments)),n}}function l(t,e,n,i){!0===n.modifiers.stop&&(0,s.sT)(t);const o=n.modifiers.color;let a=n.modifiers.center;a=!0===a||!0===i;const l=document.createElement("span"),c=document.createElement("span"),u=(0,s.FK)(t),{left:h,top:d,width:f,height:p}=e.getBoundingClientRect(),g=Math.sqrt(f*f+p*p),m=g/2,v=(f-g)/2+"px",y=a?v:u.left-h-m+"px",b=(p-g)/2+"px",w=a?b:u.top-d-m+"px";c.className="q-ripple__inner",(0,r.iv)(c,{height:`${g}px`,width:`${g}px`,transform:`translate3d(${y},${w},0) scale3d(.2,.2,1)`,opacity:0}),l.className="q-ripple"+(o?" text-"+o:""),l.setAttribute("dir","ltr"),l.appendChild(c),e.appendChild(l);const _=()=>{l.remove(),clearTimeout(x)};n.abort.push(_);let x=setTimeout((()=>{c.classList.add("q-ripple__inner--enter"),c.style.transform=`translate3d(${v},${b},0) scale3d(1,1,1)`,c.style.opacity=.2,x=setTimeout((()=>{c.classList.remove("q-ripple__inner--enter"),c.classList.add("q-ripple__inner--leave"),c.style.opacity=0,x=setTimeout((()=>{l.remove(),n.abort.splice(n.abort.indexOf(_),1)}),275)}),250)}),50)}function c(t,{modifiers:e,value:n,arg:i}){const r=Object.assign({},t.cfg.ripple,e,n);t.modifiers={early:!0===r.early,stop:!0===r.stop,center:!0===r.center,color:r.color||i,keyCodes:[].concat(r.keyCodes||13)}}var u=(0,i.f)({name:"ripple",beforeMount(t,e){const n=e.instance.$.appContext.config.globalProperties.$q.config||{};if(!1===n.ripple)return;const i={cfg:n,enabled:!1!==e.value,modifiers:{},abort:[],start(e){!0===i.enabled&&!0!==e.qSkipRipple&&e.type===(!0===i.modifiers.early?"pointerdown":"click")&&l(e,t,i,!0===e.qKeyEvent)},keystart:a((e=>{!0===i.enabled&&!0!==e.qSkipRipple&&!0===(0,o.So)(e,i.modifiers.keyCodes)&&e.type==="key"+(!0===i.modifiers.early?"down":"up")&&l(e,t,i,!0)}),300)};c(i,e),t.__qripple=i,(0,s.M0)(i,"main",[[t,"pointerdown","start","passive"],[t,"click","start","passive"],[t,"keydown","keystart","passive"],[t,"keyup","keystart","passive"]])},updated(t,e){if(e.oldValue!==e.value){const n=t.__qripple;void 0!==n&&(n.enabled=!1!==e.value,!0===n.enabled&&Object(e.value)===e.value&&c(n,e))}},beforeUnmount(t){const e=t.__qripple;void 0!==e&&(e.abort.forEach((t=>{t()})),(0,s.ul)(e,"main"),delete t._qripple)}})},6114:function(t,e,n){"use strict";n(4719);var i=n(1013),r=n(3027);const s=()=>!0;function o(t){return"string"===typeof t&&""!==t&&"/"!==t&&"#/"!==t}function a(t){return!0===t.startsWith("#")&&(t=t.substring(1)),!1===t.startsWith("/")&&(t="/"+t),!0===t.endsWith("/")&&(t=t.substring(0,t.length-1)),"#"+t}function l(t){if(!1===t.backButtonExit)return()=>!1;if("*"===t.backButtonExit)return s;const e=["#/"];return!0===Array.isArray(t.backButtonExit)&&e.push(...t.backButtonExit.filter(o).map(a)),()=>e.includes(window.location.hash)}e["Z"]={__history:[],add:r.ZT,remove:r.ZT,install({$q:t}){if(!0===this.__installed)return;const{cordova:e,capacitor:n}=i.Lp.is;if(!0!==e&&!0!==n)return;const r=t.config[!0===e?"cordova":"capacitor"];if(void 0!==r&&!1===r.backButton)return;if(!0===n&&(void 0===window.Capacitor||void 0===window.Capacitor.Plugins.App))return;this.add=t=>{void 0===t.condition&&(t.condition=s),this.__history.push(t)},this.remove=t=>{const e=this.__history.indexOf(t);e>=0&&this.__history.splice(e,1)};const o=l(Object.assign({backButtonExit:!0},r)),a=()=>{if(this.__history.length){const t=this.__history[this.__history.length-1];!0===t.condition()&&(this.__history.pop(),t.handler())}else!0===o()?navigator.app.exitApp():window.history.back()};!0===e?document.addEventListener("deviceready",(()=>{document.addEventListener("backbutton",a,!1)})):window.Capacitor.Plugins.App.addListener("backButton",a)}}},1013:function(t,e,n){"use strict";n.d(e,{Lp:function(){return g},aG:function(){return o},uX:function(){return s}});n(4719);var i=n(6237),r=n(3613);const s=(0,i.iH)(!1);let o,a=!1;function l(t,e){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(vivaldi)[\/]([\w.]+)/.exec(t)||/(chrome|crios)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(t)||/(firefox|fxios)[\/]([\w.]+)/.exec(t)||/(webkit)[\/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(t)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[2]||n[4]||"0",versionNumber:n[4]||n[2]||"0",platform:e[0]||""}}function c(t){return/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[]}const u="ontouchstart"in window||window.navigator.maxTouchPoints>0;function h(t){o={is:{...t}},delete t.mac,delete t.desktop;const e=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(t,{mobile:!0,ios:!0,platform:e,[e]:!0})}function d(t){const e=t.toLowerCase(),n=c(e),i=l(e,n),r={};i.browser&&(r[i.browser]=!0,r.version=i.version,r.versionNumber=parseInt(i.versionNumber,10)),i.platform&&(r[i.platform]=!0);const s=r.android||r.ios||r.bb||r.blackberry||r.ipad||r.iphone||r.ipod||r.kindle||r.playbook||r.silk||r["windows phone"];return!0===s||e.indexOf("mobile")>-1?(r.mobile=!0,r.edga||r.edgios?(r.edge=!0,i.browser="edge"):r.crios?(r.chrome=!0,i.browser="chrome"):r.fxios&&(r.firefox=!0,i.browser="firefox")):r.desktop=!0,(r.ipod||r.ipad||r.iphone)&&(r.ios=!0),r["windows phone"]&&(r.winphone=!0,delete r["windows phone"]),(r.chrome||r.opr||r.safari||r.vivaldi||!0===r.mobile&&!0!==r.ios&&!0!==s)&&(r.webkit=!0),r.edg&&(i.browser="edgechromium",r.edgeChromium=!0),(r.safari&&r.blackberry||r.bb)&&(i.browser="blackberry",r.blackberry=!0),r.safari&&r.playbook&&(i.browser="playbook",r.playbook=!0),r.opr&&(i.browser="opera",r.opera=!0),r.safari&&r.android&&(i.browser="android",r.android=!0),r.safari&&r.kindle&&(i.browser="kindle",r.kindle=!0),r.safari&&r.silk&&(i.browser="silk",r.silk=!0),r.vivaldi&&(i.browser="vivaldi",r.vivaldi=!0),r.name=i.browser,r.platform=i.platform,e.indexOf("electron")>-1?r.electron=!0:document.location.href.indexOf("-extension://")>-1?r.bex=!0:(void 0!==window.Capacitor?(r.capacitor=!0,r.nativeMobile=!0,r.nativeMobileWrapper="capacitor"):void 0===window._cordovaNative&&void 0===window.cordova||(r.cordova=!0,r.nativeMobile=!0,r.nativeMobileWrapper="cordova"),!0===u&&!0===r.mac&&(!0===r.desktop&&!0===r.safari||!0===r.nativeMobile&&!0!==r.android&&!0!==r.ios&&!0!==r.ipad)&&h(r)),r}const f=navigator.userAgent||navigator.vendor||window.opera,p={has:{touch:!1,webStorage:!1},within:{iframe:!1}},g={userAgent:f,is:d(f),has:{touch:u},within:{iframe:window.self!==window.top}},m={install(t){const{$q:e}=t;!0===s.value?(t.onSSRHydrated.push((()=>{s.value=!1,Object.assign(e.platform,g),o=void 0})),e.platform=(0,i.qj)(this)):e.platform=this}};{let t;(0,r.g)(g.has,"webStorage",(()=>{if(void 0!==t)return t;try{if(window.localStorage)return t=!0,!0}catch(e){}return t=!1,!1})),a=!0===g.is.ios&&-1===window.navigator.vendor.toLowerCase().indexOf("apple"),!0===s.value?Object.assign(m,g,o,p):Object.assign(m,g)}e["ZP"]=m},7265:function(t,e,n){"use strict";function i(t,e=250,n){let i;function r(){const r=arguments,s=()=>{i=void 0,!0!==n&&t.apply(this,r)};clearTimeout(i),!0===n&&void 0===i&&t.apply(this,r),i=setTimeout(s,e)}return r.cancel=()=>{clearTimeout(i)},r}n.d(e,{Z:function(){return i}})},6145:function(t,e,n){"use strict";n.d(e,{iv:function(){return r},mY:function(){return o},sb:function(){return s}});var i=n(6237);function r(t,e){const n=t.style;for(const i in e)n[i]=e[i]}function s(t){if(void 0===t||null===t)return;if("string"===typeof t)try{return document.querySelector(t)||void 0}catch(n){return}const e=(0,i.SU)(t);return e?e.$el||e:void 0}function o(t,e){if(void 0===t||null===t||!0===t.contains(e))return!0;for(let n=t.nextElementSibling;null!==n;n=n.nextElementSibling)if(n.contains(e))return!0;return!1}},3027:function(t,e,n){"use strict";n.d(e,{AZ:function(){return o},FK:function(){return s},M0:function(){return u},NS:function(){return c},X$:function(){return l},ZT:function(){return r},rU:function(){return i},sT:function(){return a},ul:function(){return h}});n(4719);const i={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const t=Object.defineProperty({},"passive",{get(){Object.assign(i,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,t),window.removeEventListener("qtest",null,t)}catch(d){}function r(){}function s(t){return t.touches&&t.touches[0]?t=t.touches[0]:t.changedTouches&&t.changedTouches[0]?t=t.changedTouches[0]:t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),{top:t.clientY,left:t.clientX}}function o(t){if(t.path)return t.path;if(t.composedPath)return t.composedPath();const e=[];let n=t.target;while(n){if(e.push(n),"HTML"===n.tagName)return e.push(document),e.push(window),e;n=n.parentElement}}function a(t){t.stopPropagation()}function l(t){!1!==t.cancelable&&t.preventDefault()}function c(t){!1!==t.cancelable&&t.preventDefault(),t.stopPropagation()}function u(t,e,n){const r=`__q_${e}_evt`;t[r]=void 0!==t[r]?t[r].concat(n):n,n.forEach((e=>{e[0].addEventListener(e[1],t[e[2]],i[e[3]])}))}function h(t,e){const n=`__q_${e}_evt`;void 0!==t[n]&&(t[n].forEach((e=>{e[0].removeEventListener(e[1],t[e[2]],i[e[3]])})),t[n]=void 0)}},7328:function(t,e,n){"use strict";n.d(e,{Uz:function(){return s},rB:function(){return r}});const i=["B","KB","MB","GB","TB","PB"];function r(t){let e=0;while(parseInt(t,10)>=1024&&e<i.length-1)t/=1024,++e;return`${t.toFixed(1)}${i[e]}`}function s(t,e,n){if(n<=e)return e;const i=n-e+1;let r=e+(t-e)%i;return r<e&&(r=i+r),0===r?0:r}},3704:function(t,e,n){"use strict";n.d(e,{J_:function(){return s},Kn:function(){return r},hj:function(){return o},xb:function(){return i}});n(1098);function i(t,e){if(t===e)return!0;if(null!==t&&null!==e&&"object"===typeof t&&"object"===typeof e){if(t.constructor!==e.constructor)return!1;let n,r;if(t.constructor===Array){if(n=t.length,n!==e.length)return!1;for(r=n;0!==r--;)if(!0!==i(t[r],e[r]))return!1;return!0}if(t.constructor===Map){if(t.size!==e.size)return!1;r=t.entries().next();while(!0!==r.done){if(!0!==e.has(r.value[0]))return!1;r=r.next()}r=t.entries().next();while(!0!==r.done){if(!0!==i(r.value[1],e.get(r.value[0])))return!1;r=r.next()}return!0}if(t.constructor===Set){if(t.size!==e.size)return!1;r=t.entries().next();while(!0!==r.done){if(!0!==e.has(r.value[0]))return!1;r=r.next()}return!0}if(null!=t.buffer&&t.buffer.constructor===ArrayBuffer){if(n=t.length,n!==e.length)return!1;for(r=n;0!==r--;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const s=Object.keys(t).filter((e=>void 0!==t[e]));if(n=s.length,n!==Object.keys(e).filter((t=>void 0!==e[t])).length)return!1;for(r=n;0!==r--;){const n=s[r];if(!0!==i(t[n],e[n]))return!1}return!0}return t!==t&&e!==e}function r(t){return null!==t&&"object"===typeof t&&!0!==Array.isArray(t)}function s(t){return"[object Date]"===Object.prototype.toString.call(t)}function o(t){return"number"===typeof t&&isFinite(t)}},3856:function(t,e,n){"use strict";n.d(e,{L:function(){return s},f:function(){return o}});var i=n(6237),r=n(9269);const s=t=>(0,i.Xl)((0,r.aZ)(t)),o=t=>(0,i.Xl)(t)},1135:function(t,e,n){"use strict";n.d(e,{c:function(){return h},k:function(){return d}});n(4719);var i=n(1013),r=n(6809);const s=[];let o;function a(t){o=27===t.keyCode}function l(){!0===o&&(o=!1)}function c(t){!0===o&&(o=!1,!0===(0,r.So)(t,27)&&s[s.length-1](t))}function u(t){window[t]("keydown",a),window[t]("blur",l),window[t]("keyup",c),o=!1}function h(t){!0===i.Lp.is.desktop&&(s.push(t),1===s.length&&u("addEventListener"))}function d(t){const e=s.indexOf(t);e>-1&&(s.splice(e,1),0===s.length&&u("removeEventListener"))}},6146:function(t,e,n){"use strict";n.d(e,{YX:function(){return o},fP:function(){return c},jd:function(){return l},xF:function(){return a}});n(4719);let i=[],r=[];function s(t){r=r.filter((e=>e!==t))}function o(t){s(t),r.push(t)}function a(t){s(t),0===r.length&&i.length>0&&(i[i.length-1](),i=[])}function l(t){0===r.length?t():i.push(t)}function c(t){i=i.filter((e=>e!==t))}},7001:function(t,e,n){"use strict";n.d(e,{H:function(){return a},i:function(){return o}});n(4719);var i=n(1013);const r=[];function s(t){r[r.length-1](t)}function o(t){!0===i.Lp.is.desktop&&(r.push(t),1===r.length&&document.body.addEventListener("focusin",s))}function a(t){const e=r.indexOf(t);e>-1&&(r.splice(e,1),0===r.length&&document.body.removeEventListener("focusin",s))}},4233:function(t,e,n){"use strict";n.d(e,{Uf:function(){return r},tP:function(){return s},w6:function(){return i}});const i={};let r=!1;function s(){r=!0}},3613:function(t,e,n){"use strict";function i(t,e,n,i){return Object.defineProperty(t,e,{get:n,set:i,enumerable:!0}),t}function r(t,e){for(const n in e)i(t,n,e[n]);return t}n.d(e,{K:function(){return r},g:function(){return i}})},6809:function(t,e,n){"use strict";n.d(e,{So:function(){return o},Wm:function(){return s},ZK:function(){return r}});let i=!1;function r(t){i=!0===t.isComposing}function s(t){return!0===i||t!==Object(t)||!0===t.isComposing||!0===t.qKeyEvent}function o(t,e){return!0!==s(t)&&[].concat(e).includes(t.keyCode)}},1761:function(t,e,n){"use strict";n.d(e,{AH:function(){return s},Q$:function(){return r}});var i=n(6380);const r=[];function s(t,e){do{if("QMenu"===t.$options.name){if(t.hide(e),!0===t.$props.separateClosePopup)return(0,i.O2)(t)}else if(!0===t.__qPortal){const n=(0,i.O2)(t);return void 0!==n&&"QPopupProxy"===n.$options.name?(t.hide(e),n):t}t=(0,i.O2)(t)}while(void 0!==t&&null!==t)}},64:function(t,e,n){"use strict";n.d(e,{Bl:function(){return s},Jl:function(){return l},KR:function(){return r},pf:function(){return a},vs:function(){return o}});var i=n(9269);function r(t,e){return void 0!==t&&t()||e}function s(t,e){if(void 0!==t){const e=t();if(void 0!==e&&null!==e)return e.slice()}return e}function o(t,e){return void 0!==t?e.concat(t()):e}function a(t,e){return void 0===t?e:void 0!==e?e.concat(t()):t()}function l(t,e,n,r,s,o){e.key=r+s;const a=(0,i.h)(t,e,n);return!0===s?(0,i.wy)(a,o()):a}},4300:function(t,e,n){"use strict";n.d(e,{Mw:function(){return s},Ng:function(){return i},YE:function(){return r},qO:function(){return a},vh:function(){return o}});const i="_q_",r="_q_l_",s="_q_pc_",o="_q_fo_",a=()=>{}},6380:function(t,e,n){"use strict";function i(t){if(Object(t.$parent)===t.$parent)return t.$parent;let{parent:e}=t.$;while(Object(e)===e){if(Object(e.proxy)===e.proxy)return e.proxy;e=e.parent}}function r(t){return void 0!==t.appContext.config.globalProperties.$router}function s(t){return!0===t.isUnmounted||!0===t.isDeactivated}n.d(e,{$D:function(){return s},O2:function(){return i},Rb:function(){return r}})},7336:function(t,e,n){"use strict";n.d(e,{OI:function(){return a},QA:function(){return u},b0:function(){return s},np:function(){return c},u3:function(){return o}});var i=n(6145);const r=[null,document,document.body,document.scrollingElement,document.documentElement];function s(t,e){let n=(0,i.sb)(e);if(void 0===n){if(void 0===t||null===t)return window;n=t.closest(".scroll,.scroll-y,.overflow-auto")}return r.includes(n)?window:n}function o(t){return t===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:t.scrollTop}function a(t){return t===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:t.scrollLeft}let l;function c(){if(void 0!==l)return l;const t=document.createElement("p"),e=document.createElement("div");(0,i.iv)(t,{width:"100%",height:"200px"}),(0,i.iv)(e,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),e.appendChild(t),document.body.appendChild(e);const n=t.offsetWidth;e.style.overflow="scroll";let r=t.offsetWidth;return n===r&&(r=e.clientWidth),e.remove(),l=n-r,l}function u(t,e=!0){return!(!t||t.nodeType!==Node.ELEMENT_NODE)&&(e?t.scrollHeight>t.clientHeight&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-y"])):t.scrollWidth>t.clientWidth&&(t.classList.contains("scroll")||t.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(t)["overflow-x"])))}},1878:function(t,e,n){"use strict";n.d(e,{Z:function(){return l}});n(4719);let i,r=0;const s=new Array(256);for(let c=0;c<256;c++)s[c]=(c+256).toString(16).substring(1);const o=(()=>{const t="undefined"!==typeof crypto?crypto:"undefined"!==typeof window?window.crypto||window.msCrypto:void 0;if(void 0!==t){if(void 0!==t.randomBytes)return t.randomBytes;if(void 0!==t.getRandomValues)return e=>{const n=new Uint8Array(e);return t.getRandomValues(n),n}}return t=>{const e=[];for(let n=t;n>0;n--)e.push(Math.floor(256*Math.random()));return e}})(),a=4096;function l(){(void 0===i||r+16>a)&&(r=0,i=o(a));const t=Array.prototype.slice.call(i,r,r+=16);return t[6]=15&t[6]|64,t[8]=63&t[8]|128,s[t[0]]+s[t[1]]+s[t[2]]+s[t[3]]+"-"+s[t[4]]+s[t[5]]+"-"+s[t[6]]+s[t[7]]+"-"+s[t[8]]+s[t[9]]+"-"+s[t[10]]+s[t[11]]+s[t[12]]+s[t[13]]+s[t[14]]+s[t[15]]}},751:function(t,e,n){"use strict";n.d(e,{Z:function(){return N}});var i=n(1013),r=(n(4719),n(6237)),s=n(3613),o=(t,e)=>{const n=(0,r.qj)(t);for(const i in t)(0,s.g)(e,i,(()=>n[i]),(t=>{n[i]=t}));return e},a=n(3027),l=n(7265);const c=["sm","md","lg","xl"],{passive:u}=a.rU;var h=o({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:a.ZT,setDebounce:a.ZT,install({$q:t,onSSRHydrated:e}){if(t.screen=this,!0===this.__installed)return void(void 0!==t.config.screen&&(!1===t.config.screen.bodyClasses?document.body.classList.remove(`screen--${this.name}`):this.__update(!0)));const{visualViewport:n}=window,r=n||window,s=document.scrollingElement||document.documentElement,o=void 0===n||!0===i.Lp.is.mobile?()=>[Math.max(window.innerWidth,s.clientWidth),Math.max(window.innerHeight,s.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-s.clientWidth,n.height*n.scale+window.innerHeight-s.clientHeight],a=void 0!==t.config.screen&&!0===t.config.screen.bodyClasses;this.__update=t=>{const[e,n]=o();if(n!==this.height&&(this.height=n),e!==this.width)this.width=e;else if(!0!==t)return;let i=this.sizes;this.gt.xs=e>=i.sm,this.gt.sm=e>=i.md,this.gt.md=e>=i.lg,this.gt.lg=e>=i.xl,this.lt.sm=e<i.sm,this.lt.md=e<i.md,this.lt.lg=e<i.lg,this.lt.xl=e<i.xl,this.xs=this.lt.sm,this.sm=!0===this.gt.xs&&!0===this.lt.md,this.md=!0===this.gt.sm&&!0===this.lt.lg,this.lg=!0===this.gt.md&&!0===this.lt.xl,this.xl=this.gt.lg,i=(!0===this.xs?"xs":!0===this.sm&&"sm")||!0===this.md&&"md"||!0===this.lg&&"lg"||"xl",i!==this.name&&(!0===a&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${i}`)),this.name=i)};let h,d={},f=16;this.setSizes=t=>{c.forEach((e=>{void 0!==t[e]&&(d[e]=t[e])}))},this.setDebounce=t=>{f=t};const p=()=>{const t=getComputedStyle(document.body);t.getPropertyValue("--q-size-sm")&&c.forEach((e=>{this.sizes[e]=parseInt(t.getPropertyValue(`--q-size-${e}`),10)})),this.setSizes=t=>{c.forEach((e=>{t[e]&&(this.sizes[e]=t[e])})),this.__update(!0)},this.setDebounce=t=>{void 0!==h&&r.removeEventListener("resize",h,u),h=t>0?(0,l.Z)(this.__update,t):this.__update,r.addEventListener("resize",h,u)},this.setDebounce(f),Object.keys(d).length>0?(this.setSizes(d),d=void 0):this.__update(),!0===a&&"xs"===this.name&&document.body.classList.add("screen--xs")};!0===i.uX.value?e.push(p):p()}});const d=o({isActive:!1,mode:!1},{__media:void 0,set(t){d.mode=t,"auto"===t?(void 0===d.__media&&(d.__media=window.matchMedia("(prefers-color-scheme: dark)"),d.__updateMedia=()=>{d.set("auto")},d.__media.addListener(d.__updateMedia)),t=d.__media.matches):void 0!==d.__media&&(d.__media.removeListener(d.__updateMedia),d.__media=void 0),d.isActive=!0===t,document.body.classList.remove("body--"+(!0===t?"light":"dark")),document.body.classList.add("body--"+(!0===t?"dark":"light"))},toggle(){d.set(!1===d.isActive)},install({$q:t,onSSRHydrated:e,ssrContext:n}){const{dark:r}=t.config;if(t.dark=this,!0===this.__installed&&void 0===r)return;this.isActive=!0===r;const s=void 0!==r&&r;if(!0===i.uX.value){const t=t=>{this.__fromSSR=t},n=this.set;this.set=t,t(s),e.push((()=>{this.set=n,this.set(this.__fromSSR)}))}else this.set(s)}});var f=d,p=n(6114),g={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:t=>t?`Expand "${t}"`:"Expand",collapse:t=>t?`Collapse "${t}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:t=>1===t?"1 record selected.":(0===t?"No":t)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(t,e,n)=>t+"-"+e+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function m(){const t=!0===Array.isArray(navigator.languages)&&navigator.languages.length>0?navigator.languages[0]:navigator.language;if("string"===typeof t)return t.split(/[-_]/).map(((t,e)=>0===e?t.toLowerCase():e>1||t.length<4?t.toUpperCase():t[0].toUpperCase()+t.slice(1).toLowerCase())).join("-")}const v=o({__langPack:{}},{getLocale:m,set(t=g,e){const n={...t,rtl:!0===t.rtl,getLocale:m};{const t=document.documentElement;t.setAttribute("dir",!0===n.rtl?"rtl":"ltr"),t.setAttribute("lang",n.isoName),n.set=v.set,Object.assign(v.__langPack,n),v.props=n,v.isoName=n.isoName,v.nativeName=n.nativeName}},install({$q:t,lang:e,ssrContext:n}){t.lang=v.__langPack,!0===this.__installed?void 0!==e&&this.set(e):this.set(e||g)}});var y=v;function b(t,e,n=document.body){if("string"!==typeof t)throw new TypeError("Expected a string as propName");if("string"!==typeof e)throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${t}`,e)}var w=n(6809);function _(t){return!0===t.ios?"ios":!0===t.android?"android":void 0}function x({is:t,has:e,within:n},i){const r=[!0===t.desktop?"desktop":"mobile",(!1===e.touch?"no-":"")+"touch"];if(!0===t.mobile){const e=_(t);void 0!==e&&r.push("platform-"+e)}if(!0===t.nativeMobile){const e=t.nativeMobileWrapper;r.push(e),r.push("native-mobile"),!0!==t.ios||void 0!==i[e]&&!1===i[e].iosStatusBarPadding||r.push("q-ios-padding")}else!0===t.electron?r.push("electron"):!0===t.bex&&r.push("bex");return!0===n.iframe&&r.push("within-iframe"),r}function S(){const t=document.body.className;let e=t;void 0!==i.aG&&(e=e.replace("desktop","platform-ios mobile")),!0===i.Lp.has.touch&&(e=e.replace("no-touch","touch")),!0===i.Lp.within.iframe&&(e+=" within-iframe"),t!==e&&(document.body.className=e)}function k(t){for(const e in t)b(e,t[e])}var I={install(t){if(!0!==this.__installed){if(!0===i.uX.value)S();else{const{$q:e}=t;void 0!==e.config.brand&&k(e.config.brand);const n=x(i.Lp,e.config);document.body.classList.add.apply(document.body.classList,n)}!0===i.Lp.is.ios&&document.body.addEventListener("touchstart",a.ZT),window.addEventListener("keydown",w.ZK,!0)}}},E={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const T=o({iconMapFn:null,__icons:{}},{set(t,e){const n={...t,rtl:!0===t.rtl};n.set=T.set,Object.assign(T.__icons,n)},install({$q:t,iconSet:e,ssrContext:n}){void 0!==t.config.iconMapFn&&(this.iconMapFn=t.config.iconMapFn),t.iconSet=this.__icons,(0,s.g)(t,"iconMapFn",(()=>this.iconMapFn),(t=>{this.iconMapFn=t})),!0===this.__installed?void 0!==e&&this.set(e):this.set(e||E)}});var C=T,A=n(4300),M=n(4233),D=n(3704);const O=[i.ZP,I,f,h,p.Z,y,C];function P(t,e){e.forEach((e=>{e.install(t),e.__installed=!0}))}function R(t,e,n){t.config.globalProperties.$q=n.$q,t.provide(A.Ng,n.$q),P(n,O),void 0!==e.components&&Object.values(e.components).forEach((e=>{!0===(0,D.Kn)(e)&&void 0!==e.name&&t.component(e.name,e)})),void 0!==e.directives&&Object.values(e.directives).forEach((e=>{!0===(0,D.Kn)(e)&&void 0!==e.name&&t.directive(e.name,e)})),void 0!==e.plugins&&P(n,Object.values(e.plugins).filter((t=>"function"===typeof t.install&&!1===O.includes(t)))),!0===i.uX.value&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach((t=>{t()})),n.$q.onSSRHydrated=()=>{}})}var L=function(t,e={}){const n={version:"2.11.1"};!1===M.Uf?(void 0!==e.config&&Object.assign(M.w6,e.config),n.config={...M.w6},(0,M.tP)()):n.config=e.config||{},R(t,e,{parentApp:t,$q:n,lang:e.lang,iconSet:e.iconSet,onSSRHydrated:[]})},N={version:"2.11.1",install:L,lang:y,iconSet:C}},9840:function(t,e,n){"use strict";n.d(e,{$s:function(){return Y},BH:function(){return C},G6:function(){return g},L:function(){return a},LL:function(){return O},P0:function(){return I},Pz:function(){return T},Sg:function(){return A},ZR:function(){return D},aH:function(){return E},b$:function(){return f},eu:function(){return v},hl:function(){return m},m9:function(){return Q},ne:function(){return j},pd:function(){return B},q4:function(){return k},ru:function(){return d},tV:function(){return l},uI:function(){return u},vZ:function(){return N},w1:function(){return p},xO:function(){return V},xb:function(){return L},z$:function(){return c},zI:function(){return y},zd:function(){return q}});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const i=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296===(64512&r)&&i+1<t.length&&56320===(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},r=function(t){const e=[];let n=0,i=0;while(n<t.length){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((7&r)<<18|(63&s)<<12|(63&o)<<6|63&a)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(1023&l))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&o)}}return e.join("")},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const e=t[r],s=r+1<t.length,o=s?t[r+1]:0,a=r+2<t.length,l=a?t[r+2]:0,c=e>>2,u=(3&e)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):r(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const e=n[t.charAt(r++)],s=r<t.length,o=s?n[t.charAt(r)]:0;++r;const a=r<t.length,l=a?n[t.charAt(r)]:64;++r;const c=r<t.length,u=c?n[t.charAt(r)]:64;if(++r,null==e||null==o||null==l||null==u)throw Error();const h=e<<2|o>>4;if(i.push(h),64!==l){const t=o<<4&240|l>>2;if(i.push(t),64!==u){const t=l<<6&192|u;i.push(t)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},o=function(t){const e=i(t);return s.encodeByteArray(e,!0)},a=function(t){return o(t).replace(/\./g,"")},l=function(t){try{return s.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function c(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function u(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function d(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function f(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function p(){const t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return!h()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m(){try{return"object"===typeof indexedDB}catch(t){return!1}}function v(){return new Promise(((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var t;e((null===(t=r.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}))}function y(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}function b(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w=()=>b().__FIREBASE_DEFAULTS__,_=()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",VUE_APP_FBKEY:"AIzaSyCBOg9TLihuWVuoNLXxlXKLMh7QUEQ3qYE",VUE_APP_FBDOMAIN:"open-frametimes-db.firebaseapp.com",VUE_APP_FBPID:"open-frametimes-db",VUE_APP_FBBUCKET:"open-frametimes-db.appspot.com",VUE_APP_FBMSID:"507969102704",VUE_APP_FBAPPID:"1:507969102704:web:c50d20eed901858156e5b5",VUE_APP_FBMID:"G-N6TKEP4BDZ",BASE_URL:"/openframetimes_db/"}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0},x=()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=t&&l(t[1]);return e&&JSON.parse(e)},S=()=>{try{return w()||_()||x()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},k=t=>{var e,n;return null===(n=null===(e=S())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},I=t=>{const e=k(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),i]:[e.substring(0,n),i]},E=()=>{var t;return null===(t=S())||void 0===t?void 0:t.config},T=t=>{var e;return null===(e=S())||void 0===e?void 0:e[`_${t}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class C{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[a(JSON.stringify(n)),a(JSON.stringify(o)),l].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M="FirebaseError";class D extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=M,Object.setPrototypeOf(this,D.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O.prototype.create)}}class O{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},i=`${this.service}/${t}`,r=this.errors[t],s=r?P(r,n):"Error",o=`${this.serviceName}: ${s} (${i}).`,a=new D(i,o,n);return a}}function P(t,e){return t.replace(R,((t,n)=>{const i=e[n];return null!=i?String(i):`<${n}?>`}))}const R=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function N(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const n=t[r],s=e[r];if(F(n)&&F(s)){if(!N(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function F(t){return null!==t&&"object"===typeof t}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function V(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function q(t){const e={},n=t.replace(/^\?/,"").split("&");return n.forEach((t=>{if(t){const[n,i]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(i)}})),e}function B(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(t,e){const n=new z(t,e);return n.subscribe.bind(n)}class z{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let i;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=U(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=$),void 0===i.error&&(i.error=$),void 0===i.complete&&(i.complete=$);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(t){}})),this.observers.push(i),r}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function U(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}function $(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const H=1e3,W=2,K=144e5,G=.5;function Y(t,e=H,n=W){const i=e*Math.pow(n,t),r=Math.round(G*i*(Math.random()-.5)*2);return Math.min(K,i+r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Q(t){return t&&t._delegate?t._delegate:t}},6237:function(t,e,n){"use strict";n.d(e,{B:function(){return o},Bj:function(){return s},Fl:function(){return Ht},IU:function(){return At},Jd:function(){return k},PG:function(){return It},SU:function(){return Bt},Um:function(){return xt},WL:function(){return zt},X$:function(){return C},X3:function(){return Ct},XI:function(){return Ft},Xl:function(){return Mt},dq:function(){return Lt},iH:function(){return Nt},j:function(){return E},lk:function(){return I},qj:function(){return _t},qq:function(){return w},yT:function(){return Tt}});var i=n(3201);let r;class s{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=r,!t&&r&&(this.index=(r.scopes||(r.scopes=[])).push(this)-1)}run(t){if(this.active){const e=r;try{return r=this,t()}finally{r=e}}else 0}on(){r=this}off(){r=this.parent}stop(t){if(this.active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this.active=!1}}}function o(t){return new s(t)}function a(t,e=r){e&&e.active&&e.effects.push(t)}const l=t=>{const e=new Set(t);return e.w=0,e.n=0,e},c=t=>(t.w&g)>0,u=t=>(t.n&g)>0,h=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=g},d=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const r=e[i];c(r)&&!u(r)?r.delete(t):e[n++]=r,r.w&=~g,r.n&=~g}e.length=n}},f=new WeakMap;let p=0,g=1;const m=30;let v;const y=Symbol(""),b=Symbol("");class w{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,a(this,n)}run(){if(!this.active)return this.fn();let t=v,e=x;while(t){if(t===this)return;t=t.parent}try{return this.parent=v,v=this,x=!0,g=1<<++p,p<=m?h(this):_(this),this.fn()}finally{p<=m&&d(this),g=1<<--p,v=this.parent,x=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){v===this?this.deferStop=!0:this.active&&(_(this),this.onStop&&this.onStop(),this.active=!1)}}function _(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let x=!0;const S=[];function k(){S.push(x),x=!1}function I(){const t=S.pop();x=void 0===t||t}function E(t,e,n){if(x&&v){let e=f.get(t);e||f.set(t,e=new Map);let i=e.get(n);i||e.set(n,i=l());const r=void 0;T(i,r)}}function T(t,e){let n=!1;p<=m?u(t)||(t.n|=g,n=!c(t)):n=!t.has(v),n&&(t.add(v),v.deps.push(t))}function C(t,e,n,r,s,o){const a=f.get(t);if(!a)return;let c=[];if("clear"===e)c=[...a.values()];else if("length"===n&&(0,i.kJ)(t)){const t=(0,i.He)(r);a.forEach(((e,n)=>{("length"===n||n>=t)&&c.push(e)}))}else switch(void 0!==n&&c.push(a.get(n)),e){case"add":(0,i.kJ)(t)?(0,i.S0)(n)&&c.push(a.get("length")):(c.push(a.get(y)),(0,i._N)(t)&&c.push(a.get(b)));break;case"delete":(0,i.kJ)(t)||(c.push(a.get(y)),(0,i._N)(t)&&c.push(a.get(b)));break;case"set":(0,i._N)(t)&&c.push(a.get(y));break}if(1===c.length)c[0]&&A(c[0]);else{const t=[];for(const e of c)e&&t.push(...e);A(l(t))}}function A(t,e){const n=(0,i.kJ)(t)?t:[...t];for(const i of n)i.computed&&M(i,e);for(const i of n)i.computed||M(i,e)}function M(t,e){(t!==v||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const D=(0,i.fY)("__proto__,__v_isRef,__isVue"),O=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(i.yk)),P=V(),R=V(!1,!0),L=V(!0),N=F();function F(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=At(this);for(let e=0,r=this.length;e<r;e++)E(n,"get",e+"");const i=n[e](...t);return-1===i||!1===i?n[e](...t.map(At)):i}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){k();const n=At(this)[e].apply(this,t);return I(),n}})),t}function V(t=!1,e=!1){return function(n,r,s){if("__v_isReactive"===r)return!t;if("__v_isReadonly"===r)return t;if("__v_isShallow"===r)return e;if("__v_raw"===r&&s===(t?e?yt:vt:e?mt:gt).get(n))return n;const o=(0,i.kJ)(n);if(!t&&o&&(0,i.RI)(N,r))return Reflect.get(N,r,s);const a=Reflect.get(n,r,s);return((0,i.yk)(r)?O.has(r):D(r))?a:(t||E(n,"get",r),e?a:Lt(a)?o&&(0,i.S0)(r)?a:a.value:(0,i.Kn)(a)?t?St(a):_t(a):a)}}const q=j(),B=j(!0);function j(t=!1){return function(e,n,r,s){let o=e[n];if(Et(o)&&Lt(o)&&!Lt(r))return!1;if(!t&&(Tt(r)||Et(r)||(o=At(o),r=At(r)),!(0,i.kJ)(e)&&Lt(o)&&!Lt(r)))return o.value=r,!0;const a=(0,i.kJ)(e)&&(0,i.S0)(n)?Number(n)<e.length:(0,i.RI)(e,n),l=Reflect.set(e,n,r,s);return e===At(s)&&(a?(0,i.aU)(r,o)&&C(e,"set",n,r,o):C(e,"add",n,r)),l}}function z(t,e){const n=(0,i.RI)(t,e),r=t[e],s=Reflect.deleteProperty(t,e);return s&&n&&C(t,"delete",e,void 0,r),s}function U(t,e){const n=Reflect.has(t,e);return(0,i.yk)(e)&&O.has(e)||E(t,"has",e),n}function $(t){return E(t,"iterate",(0,i.kJ)(t)?"length":y),Reflect.ownKeys(t)}const H={get:P,set:q,deleteProperty:z,has:U,ownKeys:$},W={get:L,set(t,e){return!0},deleteProperty(t,e){return!0}},K=(0,i.l7)({},H,{get:R,set:B}),G=t=>t,Y=t=>Reflect.getPrototypeOf(t);function Q(t,e,n=!1,i=!1){t=t["__v_raw"];const r=At(t),s=At(e);n||(e!==s&&E(r,"get",e),E(r,"get",s));const{has:o}=Y(r),a=i?G:n?Ot:Dt;return o.call(r,e)?a(t.get(e)):o.call(r,s)?a(t.get(s)):void(t!==r&&t.get(e))}function X(t,e=!1){const n=this["__v_raw"],i=At(n),r=At(t);return e||(t!==r&&E(i,"has",t),E(i,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function Z(t,e=!1){return t=t["__v_raw"],!e&&E(At(t),"iterate",y),Reflect.get(t,"size",t)}function J(t){t=At(t);const e=At(this),n=Y(e),i=n.has.call(e,t);return i||(e.add(t),C(e,"add",t,t)),this}function tt(t,e){e=At(e);const n=At(this),{has:r,get:s}=Y(n);let o=r.call(n,t);o||(t=At(t),o=r.call(n,t));const a=s.call(n,t);return n.set(t,e),o?(0,i.aU)(e,a)&&C(n,"set",t,e,a):C(n,"add",t,e),this}function et(t){const e=At(this),{has:n,get:i}=Y(e);let r=n.call(e,t);r||(t=At(t),r=n.call(e,t));const s=i?i.call(e,t):void 0,o=e.delete(t);return r&&C(e,"delete",t,void 0,s),o}function nt(){const t=At(this),e=0!==t.size,n=void 0,i=t.clear();return e&&C(t,"clear",void 0,void 0,n),i}function it(t,e){return function(n,i){const r=this,s=r["__v_raw"],o=At(s),a=e?G:t?Ot:Dt;return!t&&E(o,"iterate",y),s.forEach(((t,e)=>n.call(i,a(t),a(e),r)))}}function rt(t,e,n){return function(...r){const s=this["__v_raw"],o=At(s),a=(0,i._N)(o),l="entries"===t||t===Symbol.iterator&&a,c="keys"===t&&a,u=s[t](...r),h=n?G:e?Ot:Dt;return!e&&E(o,"iterate",c?b:y),{next(){const{value:t,done:e}=u.next();return e?{value:t,done:e}:{value:l?[h(t[0]),h(t[1])]:h(t),done:e}},[Symbol.iterator](){return this}}}}function st(t){return function(...e){return"delete"!==t&&this}}function ot(){const t={get(t){return Q(this,t)},get size(){return Z(this)},has:X,add:J,set:tt,delete:et,clear:nt,forEach:it(!1,!1)},e={get(t){return Q(this,t,!1,!0)},get size(){return Z(this)},has:X,add:J,set:tt,delete:et,clear:nt,forEach:it(!1,!0)},n={get(t){return Q(this,t,!0)},get size(){return Z(this,!0)},has(t){return X.call(this,t,!0)},add:st("add"),set:st("set"),delete:st("delete"),clear:st("clear"),forEach:it(!0,!1)},i={get(t){return Q(this,t,!0,!0)},get size(){return Z(this,!0)},has(t){return X.call(this,t,!0)},add:st("add"),set:st("set"),delete:st("delete"),clear:st("clear"),forEach:it(!0,!0)},r=["keys","values","entries",Symbol.iterator];return r.forEach((r=>{t[r]=rt(r,!1,!1),n[r]=rt(r,!0,!1),e[r]=rt(r,!1,!0),i[r]=rt(r,!0,!0)})),[t,n,e,i]}const[at,lt,ct,ut]=ot();function ht(t,e){const n=e?t?ut:ct:t?lt:at;return(e,r,s)=>"__v_isReactive"===r?!t:"__v_isReadonly"===r?t:"__v_raw"===r?e:Reflect.get((0,i.RI)(n,r)&&r in e?n:e,r,s)}const dt={get:ht(!1,!1)},ft={get:ht(!1,!0)},pt={get:ht(!0,!1)};const gt=new WeakMap,mt=new WeakMap,vt=new WeakMap,yt=new WeakMap;function bt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wt(t){return t["__v_skip"]||!Object.isExtensible(t)?0:bt((0,i.W7)(t))}function _t(t){return Et(t)?t:kt(t,!1,H,dt,gt)}function xt(t){return kt(t,!1,K,ft,mt)}function St(t){return kt(t,!0,W,pt,vt)}function kt(t,e,n,r,s){if(!(0,i.Kn)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const o=s.get(t);if(o)return o;const a=wt(t);if(0===a)return t;const l=new Proxy(t,2===a?r:n);return s.set(t,l),l}function It(t){return Et(t)?It(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function Et(t){return!(!t||!t["__v_isReadonly"])}function Tt(t){return!(!t||!t["__v_isShallow"])}function Ct(t){return It(t)||Et(t)}function At(t){const e=t&&t["__v_raw"];return e?At(e):t}function Mt(t){return(0,i.Nj)(t,"__v_skip",!0),t}const Dt=t=>(0,i.Kn)(t)?_t(t):t,Ot=t=>(0,i.Kn)(t)?St(t):t;function Pt(t){x&&v&&(t=At(t),T(t.dep||(t.dep=l())))}function Rt(t,e){t=At(t),t.dep&&A(t.dep)}function Lt(t){return!(!t||!0!==t.__v_isRef)}function Nt(t){return Vt(t,!1)}function Ft(t){return Vt(t,!0)}function Vt(t,e){return Lt(t)?t:new qt(t,e)}class qt{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:At(t),this._value=e?t:Dt(t)}get value(){return Pt(this),this._value}set value(t){const e=this.__v_isShallow||Tt(t)||Et(t);t=e?t:At(t),(0,i.aU)(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:Dt(t),Rt(this,t))}}function Bt(t){return Lt(t)?t.value:t}const jt={get:(t,e,n)=>Bt(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return Lt(r)&&!Lt(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function zt(t){return It(t)?t:new Proxy(t,jt)}var Ut;class $t{constructor(t,e,n,i){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this[Ut]=!1,this._dirty=!0,this.effect=new w(t,(()=>{this._dirty||(this._dirty=!0,Rt(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=n}get value(){const t=At(this);return Pt(t),!t._dirty&&t._cacheable||(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Ht(t,e,n=!1){let r,s;const o=(0,i.mf)(t);o?(r=t,s=i.dG):(r=t.get,s=t.set);const a=new $t(r,s,o||!s,n);return a}Ut="__v_isReadonly"},9269:function(t,e,n){"use strict";n.d(e,{$d:function(){return o},Ah:function(){return It},FN:function(){return bn},Fl:function(){return Ln},HY:function(){return Ve},JJ:function(){return $},Jd:function(){return kt},Ko:function(){return Ft},P$:function(){return et},Q6:function(){return at},U2:function(){return it},Uk:function(){return ln},Us:function(){return ke},Wm:function(){return rn},Xn:function(){return xt},Y3:function(){return y},Y8:function(){return Z},YP:function(){return K},_:function(){return nn},aZ:function(){return lt},bv:function(){return _t},dl:function(){return dt},f3:function(){return H},h:function(){return Nn},iD:function(){return Ye},ic:function(){return St},j4:function(){return Qe},kq:function(){return cn},lR:function(){return Ne},nK:function(){return ot},se:function(){return ft},up:function(){return Pt},w5:function(){return L},wF:function(){return wt},wg:function(){return $e},wy:function(){return Mt}});var i=n(6237),r=n(3201);function s(t,e,n,i){let r;try{r=i?t(...i):t()}catch(s){a(s,e,n)}return r}function o(t,e,n,i){if((0,r.mf)(t)){const o=s(t,e,n,i);return o&&(0,r.tI)(o)&&o.catch((t=>{a(t,e,n)})),o}const l=[];for(let r=0;r<t.length;r++)l.push(o(t[r],e,n,i));return l}function a(t,e,n,i=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const r=e.proxy,o=n;while(i){const e=i.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,r,o))return;i=i.parent}const a=e.appContext.config.errorHandler;if(a)return void s(a,null,10,[t,r,o])}l(t,n,r,i)}function l(t,e,n,i=!0){console.error(t)}let c=!1,u=!1;const h=[];let d=0;const f=[];let p=null,g=0;const m=Promise.resolve();let v=null;function y(t){const e=v||m;return t?e.then(this?t.bind(this):t):e}function b(t){let e=d+1,n=h.length;while(e<n){const i=e+n>>>1,r=E(h[i]);r<t?e=i+1:n=i}return e}function w(t){h.length&&h.includes(t,c&&t.allowRecurse?d+1:d)||(null==t.id?h.push(t):h.splice(b(t.id),0,t),_())}function _(){c||u||(u=!0,v=m.then(C))}function x(t){const e=h.indexOf(t);e>d&&h.splice(e,1)}function S(t){(0,r.kJ)(t)?f.push(...t):p&&p.includes(t,t.allowRecurse?g+1:g)||f.push(t),_()}function k(t,e=(c?d+1:0)){for(0;e<h.length;e++){const t=h[e];t&&t.pre&&(h.splice(e,1),e--,t())}}function I(t){if(f.length){const t=[...new Set(f)];if(f.length=0,p)return void p.push(...t);for(p=t,p.sort(((t,e)=>E(t)-E(e))),g=0;g<p.length;g++)p[g]();p=null,g=0}}const E=t=>null==t.id?1/0:t.id,T=(t,e)=>{const n=E(t)-E(e);if(0===n){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function C(t){u=!1,c=!0,h.sort(T);r.dG;try{for(d=0;d<h.length;d++){const t=h[d];t&&!1!==t.active&&s(t,null,14)}}finally{d=0,h.length=0,I(t),c=!1,v=null,(h.length||f.length)&&C(t)}}new Set;new Map;function A(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||r.kT;let s=n;const a=e.startsWith("update:"),l=a&&e.slice(7);if(l&&l in i){const t=`${"modelValue"===l?"model":l}Modifiers`,{number:e,trim:o}=i[t]||r.kT;o&&(s=n.map((t=>(0,r.HD)(t)?t.trim():t))),e&&(s=n.map(r.He))}let c;let u=i[c=(0,r.hR)(e)]||i[c=(0,r.hR)((0,r._A)(e))];!u&&a&&(u=i[c=(0,r.hR)((0,r.rs)(e))]),u&&o(u,t,6,s);const h=i[c+"Once"];if(h){if(t.emitted){if(t.emitted[c])return}else t.emitted={};t.emitted[c]=!0,o(h,t,6,s)}}function M(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(void 0!==s)return s;const o=t.emits;let a={},l=!1;if(!(0,r.mf)(t)){const i=t=>{const n=M(t,e,!0);n&&(l=!0,(0,r.l7)(a,n))};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}return o||l?((0,r.kJ)(o)?o.forEach((t=>a[t]=null)):(0,r.l7)(a,o),(0,r.Kn)(t)&&i.set(t,a),a):((0,r.Kn)(t)&&i.set(t,null),null)}function D(t,e){return!(!t||!(0,r.F7)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,r.RI)(t,e[0].toLowerCase()+e.slice(1))||(0,r.RI)(t,(0,r.rs)(e))||(0,r.RI)(t,e))}let O=null,P=null;function R(t){const e=O;return O=t,P=t&&t.type.__scopeId||null,e}function L(t,e=O,n){if(!e)return t;if(t._n)return t;const i=(...n)=>{i._d&&Ke(-1);const r=R(e);let s;try{s=t(...n)}finally{R(r),i._d&&Ke(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function N(t){const{type:e,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[l],slots:c,attrs:u,emit:h,render:d,renderCache:f,data:p,setupState:g,ctx:m,inheritAttrs:v}=t;let y,b;const w=R(t);try{if(4&n.shapeFlag){const t=s||i;y=un(d.call(t,t,f,o,g,p,m)),b=u}else{const t=e;0,y=un(t.length>1?t(o,{attrs:u,slots:c,emit:h}):t(o,null)),b=e.props?u:F(u)}}catch(x){ze.length=0,a(x,t,1),y=rn(Be)}let _=y;if(b&&!1!==v){const t=Object.keys(b),{shapeFlag:e}=_;t.length&&7&e&&(l&&t.some(r.tR)&&(b=V(b,l)),_=an(_,b))}return n.dirs&&(_=an(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),y=_,R(w),y}const F=t=>{let e;for(const n in t)("class"===n||"style"===n||(0,r.F7)(n))&&((e||(e={}))[n]=t[n]);return e},V=(t,e)=>{const n={};for(const i in t)(0,r.tR)(i)&&i.slice(9)in e||(n[i]=t[i]);return n};function q(t,e,n){const{props:i,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&l>=0))return!(!r&&!a||a&&a.$stable)||i!==o&&(i?!o||B(i,o,c):!!o);if(1024&l)return!0;if(16&l)return i?B(i,o,c):!!o;if(8&l){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(o[n]!==i[n]&&!D(c,n))return!0}}return!1}function B(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!D(n,s))return!0}return!1}function j({vnode:t,parent:e},n){while(e&&e.subTree===t)(t=e.vnode).el=n,e=e.parent}const z=t=>t.__isSuspense;function U(t,e){e&&e.pendingBranch?(0,r.kJ)(t)?e.effects.push(...t):e.effects.push(t):S(t)}function $(t,e){if(yn){let n=yn.provides;const i=yn.parent&&yn.parent.provides;i===n&&(n=yn.provides=Object.create(i)),n[t]=e}else 0}function H(t,e,n=!1){const i=yn||O;if(i){const s=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&(0,r.mf)(e)?e.call(i.proxy):e}else 0}const W={};function K(t,e,n){return G(t,e,n)}function G(t,e,{immediate:n,deep:a,flush:l,onTrack:c,onTrigger:u}=r.kT){const h=yn;let d,f,p=!1,g=!1;if((0,i.dq)(t)?(d=()=>t.value,p=(0,i.yT)(t)):(0,i.PG)(t)?(d=()=>t,a=!0):(0,r.kJ)(t)?(g=!0,p=t.some((t=>(0,i.PG)(t)||(0,i.yT)(t))),d=()=>t.map((t=>(0,i.dq)(t)?t.value:(0,i.PG)(t)?X(t):(0,r.mf)(t)?s(t,h,2):void 0))):d=(0,r.mf)(t)?e?()=>s(t,h,2):()=>{if(!h||!h.isUnmounted)return f&&f(),o(t,h,3,[v])}:r.dG,e&&a){const t=d;d=()=>X(t())}let m,v=t=>{f=x.onStop=()=>{s(t,h,4)}};if(In){if(v=r.dG,e?n&&o(e,h,3,[d(),g?[]:void 0,v]):d(),"sync"!==l)return r.dG;{const t=Vn();m=t.__watcherHandles||(t.__watcherHandles=[])}}let y=g?new Array(t.length).fill(W):W;const b=()=>{if(x.active)if(e){const t=x.run();(a||p||(g?t.some(((t,e)=>(0,r.aU)(t,y[e]))):(0,r.aU)(t,y)))&&(f&&f(),o(e,h,3,[t,y===W?void 0:g&&y[0]===W?[]:y,v]),y=t)}else x.run()};let _;b.allowRecurse=!!e,"sync"===l?_=b:"post"===l?_=()=>Se(b,h&&h.suspense):(b.pre=!0,h&&(b.id=h.uid),_=()=>w(b));const x=new i.qq(d,_);e?n?b():y=x.run():"post"===l?Se(x.run.bind(x),h&&h.suspense):x.run();const S=()=>{x.stop(),h&&h.scope&&(0,r.Od)(h.scope.effects,x)};return m&&m.push(S),S}function Y(t,e,n){const i=this.proxy,s=(0,r.HD)(t)?t.includes(".")?Q(i,t):()=>i[t]:t.bind(i,i);let o;(0,r.mf)(e)?o=e:(o=e.handler,n=e);const a=yn;wn(this);const l=G(s,o.bind(i),n);return a?wn(a):_n(),l}function Q(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function X(t,e){if(!(0,r.Kn)(t)||t["__v_skip"])return t;if(e=e||new Set,e.has(t))return t;if(e.add(t),(0,i.dq)(t))X(t.value,e);else if((0,r.kJ)(t))for(let n=0;n<t.length;n++)X(t[n],e);else if((0,r.DM)(t)||(0,r._N)(t))t.forEach((t=>{X(t,e)}));else if((0,r.PO)(t))for(const n in t)X(t[n],e);return t}function Z(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _t((()=>{t.isMounted=!0})),kt((()=>{t.isUnmounting=!0})),t}const J=[Function,Array],tt={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:J,onEnter:J,onAfterEnter:J,onEnterCancelled:J,onBeforeLeave:J,onLeave:J,onAfterLeave:J,onLeaveCancelled:J,onBeforeAppear:J,onAppear:J,onAfterAppear:J,onAppearCancelled:J},setup(t,{slots:e}){const n=bn(),r=Z();let s;return()=>{const o=e.default&&at(e.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){let t=!1;for(const e of o)if(e.type!==Be){0,a=e,t=!0;break}}const l=(0,i.IU)(t),{mode:c}=l;if(r.isLeaving)return rt(a);const u=st(a);if(!u)return rt(a);const h=it(u,l,r,n);ot(u,h);const d=n.subTree,f=d&&st(d);let p=!1;const{getTransitionKey:g}=u.type;if(g){const t=g();void 0===s?s=t:t!==s&&(s=t,p=!0)}if(f&&f.type!==Be&&(!Ze(u,f)||p)){const t=it(f,l,r,n);if(ot(f,t),"out-in"===c)return r.isLeaving=!0,t.afterLeave=()=>{r.isLeaving=!1,!1!==n.update.active&&n.update()},rt(a);"in-out"===c&&u.type!==Be&&(t.delayLeave=(t,e,n)=>{const i=nt(r,f);i[String(f.key)]=f,t._leaveCb=()=>{e(),t._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return a}}},et=tt;function nt(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function it(t,e,n,i){const{appear:s,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:w}=e,_=String(t.key),x=nt(n,t),S=(t,e)=>{t&&o(t,i,9,e)},k=(t,e)=>{const n=e[1];S(t,e),(0,r.kJ)(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},I={mode:a,persisted:l,beforeEnter(e){let i=c;if(!n.isMounted){if(!s)return;i=v||c}e._leaveCb&&e._leaveCb(!0);const r=x[_];r&&Ze(t,r)&&r.el._leaveCb&&r.el._leaveCb(),S(i,[e])},enter(t){let e=u,i=h,r=d;if(!n.isMounted){if(!s)return;e=y||u,i=b||h,r=w||d}let o=!1;const a=t._enterCb=e=>{o||(o=!0,S(e?r:i,[t]),I.delayedLeave&&I.delayedLeave(),t._enterCb=void 0)};e?k(e,[t,a]):a()},leave(e,i){const r=String(t.key);if(e._enterCb&&e._enterCb(!0),n.isUnmounting)return i();S(f,[e]);let s=!1;const o=e._leaveCb=n=>{s||(s=!0,i(),S(n?m:g,[e]),e._leaveCb=void 0,x[r]===t&&delete x[r])};x[r]=t,p?k(p,[e,o]):o()},clone(t){return it(t,e,n,i)}};return I}function rt(t){if(ut(t))return t=an(t),t.children=null,t}function st(t){return ut(t)?t.children?t.children[0]:void 0:t}function ot(t,e){6&t.shapeFlag&&t.component?ot(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function at(t,e=!1,n){let i=[],r=0;for(let s=0;s<t.length;s++){let o=t[s];const a=null==n?o.key:String(n)+String(null!=o.key?o.key:s);o.type===Ve?(128&o.patchFlag&&r++,i=i.concat(at(o.children,e,a))):(e||o.type!==Be)&&i.push(null!=a?an(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}function lt(t){return(0,r.mf)(t)?{setup:t,name:t.name}:t}const ct=t=>!!t.type.__asyncLoader;const ut=t=>t.type.__isKeepAlive;RegExp,RegExp;function ht(t,e){return(0,r.kJ)(t)?t.some((t=>ht(t,e))):(0,r.HD)(t)?t.split(",").includes(e):!!t.test&&t.test(e)}function dt(t,e){pt(t,"a",e)}function ft(t,e){pt(t,"da",e)}function pt(t,e,n=yn){const i=t.__wdc||(t.__wdc=()=>{let e=n;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(yt(e,i,n),n){let t=n.parent;while(t&&t.parent)ut(t.parent.vnode)&&gt(i,e,n,t),t=t.parent}}function gt(t,e,n,i){const s=yt(e,t,i,!0);It((()=>{(0,r.Od)(i[e],s)}),n)}function mt(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function vt(t){return 128&t.shapeFlag?t.ssContent:t}function yt(t,e,n=yn,r=!1){if(n){const s=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...r)=>{if(n.isUnmounted)return;(0,i.Jd)(),wn(n);const s=o(e,n,t,r);return _n(),(0,i.lk)(),s});return r?s.unshift(a):s.push(a),a}}const bt=t=>(e,n=yn)=>(!In||"sp"===t)&&yt(t,((...t)=>e(...t)),n),wt=bt("bm"),_t=bt("m"),xt=bt("bu"),St=bt("u"),kt=bt("bum"),It=bt("um"),Et=bt("sp"),Tt=bt("rtg"),Ct=bt("rtc");function At(t,e=yn){yt("ec",t,e)}function Mt(t,e){const n=O;if(null===n)return t;const i=On(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,n,a,l=r.kT]=e[o];t&&((0,r.mf)(t)&&(t={mounted:t,updated:t}),t.deep&&X(n),s.push({dir:t,instance:i,value:n,oldValue:void 0,arg:a,modifiers:l}))}return t}function Dt(t,e,n,r){const s=t.dirs,a=e&&e.dirs;for(let l=0;l<s.length;l++){const c=s[l];a&&(c.oldValue=a[l].value);let u=c.dir[r];u&&((0,i.Jd)(),o(u,n,8,[t.el,c,t,e]),(0,i.lk)())}}const Ot="components";function Pt(t,e){return Lt(Ot,t,!0,e)||t}const Rt=Symbol();function Lt(t,e,n=!0,i=!1){const s=O||yn;if(s){const n=s.type;if(t===Ot){const t=Pn(n,!1);if(t&&(t===e||t===(0,r._A)(e)||t===(0,r.kC)((0,r._A)(e))))return n}const o=Nt(s[t]||n[t],e)||Nt(s.appContext[t],e);return!o&&i?n:o}}function Nt(t,e){return t&&(t[e]||t[(0,r._A)(e)]||t[(0,r.kC)((0,r._A)(e))])}function Ft(t,e,n,i){let s;const o=n&&n[i];if((0,r.kJ)(t)||(0,r.HD)(t)){s=new Array(t.length);for(let n=0,i=t.length;n<i;n++)s[n]=e(t[n],n,void 0,o&&o[n])}else if("number"===typeof t){0,s=new Array(t);for(let n=0;n<t;n++)s[n]=e(n+1,n,void 0,o&&o[n])}else if((0,r.Kn)(t))if(t[Symbol.iterator])s=Array.from(t,((t,n)=>e(t,n,void 0,o&&o[n])));else{const n=Object.keys(t);s=new Array(n.length);for(let i=0,r=n.length;i<r;i++){const r=n[i];s[i]=e(t[r],r,i,o&&o[i])}}else s=[];return n&&(n[i]=s),s}const Vt=t=>t?xn(t)?On(t)||t.proxy:Vt(t.parent):null,qt=(0,r.l7)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Vt(t.parent),$root:t=>Vt(t.root),$emit:t=>t.emit,$options:t=>Kt(t),$forceUpdate:t=>t.f||(t.f=()=>w(t.update)),$nextTick:t=>t.n||(t.n=y.bind(t.proxy)),$watch:t=>Y.bind(t)}),Bt=(t,e)=>t!==r.kT&&!t.__isScriptSetup&&(0,r.RI)(t,e),jt={get({_:t},e){const{ctx:n,setupState:s,data:o,props:a,accessCache:l,type:c,appContext:u}=t;let h;if("$"!==e[0]){const i=l[e];if(void 0!==i)switch(i){case 1:return s[e];case 2:return o[e];case 4:return n[e];case 3:return a[e]}else{if(Bt(s,e))return l[e]=1,s[e];if(o!==r.kT&&(0,r.RI)(o,e))return l[e]=2,o[e];if((h=t.propsOptions[0])&&(0,r.RI)(h,e))return l[e]=3,a[e];if(n!==r.kT&&(0,r.RI)(n,e))return l[e]=4,n[e];zt&&(l[e]=0)}}const d=qt[e];let f,p;return d?("$attrs"===e&&(0,i.j)(t,"get",e),d(t)):(f=c.__cssModules)&&(f=f[e])?f:n!==r.kT&&(0,r.RI)(n,e)?(l[e]=4,n[e]):(p=u.config.globalProperties,(0,r.RI)(p,e)?p[e]:void 0)},set({_:t},e,n){const{data:i,setupState:s,ctx:o}=t;return Bt(s,e)?(s[e]=n,!0):i!==r.kT&&(0,r.RI)(i,e)?(i[e]=n,!0):!(0,r.RI)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(o[e]=n,!0))},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:o}},a){let l;return!!n[a]||t!==r.kT&&(0,r.RI)(t,a)||Bt(e,a)||(l=o[0])&&(0,r.RI)(l,a)||(0,r.RI)(i,a)||(0,r.RI)(qt,a)||(0,r.RI)(s.config.globalProperties,a)},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:(0,r.RI)(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let zt=!0;function Ut(t){const e=Kt(t),n=t.proxy,s=t.ctx;zt=!1,e.beforeCreate&&Ht(e.beforeCreate,t,"bc");const{data:o,computed:a,methods:l,watch:c,provide:u,inject:h,created:d,beforeMount:f,mounted:p,beforeUpdate:g,updated:m,activated:v,deactivated:y,beforeDestroy:b,beforeUnmount:w,destroyed:_,unmounted:x,render:S,renderTracked:k,renderTriggered:I,errorCaptured:E,serverPrefetch:T,expose:C,inheritAttrs:A,components:M,directives:D,filters:O}=e,P=null;if(h&&$t(h,s,P,t.appContext.config.unwrapInjectedRef),l)for(const i in l){const t=l[i];(0,r.mf)(t)&&(s[i]=t.bind(n))}if(o){0;const e=o.call(n,n);0,(0,r.Kn)(e)&&(t.data=(0,i.qj)(e))}if(zt=!0,a)for(const i in a){const t=a[i],e=(0,r.mf)(t)?t.bind(n,n):(0,r.mf)(t.get)?t.get.bind(n,n):r.dG;0;const o=!(0,r.mf)(t)&&(0,r.mf)(t.set)?t.set.bind(n):r.dG,l=Ln({get:e,set:o});Object.defineProperty(s,i,{enumerable:!0,configurable:!0,get:()=>l.value,set:t=>l.value=t})}if(c)for(const i in c)Wt(c[i],s,n,i);if(u){const t=(0,r.mf)(u)?u.call(n):u;Reflect.ownKeys(t).forEach((e=>{$(e,t[e])}))}function R(t,e){(0,r.kJ)(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(d&&Ht(d,t,"c"),R(wt,f),R(_t,p),R(xt,g),R(St,m),R(dt,v),R(ft,y),R(At,E),R(Ct,k),R(Tt,I),R(kt,w),R(It,x),R(Et,T),(0,r.kJ)(C))if(C.length){const e=t.exposed||(t.exposed={});C.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});S&&t.render===r.dG&&(t.render=S),null!=A&&(t.inheritAttrs=A),M&&(t.components=M),D&&(t.directives=D)}function $t(t,e,n=r.dG,s=!1){(0,r.kJ)(t)&&(t=Zt(t));for(const o in t){const n=t[o];let a;a=(0,r.Kn)(n)?"default"in n?H(n.from||o,n.default,!0):H(n.from||o):H(n),(0,i.dq)(a)&&s?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:t=>a.value=t}):e[o]=a}}function Ht(t,e,n){o((0,r.kJ)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function Wt(t,e,n,i){const s=i.includes(".")?Q(n,i):()=>n[i];if((0,r.HD)(t)){const n=e[t];(0,r.mf)(n)&&K(s,n)}else if((0,r.mf)(t))K(s,t.bind(n));else if((0,r.Kn)(t))if((0,r.kJ)(t))t.forEach((t=>Wt(t,e,n,i)));else{const i=(0,r.mf)(t.handler)?t.handler.bind(n):e[t.handler];(0,r.mf)(i)&&K(s,i,t)}else 0}function Kt(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:o,config:{optionMergeStrategies:a}}=t.appContext,l=o.get(e);let c;return l?c=l:s.length||n||i?(c={},s.length&&s.forEach((t=>Gt(c,t,a,!0))),Gt(c,e,a)):c=e,(0,r.Kn)(e)&&o.set(e,c),c}function Gt(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&Gt(t,s,n,!0),r&&r.forEach((e=>Gt(t,e,n,!0)));for(const o in e)if(i&&"expose"===o);else{const i=Yt[o]||n&&n[o];t[o]=i?i(t[o],e[o]):e[o]}return t}const Yt={data:Qt,props:te,emits:te,methods:te,computed:te,beforeCreate:Jt,created:Jt,beforeMount:Jt,mounted:Jt,beforeUpdate:Jt,updated:Jt,beforeDestroy:Jt,beforeUnmount:Jt,destroyed:Jt,unmounted:Jt,activated:Jt,deactivated:Jt,errorCaptured:Jt,serverPrefetch:Jt,components:te,directives:te,watch:ee,provide:Qt,inject:Xt};function Qt(t,e){return e?t?function(){return(0,r.l7)((0,r.mf)(t)?t.call(this,this):t,(0,r.mf)(e)?e.call(this,this):e)}:e:t}function Xt(t,e){return te(Zt(t),Zt(e))}function Zt(t){if((0,r.kJ)(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Jt(t,e){return t?[...new Set([].concat(t,e))]:e}function te(t,e){return t?(0,r.l7)((0,r.l7)(Object.create(null),t),e):e}function ee(t,e){if(!t)return e;if(!e)return t;const n=(0,r.l7)(Object.create(null),t);for(const i in e)n[i]=Jt(t[i],e[i]);return n}function ne(t,e,n,s=!1){const o={},a={};(0,r.Nj)(a,Je,1),t.propsDefaults=Object.create(null),re(t,e,o,a);for(const i in t.propsOptions[0])i in o||(o[i]=void 0);n?t.props=s?o:(0,i.Um)(o):t.type.props?t.props=o:t.props=a,t.attrs=a}function ie(t,e,n,s){const{props:o,attrs:a,vnode:{patchFlag:l}}=t,c=(0,i.IU)(o),[u]=t.propsOptions;let h=!1;if(!(s||l>0)||16&l){let i;re(t,e,o,a)&&(h=!0);for(const s in c)e&&((0,r.RI)(e,s)||(i=(0,r.rs)(s))!==s&&(0,r.RI)(e,i))||(u?!n||void 0===n[s]&&void 0===n[i]||(o[s]=se(u,c,s,void 0,t,!0)):delete o[s]);if(a!==c)for(const t in a)e&&(0,r.RI)(e,t)||(delete a[t],h=!0)}else if(8&l){const n=t.vnode.dynamicProps;for(let i=0;i<n.length;i++){let s=n[i];if(D(t.emitsOptions,s))continue;const l=e[s];if(u)if((0,r.RI)(a,s))l!==a[s]&&(a[s]=l,h=!0);else{const e=(0,r._A)(s);o[e]=se(u,c,e,l,t,!1)}else l!==a[s]&&(a[s]=l,h=!0)}}h&&(0,i.X$)(t,"set","$attrs")}function re(t,e,n,s){const[o,a]=t.propsOptions;let l,c=!1;if(e)for(let i in e){if((0,r.Gg)(i))continue;const u=e[i];let h;o&&(0,r.RI)(o,h=(0,r._A)(i))?a&&a.includes(h)?(l||(l={}))[h]=u:n[h]=u:D(t.emitsOptions,i)||i in s&&u===s[i]||(s[i]=u,c=!0)}if(a){const e=(0,i.IU)(n),s=l||r.kT;for(let i=0;i<a.length;i++){const l=a[i];n[l]=se(o,e,l,s[l],t,!(0,r.RI)(s,l))}}return c}function se(t,e,n,i,s,o){const a=t[n];if(null!=a){const t=(0,r.RI)(a,"default");if(t&&void 0===i){const t=a.default;if(a.type!==Function&&(0,r.mf)(t)){const{propsDefaults:r}=s;n in r?i=r[n]:(wn(s),i=r[n]=t.call(null,e),_n())}else i=t}a[0]&&(o&&!t?i=!1:!a[1]||""!==i&&i!==(0,r.rs)(n)||(i=!0))}return i}function oe(t,e,n=!1){const i=e.propsCache,s=i.get(t);if(s)return s;const o=t.props,a={},l=[];let c=!1;if(!(0,r.mf)(t)){const i=t=>{c=!0;const[n,i]=oe(t,e,!0);(0,r.l7)(a,n),i&&l.push(...i)};!n&&e.mixins.length&&e.mixins.forEach(i),t.extends&&i(t.extends),t.mixins&&t.mixins.forEach(i)}if(!o&&!c)return(0,r.Kn)(t)&&i.set(t,r.Z6),r.Z6;if((0,r.kJ)(o))for(let h=0;h<o.length;h++){0;const t=(0,r._A)(o[h]);ae(t)&&(a[t]=r.kT)}else if(o){0;for(const t in o){const e=(0,r._A)(t);if(ae(e)){const n=o[t],i=a[e]=(0,r.kJ)(n)||(0,r.mf)(n)?{type:n}:Object.assign({},n);if(i){const t=ue(Boolean,i.type),n=ue(String,i.type);i[0]=t>-1,i[1]=n<0||t<n,(t>-1||(0,r.RI)(i,"default"))&&l.push(e)}}}}const u=[a,l];return(0,r.Kn)(t)&&i.set(t,u),u}function ae(t){return"$"!==t[0]}function le(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:null===t?"null":""}function ce(t,e){return le(t)===le(e)}function ue(t,e){return(0,r.kJ)(e)?e.findIndex((e=>ce(e,t))):(0,r.mf)(e)&&ce(e,t)?0:-1}const he=t=>"_"===t[0]||"$stable"===t,de=t=>(0,r.kJ)(t)?t.map(un):[un(t)],fe=(t,e,n)=>{if(e._n)return e;const i=L(((...t)=>de(e(...t))),n);return i._c=!1,i},pe=(t,e,n)=>{const i=t._ctx;for(const s in t){if(he(s))continue;const n=t[s];if((0,r.mf)(n))e[s]=fe(s,n,i);else if(null!=n){0;const t=de(n);e[s]=()=>t}}},ge=(t,e)=>{const n=de(e);t.slots.default=()=>n},me=(t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=(0,i.IU)(e),(0,r.Nj)(e,"_",n)):pe(e,t.slots={})}else t.slots={},e&&ge(t,e);(0,r.Nj)(t.slots,Je,1)},ve=(t,e,n)=>{const{vnode:i,slots:s}=t;let o=!0,a=r.kT;if(32&i.shapeFlag){const t=e._;t?n&&1===t?o=!1:((0,r.l7)(s,e),n||1!==t||delete s._):(o=!e.$stable,pe(e,s)),a=e}else e&&(ge(t,e),a={default:1});if(o)for(const r in s)he(r)||r in a||delete s[r]};function ye(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let be=0;function we(t,e){return function(n,i=null){(0,r.mf)(n)||(n=Object.assign({},n)),null==i||(0,r.Kn)(i)||(i=null);const s=ye(),o=new Set;let a=!1;const l=s.app={_uid:be++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:qn,get config(){return s.config},set config(t){0},use(t,...e){return o.has(t)||(t&&(0,r.mf)(t.install)?(o.add(t),t.install(l,...e)):(0,r.mf)(t)&&(o.add(t),t(l,...e))),l},mixin(t){return s.mixins.includes(t)||s.mixins.push(t),l},component(t,e){return e?(s.components[t]=e,l):s.components[t]},directive(t,e){return e?(s.directives[t]=e,l):s.directives[t]},mount(r,o,c){if(!a){0;const u=rn(n,i);return u.appContext=s,o&&e?e(u,r):t(u,r,c),a=!0,l._container=r,r.__vue_app__=l,On(u.component)||u.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(t,e){return s.provides[t]=e,l}};return l}}function _e(t,e,n,o,a=!1){if((0,r.kJ)(t))return void t.forEach(((t,i)=>_e(t,e&&((0,r.kJ)(e)?e[i]:e),n,o,a)));if(ct(o)&&!a)return;const l=4&o.shapeFlag?On(o.component)||o.component.proxy:o.el,c=a?null:l,{i:u,r:h}=t;const d=e&&e.r,f=u.refs===r.kT?u.refs={}:u.refs,p=u.setupState;if(null!=d&&d!==h&&((0,r.HD)(d)?(f[d]=null,(0,r.RI)(p,d)&&(p[d]=null)):(0,i.dq)(d)&&(d.value=null)),(0,r.mf)(h))s(h,u,12,[c,f]);else{const e=(0,r.HD)(h),s=(0,i.dq)(h);if(e||s){const i=()=>{if(t.f){const n=e?(0,r.RI)(p,h)?p[h]:f[h]:h.value;a?(0,r.kJ)(n)&&(0,r.Od)(n,l):(0,r.kJ)(n)?n.includes(l)||n.push(l):e?(f[h]=[l],(0,r.RI)(p,h)&&(p[h]=f[h])):(h.value=[l],t.k&&(f[t.k]=h.value))}else e?(f[h]=c,(0,r.RI)(p,h)&&(p[h]=c)):s&&(h.value=c,t.k&&(f[t.k]=c))};c?(i.id=-1,Se(i,n)):i()}else 0}}function xe(){}const Se=U;function ke(t){return Ie(t)}function Ie(t,e){xe();const n=(0,r.E9)();n.__VUE__=!0;const{insert:s,remove:o,patchProp:a,createElement:l,createText:c,createComment:u,setText:h,setElementText:d,parentNode:f,nextSibling:p,setScopeId:g=r.dG,insertStaticContent:m}=t,v=(t,e,n,i=null,r=null,s=null,o=!1,a=null,l=!!e.dynamicChildren)=>{if(t===e)return;t&&!Ze(t,e)&&(i=Z(t),K(t,r,s,!0),t=null),-2===e.patchFlag&&(l=!1,e.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=e;switch(c){case qe:y(t,e,n,i);break;case Be:b(t,e,n,i);break;case je:null==t&&_(e,n,i,o);break;case Ve:R(t,e,n,i,r,s,o,a,l);break;default:1&h?T(t,e,n,i,r,s,o,a,l):6&h?L(t,e,n,i,r,s,o,a,l):(64&h||128&h)&&c.process(t,e,n,i,r,s,o,a,l,tt)}null!=u&&r&&_e(u,t&&t.ref,s,e||t,!e)},y=(t,e,n,i)=>{if(null==t)s(e.el=c(e.children),n,i);else{const n=e.el=t.el;e.children!==t.children&&h(n,e.children)}},b=(t,e,n,i)=>{null==t?s(e.el=u(e.children||""),n,i):e.el=t.el},_=(t,e,n,i)=>{[t.el,t.anchor]=m(t.children,e,n,i,t.el,t.anchor)},S=({el:t,anchor:e},n,i)=>{let r;while(t&&t!==e)r=p(t),s(t,n,i),t=r;s(e,n,i)},E=({el:t,anchor:e})=>{let n;while(t&&t!==e)n=p(t),o(t),t=n;o(e)},T=(t,e,n,i,r,s,o,a,l)=>{o=o||"svg"===e.type,null==t?C(e,n,i,r,s,o,a,l):D(t,e,r,s,o,a,l)},C=(t,e,n,i,o,c,u,h)=>{let f,p;const{type:g,props:m,shapeFlag:v,transition:y,dirs:b}=t;if(f=t.el=l(t.type,c,m&&m.is,m),8&v?d(f,t.children):16&v&&M(t.children,f,null,i,o,c&&"foreignObject"!==g,u,h),b&&Dt(t,null,i,"created"),m){for(const e in m)"value"===e||(0,r.Gg)(e)||a(f,e,null,m[e],c,t.children,i,o,X);"value"in m&&a(f,"value",null,m.value),(p=m.onVnodeBeforeMount)&&pn(p,i,t)}A(f,t,t.scopeId,u,i),b&&Dt(t,null,i,"beforeMount");const w=(!o||o&&!o.pendingBranch)&&y&&!y.persisted;w&&y.beforeEnter(f),s(f,e,n),((p=m&&m.onVnodeMounted)||w||b)&&Se((()=>{p&&pn(p,i,t),w&&y.enter(f),b&&Dt(t,null,i,"mounted")}),o)},A=(t,e,n,i,r)=>{if(n&&g(t,n),i)for(let s=0;s<i.length;s++)g(t,i[s]);if(r){let n=r.subTree;if(e===n){const e=r.vnode;A(t,e,e.scopeId,e.slotScopeIds,r.parent)}}},M=(t,e,n,i,r,s,o,a,l=0)=>{for(let c=l;c<t.length;c++){const l=t[c]=a?hn(t[c]):un(t[c]);v(null,l,e,n,i,r,s,o,a)}},D=(t,e,n,i,s,o,l)=>{const c=e.el=t.el;let{patchFlag:u,dynamicChildren:h,dirs:f}=e;u|=16&t.patchFlag;const p=t.props||r.kT,g=e.props||r.kT;let m;n&&Ee(n,!1),(m=g.onVnodeBeforeUpdate)&&pn(m,n,e,t),f&&Dt(e,t,n,"beforeUpdate"),n&&Ee(n,!0);const v=s&&"foreignObject"!==e.type;if(h?O(t.dynamicChildren,h,c,n,i,v,o):l||U(t,e,c,null,n,i,v,o,!1),u>0){if(16&u)P(c,e,p,g,n,i,s);else if(2&u&&p.class!==g.class&&a(c,"class",null,g.class,s),4&u&&a(c,"style",p.style,g.style,s),8&u){const r=e.dynamicProps;for(let e=0;e<r.length;e++){const o=r[e],l=p[o],u=g[o];u===l&&"value"!==o||a(c,o,l,u,s,t.children,n,i,X)}}1&u&&t.children!==e.children&&d(c,e.children)}else l||null!=h||P(c,e,p,g,n,i,s);((m=g.onVnodeUpdated)||f)&&Se((()=>{m&&pn(m,n,e,t),f&&Dt(e,t,n,"updated")}),i)},O=(t,e,n,i,r,s,o)=>{for(let a=0;a<e.length;a++){const l=t[a],c=e[a],u=l.el&&(l.type===Ve||!Ze(l,c)||70&l.shapeFlag)?f(l.el):n;v(l,c,u,null,i,r,s,o,!0)}},P=(t,e,n,i,s,o,l)=>{if(n!==i){if(n!==r.kT)for(const c in n)(0,r.Gg)(c)||c in i||a(t,c,n[c],null,l,e.children,s,o,X);for(const c in i){if((0,r.Gg)(c))continue;const u=i[c],h=n[c];u!==h&&"value"!==c&&a(t,c,h,u,l,e.children,s,o,X)}"value"in i&&a(t,"value",n.value,i.value)}},R=(t,e,n,i,r,o,a,l,u)=>{const h=e.el=t?t.el:c(""),d=e.anchor=t?t.anchor:c("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:g}=e;g&&(l=l?l.concat(g):g),null==t?(s(h,n,i),s(d,n,i),M(e.children,n,d,r,o,a,l,u)):f>0&&64&f&&p&&t.dynamicChildren?(O(t.dynamicChildren,p,n,r,o,a,l),(null!=e.key||r&&e===r.subTree)&&Te(t,e,!0)):U(t,e,n,d,r,o,a,l,u)},L=(t,e,n,i,r,s,o,a,l)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?r.ctx.activate(e,n,i,o,l):F(e,n,i,r,s,o,l):V(t,e,l)},F=(t,e,n,i,r,s,o)=>{const a=t.component=vn(t,i,r);if(ut(t)&&(a.ctx.renderer=tt),En(a),a.asyncDep){if(r&&r.registerDep(a,B),!t.el){const t=a.subTree=rn(Be);b(null,t,e,n)}}else B(a,t,e,n,r,s,o)},V=(t,e,n)=>{const i=e.component=t.component;if(q(t,e,n)){if(i.asyncDep&&!i.asyncResolved)return void z(i,e,n);i.next=e,x(i.update),i.update()}else e.el=t.el,i.vnode=e},B=(t,e,n,s,o,a,l)=>{const c=()=>{if(t.isMounted){let e,{next:n,bu:i,u:s,parent:c,vnode:u}=t,h=n;0,Ee(t,!1),n?(n.el=u.el,z(t,n,l)):n=u,i&&(0,r.ir)(i),(e=n.props&&n.props.onVnodeBeforeUpdate)&&pn(e,c,n,u),Ee(t,!0);const d=N(t);0;const p=t.subTree;t.subTree=d,v(p,d,f(p.el),Z(p),t,o,a),n.el=d.el,null===h&&j(t,d.el),s&&Se(s,o),(e=n.props&&n.props.onVnodeUpdated)&&Se((()=>pn(e,c,n,u)),o)}else{let i;const{el:l,props:c}=e,{bm:u,m:h,parent:d}=t,f=ct(e);if(Ee(t,!1),u&&(0,r.ir)(u),!f&&(i=c&&c.onVnodeBeforeMount)&&pn(i,d,e),Ee(t,!0),l&&nt){const n=()=>{t.subTree=N(t),nt(l,t.subTree,t,o,null)};f?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{0;const i=t.subTree=N(t);0,v(null,i,n,s,t,o,a),e.el=i.el}if(h&&Se(h,o),!f&&(i=c&&c.onVnodeMounted)){const t=e;Se((()=>pn(i,d,t)),o)}(256&e.shapeFlag||d&&ct(d.vnode)&&256&d.vnode.shapeFlag)&&t.a&&Se(t.a,o),t.isMounted=!0,e=n=s=null}},u=t.effect=new i.qq(c,(()=>w(h)),t.scope),h=t.update=()=>u.run();h.id=t.uid,Ee(t,!0),h()},z=(t,e,n)=>{e.component=t;const r=t.vnode.props;t.vnode=e,t.next=null,ie(t,e.props,r,n),ve(t,e.children,n),(0,i.Jd)(),k(),(0,i.lk)()},U=(t,e,n,i,r,s,o,a,l=!1)=>{const c=t&&t.children,u=t?t.shapeFlag:0,h=e.children,{patchFlag:f,shapeFlag:p}=e;if(f>0){if(128&f)return void H(c,h,n,i,r,s,o,a,l);if(256&f)return void $(c,h,n,i,r,s,o,a,l)}8&p?(16&u&&X(c,r,s),h!==c&&d(n,h)):16&u?16&p?H(c,h,n,i,r,s,o,a,l):X(c,r,s,!0):(8&u&&d(n,""),16&p&&M(h,n,i,r,s,o,a,l))},$=(t,e,n,i,s,o,a,l,c)=>{t=t||r.Z6,e=e||r.Z6;const u=t.length,h=e.length,d=Math.min(u,h);let f;for(f=0;f<d;f++){const i=e[f]=c?hn(e[f]):un(e[f]);v(t[f],i,n,null,s,o,a,l,c)}u>h?X(t,s,o,!0,!1,d):M(e,n,i,s,o,a,l,c,d)},H=(t,e,n,i,s,o,a,l,c)=>{let u=0;const h=e.length;let d=t.length-1,f=h-1;while(u<=d&&u<=f){const i=t[u],r=e[u]=c?hn(e[u]):un(e[u]);if(!Ze(i,r))break;v(i,r,n,null,s,o,a,l,c),u++}while(u<=d&&u<=f){const i=t[d],r=e[f]=c?hn(e[f]):un(e[f]);if(!Ze(i,r))break;v(i,r,n,null,s,o,a,l,c),d--,f--}if(u>d){if(u<=f){const t=f+1,r=t<h?e[t].el:i;while(u<=f)v(null,e[u]=c?hn(e[u]):un(e[u]),n,r,s,o,a,l,c),u++}}else if(u>f)while(u<=d)K(t[u],s,o,!0),u++;else{const p=u,g=u,m=new Map;for(u=g;u<=f;u++){const t=e[u]=c?hn(e[u]):un(e[u]);null!=t.key&&m.set(t.key,u)}let y,b=0;const w=f-g+1;let _=!1,x=0;const S=new Array(w);for(u=0;u<w;u++)S[u]=0;for(u=p;u<=d;u++){const i=t[u];if(b>=w){K(i,s,o,!0);continue}let r;if(null!=i.key)r=m.get(i.key);else for(y=g;y<=f;y++)if(0===S[y-g]&&Ze(i,e[y])){r=y;break}void 0===r?K(i,s,o,!0):(S[r-g]=u+1,r>=x?x=r:_=!0,v(i,e[r],n,null,s,o,a,l,c),b++)}const k=_?Ce(S):r.Z6;for(y=k.length-1,u=w-1;u>=0;u--){const t=g+u,r=e[t],d=t+1<h?e[t+1].el:i;0===S[u]?v(null,r,n,d,s,o,a,l,c):_&&(y<0||u!==k[y]?W(r,n,d,2):y--)}}},W=(t,e,n,i,r=null)=>{const{el:o,type:a,transition:l,children:c,shapeFlag:u}=t;if(6&u)return void W(t.component.subTree,e,n,i);if(128&u)return void t.suspense.move(e,n,i);if(64&u)return void a.move(t,e,n,tt);if(a===Ve){s(o,e,n);for(let t=0;t<c.length;t++)W(c[t],e,n,i);return void s(t.anchor,e,n)}if(a===je)return void S(t,e,n);const h=2!==i&&1&u&&l;if(h)if(0===i)l.beforeEnter(o),s(o,e,n),Se((()=>l.enter(o)),r);else{const{leave:t,delayLeave:i,afterLeave:r}=l,a=()=>s(o,e,n),c=()=>{t(o,(()=>{a(),r&&r()}))};i?i(o,a,c):c()}else s(o,e,n)},K=(t,e,n,i=!1,r=!1)=>{const{type:s,props:o,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=t;if(null!=a&&_e(a,null,n,t,!0),256&u)return void e.ctx.deactivate(t);const f=1&u&&d,p=!ct(t);let g;if(p&&(g=o&&o.onVnodeBeforeUnmount)&&pn(g,e,t),6&u)Q(t.component,n,i);else{if(128&u)return void t.suspense.unmount(n,i);f&&Dt(t,null,e,"beforeUnmount"),64&u?t.type.remove(t,e,n,r,tt,i):c&&(s!==Ve||h>0&&64&h)?X(c,e,n,!1,!0):(s===Ve&&384&h||!r&&16&u)&&X(l,e,n),i&&G(t)}(p&&(g=o&&o.onVnodeUnmounted)||f)&&Se((()=>{g&&pn(g,e,t),f&&Dt(t,null,e,"unmounted")}),n)},G=t=>{const{type:e,el:n,anchor:i,transition:r}=t;if(e===Ve)return void Y(n,i);if(e===je)return void E(t);const s=()=>{o(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&t.shapeFlag&&r&&!r.persisted){const{leave:e,delayLeave:i}=r,o=()=>e(n,s);i?i(t.el,s,o):o()}else s()},Y=(t,e)=>{let n;while(t!==e)n=p(t),o(t),t=n;o(e)},Q=(t,e,n)=>{const{bum:i,scope:s,update:o,subTree:a,um:l}=t;i&&(0,r.ir)(i),s.stop(),o&&(o.active=!1,K(a,t,e,n)),l&&Se(l,e),Se((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},X=(t,e,n,i=!1,r=!1,s=0)=>{for(let o=s;o<t.length;o++)K(t[o],e,n,i,r)},Z=t=>6&t.shapeFlag?Z(t.component.subTree):128&t.shapeFlag?t.suspense.next():p(t.anchor||t.el),J=(t,e,n)=>{null==t?e._vnode&&K(e._vnode,null,null,!0):v(e._vnode||null,t,e,null,null,null,n),k(),I(),e._vnode=t},tt={p:v,um:K,m:W,r:G,mt:F,mc:M,pc:U,pbc:O,n:Z,o:t};let et,nt;return e&&([et,nt]=e(tt)),{render:J,hydrate:et,createApp:we(J,et)}}function Ee({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Te(t,e,n=!1){const i=t.children,s=e.children;if((0,r.kJ)(i)&&(0,r.kJ)(s))for(let r=0;r<i.length;r++){const t=i[r];let e=s[r];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=s[r]=hn(s[r]),e.el=t.el),n||Te(t,e)),e.type===qe&&(e.el=t.el)}}function Ce(t){const e=t.slice(),n=[0];let i,r,s,o,a;const l=t.length;for(i=0;i<l;i++){const l=t[i];if(0!==l){if(r=n[n.length-1],t[r]<l){e[i]=r,n.push(i);continue}s=0,o=n.length-1;while(s<o)a=s+o>>1,t[n[a]]<l?s=a+1:o=a;l<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}s=n.length,o=n[s-1];while(s-- >0)n[s]=o,o=e[o];return n}const Ae=t=>t.__isTeleport,Me=t=>t&&(t.disabled||""===t.disabled),De=t=>"undefined"!==typeof SVGElement&&t instanceof SVGElement,Oe=(t,e)=>{const n=t&&t.to;if((0,r.HD)(n)){if(e){const t=e(n);return t}return null}return n},Pe={__isTeleport:!0,process(t,e,n,i,r,s,o,a,l,c){const{mc:u,pc:h,pbc:d,o:{insert:f,querySelector:p,createText:g,createComment:m}}=c,v=Me(e.props);let{shapeFlag:y,children:b,dynamicChildren:w}=e;if(null==t){const t=e.el=g(""),c=e.anchor=g("");f(t,n,i),f(c,n,i);const h=e.target=Oe(e.props,p),d=e.targetAnchor=g("");h&&(f(d,h),o=o||De(h));const m=(t,e)=>{16&y&&u(b,t,e,r,s,o,a,l)};v?m(n,c):h&&m(h,d)}else{e.el=t.el;const i=e.anchor=t.anchor,u=e.target=t.target,f=e.targetAnchor=t.targetAnchor,g=Me(t.props),m=g?n:u,y=g?i:f;if(o=o||De(u),w?(d(t.dynamicChildren,w,m,r,s,o,a),Te(t,e,!0)):l||h(t,e,m,y,r,s,o,a,!1),v)g||Re(e,n,i,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const t=e.target=Oe(e.props,p);t&&Re(e,t,null,c,0)}else g&&Re(e,u,f,c,1)}Fe(e)},remove(t,e,n,i,{um:r,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:d}=t;if(h&&s(u),(o||!Me(d))&&(s(c),16&a))for(let f=0;f<l.length;f++){const t=l[f];r(t,e,n,!0,!!t.dynamicChildren)}},move:Re,hydrate:Le};function Re(t,e,n,{o:{insert:i},m:r},s=2){0===s&&i(t.targetAnchor,e,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,h=2===s;if(h&&i(o,e,n),(!h||Me(u))&&16&l)for(let d=0;d<c.length;d++)r(c[d],e,n,2);h&&i(a,e,n)}function Le(t,e,n,i,r,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=e.target=Oe(e.props,l);if(u){const l=u._lpa||u.firstChild;if(16&e.shapeFlag)if(Me(e.props))e.anchor=c(o(t),e,a(t),n,i,r,s),e.targetAnchor=l;else{e.anchor=o(t);let a=l;while(a)if(a=o(a),a&&8===a.nodeType&&"teleport anchor"===a.data){e.targetAnchor=a,u._lpa=e.targetAnchor&&o(e.targetAnchor);break}c(l,e,u,n,i,r,s)}Fe(e)}return e.anchor&&o(e.anchor)}const Ne=Pe;function Fe(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;while(n!==t.targetAnchor)1===n.nodeType&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Ve=Symbol(void 0),qe=Symbol(void 0),Be=Symbol(void 0),je=Symbol(void 0),ze=[];let Ue=null;function $e(t=!1){ze.push(Ue=t?null:[])}function He(){ze.pop(),Ue=ze[ze.length-1]||null}let We=1;function Ke(t){We+=t}function Ge(t){return t.dynamicChildren=We>0?Ue||r.Z6:null,He(),We>0&&Ue&&Ue.push(t),t}function Ye(t,e,n,i,r,s){return Ge(nn(t,e,n,i,r,s,!0))}function Qe(t,e,n,i,r){return Ge(rn(t,e,n,i,r,!0))}function Xe(t){return!!t&&!0===t.__v_isVNode}function Ze(t,e){return t.type===e.type&&t.key===e.key}const Je="__vInternal",tn=({key:t})=>null!=t?t:null,en=({ref:t,ref_key:e,ref_for:n})=>null!=t?(0,r.HD)(t)||(0,i.dq)(t)||(0,r.mf)(t)?{i:O,r:t,k:e,f:!!n}:t:null;function nn(t,e=null,n=null,i=0,s=null,o=(t===Ve?0:1),a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&tn(e),ref:e&&en(e),scopeId:P,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:O};return l?(dn(c,n),128&o&&t.normalize(c)):n&&(c.shapeFlag|=(0,r.HD)(n)?8:16),We>0&&!a&&Ue&&(c.patchFlag>0||6&o)&&32!==c.patchFlag&&Ue.push(c),c}const rn=sn;function sn(t,e=null,n=null,s=0,o=null,a=!1){if(t&&t!==Rt||(t=Be),Xe(t)){const i=an(t,e,!0);return n&&dn(i,n),We>0&&!a&&Ue&&(6&i.shapeFlag?Ue[Ue.indexOf(t)]=i:Ue.push(i)),i.patchFlag|=-2,i}if(Rn(t)&&(t=t.__vccOpts),e){e=on(e);let{class:t,style:n}=e;t&&!(0,r.HD)(t)&&(e.class=(0,r.C_)(t)),(0,r.Kn)(n)&&((0,i.X3)(n)&&!(0,r.kJ)(n)&&(n=(0,r.l7)({},n)),e.style=(0,r.j5)(n))}const l=(0,r.HD)(t)?1:z(t)?128:Ae(t)?64:(0,r.Kn)(t)?4:(0,r.mf)(t)?2:0;return nn(t,e,n,s,o,l,a,!0)}function on(t){return t?(0,i.X3)(t)||Je in t?(0,r.l7)({},t):t:null}function an(t,e,n=!1){const{props:i,ref:s,patchFlag:o,children:a}=t,l=e?fn(i||{},e):i,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&tn(l),ref:e&&e.ref?n&&s?(0,r.kJ)(s)?s.concat(en(e)):[s,en(e)]:en(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ve?-1===o?16:16|o:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&an(t.ssContent),ssFallback:t.ssFallback&&an(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx};return c}function ln(t=" ",e=0){return rn(qe,null,t,e)}function cn(t="",e=!1){return e?($e(),Qe(Be,null,t)):rn(Be,null,t)}function un(t){return null==t||"boolean"===typeof t?rn(Be):(0,r.kJ)(t)?rn(Ve,null,t.slice()):"object"===typeof t?hn(t):rn(qe,null,String(t))}function hn(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:an(t)}function dn(t,e){let n=0;const{shapeFlag:i}=t;if(null==e)e=null;else if((0,r.kJ)(e))n=16;else if("object"===typeof e){if(65&i){const n=e.default;return void(n&&(n._c&&(n._d=!1),dn(t,n()),n._c&&(n._d=!0)))}{n=32;const i=e._;i||Je in e?3===i&&O&&(1===O.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=O}}else(0,r.mf)(e)?(e={default:e,_ctx:O},n=32):(e=String(e),64&i?(n=16,e=[ln(e)]):n=8);t.children=e,t.shapeFlag|=n}function fn(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const t in i)if("class"===t)e.class!==i.class&&(e.class=(0,r.C_)([e.class,i.class]));else if("style"===t)e.style=(0,r.j5)([e.style,i.style]);else if((0,r.F7)(t)){const n=e[t],s=i[t];!s||n===s||(0,r.kJ)(n)&&n.includes(s)||(e[t]=n?[].concat(n,s):s)}else""!==t&&(e[t]=i[t])}return e}function pn(t,e,n,i=null){o(t,e,7,[n,i])}const gn=ye();let mn=0;function vn(t,e,n){const s=t.type,o=(e?e.appContext:t.appContext)||gn,a={uid:mn++,vnode:t,type:s,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new i.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:oe(s,o),emitsOptions:M(s,o),emit:null,emitted:null,propsDefaults:r.kT,inheritAttrs:s.inheritAttrs,ctx:r.kT,data:r.kT,props:r.kT,attrs:r.kT,slots:r.kT,refs:r.kT,setupState:r.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=A.bind(null,a),t.ce&&t.ce(a),a}let yn=null;const bn=()=>yn||O,wn=t=>{yn=t,t.scope.on()},_n=()=>{yn&&yn.scope.off(),yn=null};function xn(t){return 4&t.vnode.shapeFlag}let Sn,kn,In=!1;function En(t,e=!1){In=e;const{props:n,children:i}=t.vnode,r=xn(t);ne(t,n,r,e),me(t,i);const s=r?Tn(t,e):void 0;return In=!1,s}function Tn(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=(0,i.Xl)(new Proxy(t.ctx,jt));const{setup:o}=n;if(o){const n=t.setupContext=o.length>1?Dn(t):null;wn(t),(0,i.Jd)();const l=s(o,t,0,[t.props,n]);if((0,i.lk)(),_n(),(0,r.tI)(l)){if(l.then(_n,_n),e)return l.then((n=>{Cn(t,n,e)})).catch((e=>{a(e,t,0)}));t.asyncDep=l}else Cn(t,l,e)}else An(t,e)}function Cn(t,e,n){(0,r.mf)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,r.Kn)(e)&&(t.setupState=(0,i.WL)(e)),An(t,n)}function An(t,e,n){const s=t.type;if(!t.render){if(!e&&Sn&&!s.render){const e=s.template||Kt(t).template;if(e){0;const{isCustomElement:n,compilerOptions:i}=t.appContext.config,{delimiters:o,compilerOptions:a}=s,l=(0,r.l7)((0,r.l7)({isCustomElement:n,delimiters:o},i),a);s.render=Sn(e,l)}}t.render=s.render||r.dG,kn&&kn(t)}wn(t),(0,i.Jd)(),Ut(t),(0,i.lk)(),_n()}function Mn(t){return new Proxy(t.attrs,{get(e,n){return(0,i.j)(t,"get","$attrs"),e[n]}})}function Dn(t){const e=e=>{t.exposed=e||{}};let n;return{get attrs(){return n||(n=Mn(t))},slots:t.slots,emit:t.emit,expose:e}}function On(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,i.WL)((0,i.Xl)(t.exposed)),{get(e,n){return n in e?e[n]:n in qt?qt[n](t):void 0},has(t,e){return e in t||e in qt}}))}function Pn(t,e=!0){return(0,r.mf)(t)?t.displayName||t.name:t.name||e&&t.__name}function Rn(t){return(0,r.mf)(t)&&"__vccOpts"in t}const Ln=(t,e)=>(0,i.Fl)(t,e,In);function Nn(t,e,n){const i=arguments.length;return 2===i?(0,r.Kn)(e)&&!(0,r.kJ)(e)?Xe(e)?rn(t,null,[e]):rn(t,e):rn(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&Xe(n)&&(n=[n]),rn(t,e,n))}const Fn=Symbol(""),Vn=()=>{{const t=H(Fn);return t}};const qn="3.2.45"},5102:function(t,e,n){"use strict";n.d(e,{ri:function(){return J},uT:function(){return R}});var i=n(3201),r=n(9269);n(6237);const s="http://www.w3.org/2000/svg",o="undefined"!==typeof document?document:null,a=o&&o.createElement("template"),l={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e?o.createElementNS(s,t):o.createElement(t,n?{is:n}:void 0);return"select"===t&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:t=>o.createTextNode(t),createComment:t=>o.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>o.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const o=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling)){while(1)if(e.insertBefore(r.cloneNode(!0),n),r===s||!(r=r.nextSibling))break}else{a.innerHTML=i?`<svg>${t}</svg>`:t;const r=a.content;if(i){const t=r.firstChild;while(t.firstChild)r.appendChild(t.firstChild);r.removeChild(t)}e.insertBefore(r,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function c(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function u(t,e,n){const r=t.style,s=(0,i.HD)(n);if(n&&!s){for(const t in n)d(r,t,n[t]);if(e&&!(0,i.HD)(e))for(const t in e)null==n[t]&&d(r,t,"")}else{const i=r.display;s?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=i)}}const h=/\s*!important$/;function d(t,e,n){if((0,i.kJ)(n))n.forEach((n=>d(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=g(t,e);h.test(n)?t.setProperty((0,i.rs)(r),n.replace(h,""),"important"):t[r]=n}}const f=["Webkit","Moz","ms"],p={};function g(t,e){const n=p[e];if(n)return n;let r=(0,i._A)(e);if("filter"!==r&&r in t)return p[e]=r;r=(0,i.kC)(r);for(let i=0;i<f.length;i++){const n=f[i]+r;if(n in t)return p[e]=n}return e}const m="http://www.w3.org/1999/xlink";function v(t,e,n,r,s){if(r&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(m,e.slice(6,e.length)):t.setAttributeNS(m,e,n);else{const r=(0,i.Pq)(e);null==n||r&&!(0,i.yA)(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function y(t,e,n,r,s,o,a){if("innerHTML"===e||"textContent"===e)return r&&a(r,s,o),void(t[e]=null==n?"":n);if("value"===e&&"PROGRESS"!==t.tagName&&!t.tagName.includes("-")){t._value=n;const i=null==n?"":n;return t.value===i&&"OPTION"!==t.tagName||(t.value=i),void(null==n&&t.removeAttribute(e))}let l=!1;if(""===n||null==n){const r=typeof t[e];"boolean"===r?n=(0,i.yA)(n):null==n&&"string"===r?(n="",l=!0):"number"===r&&(n=0,l=!0)}try{t[e]=n}catch(c){0}l&&t.removeAttribute(e)}function b(t,e,n,i){t.addEventListener(e,n,i)}function w(t,e,n,i){t.removeEventListener(e,n,i)}function _(t,e,n,i,r=null){const s=t._vei||(t._vei={}),o=s[e];if(i&&o)o.value=i;else{const[n,a]=S(e);if(i){const o=s[e]=T(i,r);b(t,n,o,a)}else o&&(w(t,n,o,a),s[e]=void 0)}}const x=/(?:Once|Passive|Capture)$/;function S(t){let e;if(x.test(t)){let n;e={};while(n=t.match(x))t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}const n=":"===t[2]?t.slice(3):(0,i.rs)(t.slice(2));return[n,e]}let k=0;const I=Promise.resolve(),E=()=>k||(I.then((()=>k=0)),k=Date.now());function T(t,e){const n=t=>{if(t._vts){if(t._vts<=n.attached)return}else t._vts=Date.now();(0,r.$d)(C(t,n.value),e,5,[t])};return n.value=t,n.attached=E(),n}function C(t,e){if((0,i.kJ)(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const A=/^on[a-z]/,M=(t,e,n,r,s=!1,o,a,l,h)=>{"class"===e?c(t,r,s):"style"===e?u(t,n,r):(0,i.F7)(e)?(0,i.tR)(e)||_(t,e,n,r,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):D(t,e,r,s))?y(t,e,r,o,a,l,h):("true-value"===e?t._trueValue=r:"false-value"===e&&(t._falseValue=r),v(t,e,r,s))};function D(t,e,n,r){return r?"innerHTML"===e||"textContent"===e||!!(e in t&&A.test(e)&&(0,i.mf)(n)):"spellcheck"!==e&&"draggable"!==e&&"translate"!==e&&("form"!==e&&(("list"!==e||"INPUT"!==t.tagName)&&(("type"!==e||"TEXTAREA"!==t.tagName)&&((!A.test(e)||!(0,i.HD)(n))&&e in t))))}"undefined"!==typeof HTMLElement&&HTMLElement;const O="transition",P="animation",R=(t,{slots:e})=>(0,r.h)(r.P$,V(t),e);R.displayName="Transition";const L={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},N=(R.props=(0,i.l7)({},r.P$.props,L),(t,e=[])=>{(0,i.kJ)(t)?t.forEach((t=>t(...e))):t&&t(...e)}),F=t=>!!t&&((0,i.kJ)(t)?t.some((t=>t.length>1)):t.length>1);function V(t){const e={};for(const i in t)i in L||(e[i]=t[i]);if(!1===t.css)return e;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:u=a,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=t,g=q(s),m=g&&g[0],v=g&&g[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:w,onLeave:_,onLeaveCancelled:x,onBeforeAppear:S=y,onAppear:k=b,onAppearCancelled:I=w}=e,E=(t,e,n)=>{z(t,e?h:l),z(t,e?u:a),n&&n()},T=(t,e)=>{t._isLeaving=!1,z(t,d),z(t,p),z(t,f),e&&e()},C=t=>(e,n)=>{const i=t?k:b,s=()=>E(e,t,n);N(i,[e,s]),U((()=>{z(e,t?c:o),j(e,t?h:l),F(i)||H(e,r,m,s)}))};return(0,i.l7)(e,{onBeforeEnter(t){N(y,[t]),j(t,o),j(t,a)},onBeforeAppear(t){N(S,[t]),j(t,c),j(t,u)},onEnter:C(!1),onAppear:C(!0),onLeave(t,e){t._isLeaving=!0;const n=()=>T(t,e);j(t,d),Y(),j(t,f),U((()=>{t._isLeaving&&(z(t,d),j(t,p),F(_)||H(t,r,v,n))})),N(_,[t,n])},onEnterCancelled(t){E(t,!1),N(w,[t])},onAppearCancelled(t){E(t,!0),N(I,[t])},onLeaveCancelled(t){T(t),N(x,[t])}})}function q(t){if(null==t)return null;if((0,i.Kn)(t))return[B(t.enter),B(t.leave)];{const e=B(t);return[e,e]}}function B(t){const e=(0,i.He)(t);return e}function j(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t._vtc||(t._vtc=new Set)).add(e)}function z(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function U(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let $=0;function H(t,e,n,i){const r=t._endId=++$,s=()=>{r===t._endId&&i()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=W(t,e);if(!o)return i();const c=o+"end";let u=0;const h=()=>{t.removeEventListener(c,d),s()},d=e=>{e.target===t&&++u>=l&&h()};setTimeout((()=>{u<l&&h()}),a+1),t.addEventListener(c,d)}function W(t,e){const n=window.getComputedStyle(t),i=t=>(n[t]||"").split(", "),r=i(`${O}Delay`),s=i(`${O}Duration`),o=K(r,s),a=i(`${P}Delay`),l=i(`${P}Duration`),c=K(a,l);let u=null,h=0,d=0;e===O?o>0&&(u=O,h=o,d=s.length):e===P?c>0&&(u=P,h=c,d=l.length):(h=Math.max(o,c),u=h>0?o>c?O:P:null,d=u?u===O?s.length:l.length:0);const f=u===O&&/\b(transform|all)(,|$)/.test(i(`${O}Property`).toString());return{type:u,timeout:h,propCount:d,hasTransform:f}}function K(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,n)=>G(e)+G(t[n]))))}function G(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Y(){return document.body.offsetHeight}new WeakMap,new WeakMap;const Q=(0,i.l7)({patchProp:M},l);let X;function Z(){return X||(X=(0,r.Us)(Q))}const J=(...t)=>{const e=Z().createApp(...t);const{mount:n}=e;return e.mount=t=>{const r=tt(t);if(!r)return;const s=e._component;(0,i.mf)(s)||s.render||s.template||(s.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function tt(t){if((0,i.HD)(t)){const e=document.querySelector(t);return e}return t}},3201:function(t,e,n){"use strict";function i(t,e){const n=Object.create(null),i=t.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return e?t=>!!n[t.toLowerCase()]:t=>!!n[t]}n.d(e,{C_:function(){return h},DM:function(){return P},E9:function(){return rt},F7:function(){return I},Gg:function(){return H},HD:function(){return N},He:function(){return nt},Kn:function(){return V},NO:function(){return S},Nj:function(){return et},Od:function(){return C},PO:function(){return U},Pq:function(){return f},RI:function(){return M},S0:function(){return $},W7:function(){return z},WV:function(){return m},Z6:function(){return _},_A:function(){return G},_N:function(){return O},aU:function(){return J},dG:function(){return x},e1:function(){return s},fY:function(){return i},hR:function(){return Z},hq:function(){return v},ir:function(){return tt},j5:function(){return o},kC:function(){return X},kJ:function(){return D},kT:function(){return w},l7:function(){return T},mf:function(){return L},rs:function(){return Q},tI:function(){return q},tR:function(){return E},yA:function(){return p},yk:function(){return F},zw:function(){return y}});const r="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",s=i(r);function o(t){if(D(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=N(i)?u(i):o(i);if(r)for(const t in r)e[t]=r[t]}return e}return N(t)||V(t)?t:void 0}const a=/;(?![^(]*\))/g,l=/:([^]+)/,c=/\/\*.*?\*\//gs;function u(t){const e={};return t.replace(c,"").split(a).forEach((t=>{if(t){const n=t.split(l);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function h(t){let e="";if(N(t))e=t;else if(D(t))for(let n=0;n<t.length;n++){const i=h(t[n]);i&&(e+=i+" ")}else if(V(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const d="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",f=i(d);function p(t){return!!t||""===t}function g(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=m(t[i],e[i]);return n}function m(t,e){if(t===e)return!0;let n=R(t),i=R(e);if(n||i)return!(!n||!i)&&t.getTime()===e.getTime();if(n=F(t),i=F(e),n||i)return t===e;if(n=D(t),i=D(e),n||i)return!(!n||!i)&&g(t,e);if(n=V(t),i=V(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,s=Object.keys(e).length;if(r!==s)return!1;for(const n in t){const i=t.hasOwnProperty(n),r=e.hasOwnProperty(n);if(i&&!r||!i&&r||!m(t[n],e[n]))return!1}}return String(t)===String(e)}function v(t,e){return t.findIndex((t=>m(t,e)))}const y=t=>N(t)?t:null==t?"":D(t)||V(t)&&(t.toString===B||!L(t.toString))?JSON.stringify(t,b,2):String(t),b=(t,e)=>e&&e.__v_isRef?b(t,e.value):O(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n])=>(t[`${e} =>`]=n,t)),{})}:P(e)?{[`Set(${e.size})`]:[...e.values()]}:!V(e)||D(e)||U(e)?e:String(e),w={},_=[],x=()=>{},S=()=>!1,k=/^on[^a-z]/,I=t=>k.test(t),E=t=>t.startsWith("onUpdate:"),T=Object.assign,C=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},A=Object.prototype.hasOwnProperty,M=(t,e)=>A.call(t,e),D=Array.isArray,O=t=>"[object Map]"===j(t),P=t=>"[object Set]"===j(t),R=t=>"[object Date]"===j(t),L=t=>"function"===typeof t,N=t=>"string"===typeof t,F=t=>"symbol"===typeof t,V=t=>null!==t&&"object"===typeof t,q=t=>V(t)&&L(t.then)&&L(t.catch),B=Object.prototype.toString,j=t=>B.call(t),z=t=>j(t).slice(8,-1),U=t=>"[object Object]"===j(t),$=t=>N(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,H=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),W=t=>{const e=Object.create(null);return n=>{const i=e[n];return i||(e[n]=t(n))}},K=/-(\w)/g,G=W((t=>t.replace(K,((t,e)=>e?e.toUpperCase():"")))),Y=/\B([A-Z])/g,Q=W((t=>t.replace(Y,"-$1").toLowerCase())),X=W((t=>t.charAt(0).toUpperCase()+t.slice(1))),Z=W((t=>t?`on${X(t)}`:"")),J=(t,e)=>!Object.is(t,e),tt=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},et=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},nt=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let it;const rt=()=>it||(it="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},8004:function(t,e,n){var i=n(2035),r=n(3971),s=TypeError;t.exports=function(t){if(i(t))return t;throw s(r(t)+" is not a function")}},9981:function(t,e,n){var i=n(9345),r=String,s=TypeError;t.exports=function(t){if(i(t))return t;throw s(r(t)+" is not an object")}},2851:function(t,e,n){var i=n(9849),r=n(255),s=n(7494),o=function(t){return function(e,n,o){var a,l=i(e),c=s(l),u=r(o,c);if(t&&n!=n){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},6913:function(t,e,n){"use strict";var i=n(3233),r=n(5271),s=TypeError,o=Object.getOwnPropertyDescriptor,a=i&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(r(t)&&!o(t,"length").writable)throw s("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},2846:function(t,e,n){var i=n(8517),r=i({}.toString),s=i("".slice);t.exports=function(t){return s(r(t),8,-1)}},1591:function(t,e,n){var i=n(7728),r=n(807),s=n(1220),o=n(2561);t.exports=function(t,e,n){for(var a=r(e),l=o.f,c=s.f,u=0;u<a.length;u++){var h=a[u];i(t,h)||n&&i(n,h)||l(t,h,c(e,h))}}},9214:function(t,e,n){var i=n(3233),r=n(2561),s=n(9115);t.exports=i?function(t,e,n){return r.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t}},9115:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},7508:function(t,e,n){var i=n(2179),r=n(2561);t.exports=function(t,e,n){return n.get&&i(n.get,e,{getter:!0}),n.set&&i(n.set,e,{setter:!0}),r.f(t,e,n)}},2853:function(t,e,n){var i=n(2035),r=n(2561),s=n(2179),o=n(8514);t.exports=function(t,e,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:e;if(i(n)&&s(n,c,a),a.global)l?t[e]=n:o(e,n);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(u){}l?t[e]=n:r.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},8514:function(t,e,n){var i=n(5424),r=Object.defineProperty;t.exports=function(t,e){try{r(i,t,{value:e,configurable:!0,writable:!0})}catch(n){i[t]=e}return e}},766:function(t,e,n){"use strict";var i=n(3971),r=TypeError;t.exports=function(t,e){if(!delete t[e])throw r("Cannot delete property "+i(e)+" of "+i(t))}},3233:function(t,e,n){var i=n(201);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},455:function(t){var e="object"==typeof document&&document.all,n="undefined"==typeof e&&void 0!==e;t.exports={all:e,IS_HTMLDDA:n}},3722:function(t,e,n){var i=n(5424),r=n(9345),s=i.document,o=r(s)&&r(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},7407:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},1735:function(t,e,n){var i=n(6458);t.exports=i("navigator","userAgent")||""},3604:function(t,e,n){var i,r,s=n(5424),o=n(1735),a=s.process,l=s.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(i=u.split("."),r=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&o&&(i=o.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/),i&&(r=+i[1]))),t.exports=r},6669:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},4118:function(t,e,n){var i=n(5424),r=n(1220).f,s=n(9214),o=n(2853),a=n(8514),l=n(1591),c=n(8874);t.exports=function(t,e){var n,u,h,d,f,p,g=t.target,m=t.global,v=t.stat;if(u=m?i:v?i[g]||a(g,{}):(i[g]||{}).prototype,u)for(h in e){if(f=e[h],t.dontCallGetSet?(p=r(u,h),d=p&&p.value):d=u[h],n=c(m?h:g+(v?".":"#")+h,t.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(t.sham||d&&d.sham)&&s(f,"sham",!0),o(u,h,f,t)}}},201:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},3020:function(t,e,n){var i=n(201);t.exports=!i((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6139:function(t,e,n){var i=n(3020),r=Function.prototype.call;t.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},5794:function(t,e,n){var i=n(3233),r=n(7728),s=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=r(s,"name"),l=a&&"something"===function(){}.name,c=a&&(!i||i&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},8517:function(t,e,n){var i=n(3020),r=Function.prototype,s=r.call,o=i&&r.bind.bind(s,s);t.exports=i?o:function(t){return function(){return s.apply(t,arguments)}}},6458:function(t,e,n){var i=n(5424),r=n(2035),s=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(i[t]):i[t]&&i[t][e]}},2518:function(t,e,n){var i=n(8004),r=n(650);t.exports=function(t,e){var n=t[e];return r(n)?void 0:i(n)}},5424:function(t,e,n){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},7728:function(t,e,n){var i=n(8517),r=n(6812),s=i({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(r(t),e)}},4979:function(t){t.exports={}},4041:function(t,e,n){var i=n(3233),r=n(201),s=n(3722);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},5535:function(t,e,n){var i=n(8517),r=n(201),s=n(2846),o=Object,a=i("".split);t.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"==s(t)?a(t,""):o(t)}:o},3064:function(t,e,n){var i=n(8517),r=n(2035),s=n(9372),o=i(Function.toString);r(s.inspectSource)||(s.inspectSource=function(t){return o(t)}),t.exports=s.inspectSource},2044:function(t,e,n){var i,r,s,o=n(2767),a=n(5424),l=n(9345),c=n(9214),u=n(7728),h=n(9372),d=n(408),f=n(4979),p="Object already initialized",g=a.TypeError,m=a.WeakMap,v=function(t){return s(t)?r(t):i(t,{})},y=function(t){return function(e){var n;if(!l(e)||(n=r(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return n}};if(o||h.state){var b=h.state||(h.state=new m);b.get=b.get,b.has=b.has,b.set=b.set,i=function(t,e){if(b.has(t))throw g(p);return e.facade=t,b.set(t,e),e},r=function(t){return b.get(t)||{}},s=function(t){return b.has(t)}}else{var w=d("state");f[w]=!0,i=function(t,e){if(u(t,w))throw g(p);return e.facade=t,c(t,w,e),e},r=function(t){return u(t,w)?t[w]:{}},s=function(t){return u(t,w)}}t.exports={set:i,get:r,has:s,enforce:v,getterFor:y}},5271:function(t,e,n){var i=n(2846);t.exports=Array.isArray||function(t){return"Array"==i(t)}},2035:function(t,e,n){var i=n(455),r=i.all;t.exports=i.IS_HTMLDDA?function(t){return"function"==typeof t||t===r}:function(t){return"function"==typeof t}},8874:function(t,e,n){var i=n(201),r=n(2035),s=/#|\.prototype\./,o=function(t,e){var n=l[a(t)];return n==u||n!=c&&(r(e)?i(e):!!e)},a=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},650:function(t){t.exports=function(t){return null===t||void 0===t}},9345:function(t,e,n){var i=n(2035),r=n(455),s=r.all;t.exports=r.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:i(t)||t===s}:function(t){return"object"==typeof t?null!==t:i(t)}},5630:function(t){t.exports=!1},489:function(t,e,n){var i=n(6458),r=n(2035),s=n(4266),o=n(814),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return r(e)&&s(e.prototype,a(t))}},7494:function(t,e,n){var i=n(8768);t.exports=function(t){return i(t.length)}},2179:function(t,e,n){var i=n(201),r=n(2035),s=n(7728),o=n(3233),a=n(5794).CONFIGURABLE,l=n(3064),c=n(2044),u=c.enforce,h=c.get,d=Object.defineProperty,f=o&&!i((function(){return 8!==d((function(){}),"length",{value:8}).length})),p=String(String).split("String"),g=t.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||a&&t.name!==e)&&(o?d(t,"name",{value:e,configurable:!0}):t.name=e),f&&n&&s(n,"arity")&&t.length!==n.arity&&d(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?o&&d(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var i=u(t);return s(i,"source")||(i.source=p.join("string"==typeof e?e:"")),t};Function.prototype.toString=g((function(){return r(this)&&h(this).source||l(this)}),"toString")},3113:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var i=+t;return(i>0?n:e)(i)}},2561:function(t,e,n){var i=n(3233),r=n(4041),s=n(6101),o=n(9981),a=n(1493),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";e.f=i?s?function(t,e,n){if(o(t),e=a(e),o(n),"function"===typeof t&&"prototype"===e&&"value"in n&&f in n&&!n[f]){var i=u(t,e);i&&i[f]&&(t[e]=n.value,n={configurable:d in n?n[d]:i[d],enumerable:h in n?n[h]:i[h],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(o(t),e=a(e),o(n),r)try{return c(t,e,n)}catch(i){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1220:function(t,e,n){var i=n(3233),r=n(6139),s=n(9828),o=n(9115),a=n(9849),l=n(1493),c=n(7728),u=n(4041),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=a(t),e=l(e),u)try{return h(t,e)}catch(n){}if(c(t,e))return o(!r(s.f,t,e),t[e])}},9753:function(t,e,n){var i=n(811),r=n(6669),s=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,s)}},2881:function(t,e){e.f=Object.getOwnPropertySymbols},4266:function(t,e,n){var i=n(8517);t.exports=i({}.isPrototypeOf)},811:function(t,e,n){var i=n(8517),r=n(7728),s=n(9849),o=n(2851).indexOf,a=n(4979),l=i([].push);t.exports=function(t,e){var n,i=s(t),c=0,u=[];for(n in i)!r(a,n)&&r(i,n)&&l(u,n);while(e.length>c)r(i,n=e[c++])&&(~o(u,n)||l(u,n));return u}},9828:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},6727:function(t,e,n){var i=n(6139),r=n(2035),s=n(9345),o=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&r(n=t.toString)&&!s(a=i(n,t)))return a;if(r(n=t.valueOf)&&!s(a=i(n,t)))return a;if("string"!==e&&r(n=t.toString)&&!s(a=i(n,t)))return a;throw o("Can't convert object to primitive value")}},807:function(t,e,n){var i=n(6458),r=n(8517),s=n(9753),o=n(2881),a=n(9981),l=r([].concat);t.exports=i("Reflect","ownKeys")||function(t){var e=s.f(a(t)),n=o.f;return n?l(e,n(t)):e}},1198:function(t,e,n){"use strict";var i=n(9981);t.exports=function(){var t=i(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},7274:function(t,e,n){var i=n(650),r=TypeError;t.exports=function(t){if(i(t))throw r("Can't call method on "+t);return t}},408:function(t,e,n){var i=n(2576),r=n(3360),s=i("keys");t.exports=function(t){return s[t]||(s[t]=r(t))}},9372:function(t,e,n){var i=n(5424),r=n(8514),s="__core-js_shared__",o=i[s]||r(s,{});t.exports=o},2576:function(t,e,n){var i=n(5630),r=n(9372);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.26.1",mode:i?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5723:function(t,e,n){var i=n(3604),r=n(201);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},255:function(t,e,n){var i=n(7321),r=Math.max,s=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):s(n,e)}},9849:function(t,e,n){var i=n(5535),r=n(7274);t.exports=function(t){return i(r(t))}},7321:function(t,e,n){var i=n(3113);t.exports=function(t){var e=+t;return e!==e||0===e?0:i(e)}},8768:function(t,e,n){var i=n(7321),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},6812:function(t,e,n){var i=n(7274),r=Object;t.exports=function(t){return r(i(t))}},6122:function(t,e,n){var i=n(6139),r=n(9345),s=n(489),o=n(2518),a=n(6727),l=n(1655),c=TypeError,u=l("toPrimitive");t.exports=function(t,e){if(!r(t)||s(t))return t;var n,l=o(t,u);if(l){if(void 0===e&&(e="default"),n=i(l,t,e),!r(n)||s(n))return n;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},1493:function(t,e,n){var i=n(6122),r=n(489);t.exports=function(t){var e=i(t,"string");return r(e)?e:e+""}},3971:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},3360:function(t,e,n){var i=n(8517),r=0,s=Math.random(),o=i(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++r+s,36)}},814:function(t,e,n){var i=n(5723);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6101:function(t,e,n){var i=n(3233),r=n(201);t.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2767:function(t,e,n){var i=n(5424),r=n(2035),s=i.WeakMap;t.exports=r(s)&&/native code/.test(String(s))},1655:function(t,e,n){var i=n(5424),r=n(2576),s=n(7728),o=n(3360),a=n(5723),l=n(814),c=r("wks"),u=i.Symbol,h=u&&u["for"],d=l?u:u&&u.withoutSetter||o;t.exports=function(t){if(!s(c,t)||!a&&"string"!=typeof c[t]){var e="Symbol."+t;a&&s(u,t)?c[t]=u[t]:c[t]=l&&h?h(e):d(e)}return c[t]}},4719:function(t,e,n){"use strict";var i=n(4118),r=n(6812),s=n(7494),o=n(6913),a=n(7407),l=n(201),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}();i({target:"Array",proto:!0,arity:1,forced:c||u},{push:function(t){var e=r(this),n=s(e),i=arguments.length;a(n+i);for(var l=0;l<i;l++)e[n]=arguments[l],n++;return o(e,n),n}})},3352:function(t,e,n){"use strict";var i=n(4118),r=n(6812),s=n(7494),o=n(6913),a=n(766),l=n(7407),c=1!==[].unshift(0),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}();i({target:"Array",proto:!0,arity:1,forced:c||u},{unshift:function(t){var e=r(this),n=s(e),i=arguments.length;if(i){l(n+i);var c=n;while(c--){var u=c+i;c in e?e[u]=e[c]:a(e,u)}for(var h=0;h<i;h++)e[h]=arguments[h]}return o(e,n+i)}})},1098:function(t,e,n){var i=n(5424),r=n(3233),s=n(7508),o=n(1198),a=n(201),l=i.RegExp,c=l.prototype,u=r&&a((function(){var t=!0;try{l(".","d")}catch(u){t=!1}var e={},n="",i=t?"dgimsy":"gimsy",r=function(t,i){Object.defineProperty(e,t,{get:function(){return n+=i,!0}})},s={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var o in t&&(s.hasIndices="d"),s)r(o,s[o]);var a=Object.getOwnPropertyDescriptor(c,"flags").get.call(e);return a!==i||n!==i}));u&&s(c,"flags",{configurable:!0,get:o})},1410:function(t){t.exports=function(t,e,n){const i=void 0!==t.__vccOpts?t.__vccOpts:t,r=i[e];if(void 0===r)i[e]=n;else for(var s in n)void 0===r[s]&&(r[s]=n[s])}},7617:function(t,e){"use strict";e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n}},6957:function(t,e,n){"use strict";n.d(e,{MT:function(){return tt},nv:function(){return rt},rn:function(){return it}});var i=n(9269),r=n(6237);function s(){return o().__VUE_DEVTOOLS_GLOBAL_HOOK__}function o(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}}const a="function"===typeof Proxy,l="devtools-plugin:setup",c="plugin:settings:set";let u,h;function d(){var t;return void 0!==u||("undefined"!==typeof window&&window.performance?(u=!0,h=window.performance):"undefined"!==typeof n.g&&(null===(t=n.g.perf_hooks)||void 0===t?void 0:t.performance)?(u=!0,h=n.g.perf_hooks.performance):u=!1),u}function f(){return d()?h.now():Date.now()}class p{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const n={};if(t.settings)for(const o in t.settings){const e=t.settings[o];n[o]=e.defaultValue}const i=`__vue-devtools-plugin-settings__${t.id}`;let r=Object.assign({},n);try{const t=localStorage.getItem(i),e=JSON.parse(t);Object.assign(r,e)}catch(s){}this.fallbacks={getSettings(){return r},setSettings(t){try{localStorage.setItem(i,JSON.stringify(t))}catch(s){}r=t},now(){return f()}},e&&e.on(c,((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((n=>{this.targetQueue.push({method:e,args:t,resolve:n})}))})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function g(t,e){const n=t,i=o(),r=s(),c=a&&n.enableEarlyProxy;if(!r||!i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&c){const t=c?new p(n,r):null,s=i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[];s.push({pluginDescriptor:n,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else r.emit(l,t,e)}
/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */
var m="store";function v(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function y(t){return null!==t&&"object"===typeof t}function b(t){return t&&"function"===typeof t.then}function w(t,e){return function(){return t(e)}}function _(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function x(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;k(t,n,[],t._modules.root,!0),S(t,n,e)}function S(t,e,n){var s=t._state,o=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var a=t._wrappedGetters,l={},c={},u=(0,r.B)(!0);u.run((function(){v(a,(function(e,n){l[n]=w(e,t),c[n]=(0,i.Fl)((function(){return l[n]()})),Object.defineProperty(t.getters,n,{get:function(){return c[n].value},enumerable:!0})}))})),t._state=(0,r.qj)({data:e}),t._scope=u,t.strict&&M(t),s&&n&&t._withCommit((function(){s.data=null})),o&&o.stop()}function k(t,e,n,i,r){var s=!n.length,o=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=i),!s&&!r){var a=D(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit((function(){a[l]=i.state}))}var c=i.context=I(t,o,n);i.forEachMutation((function(e,n){var i=o+n;T(t,i,e,c)})),i.forEachAction((function(e,n){var i=e.root?n:o+n,r=e.handler||e;C(t,i,r,c)})),i.forEachGetter((function(e,n){var i=o+n;A(t,i,e,c)})),i.forEachChild((function(i,s){k(t,e,n.concat(s),i,r)}))}function I(t,e,n){var i=""===e,r={dispatch:i?t.dispatch:function(n,i,r){var s=O(n,i,r),o=s.payload,a=s.options,l=s.type;return a&&a.root||(l=e+l),t.dispatch(l,o)},commit:i?t.commit:function(n,i,r){var s=O(n,i,r),o=s.payload,a=s.options,l=s.type;a&&a.root||(l=e+l),t.commit(l,o,a)}};return Object.defineProperties(r,{getters:{get:i?function(){return t.getters}:function(){return E(t,e)}},state:{get:function(){return D(t.state,n)}}}),r}function E(t,e){if(!t._makeLocalGettersCache[e]){var n={},i=e.length;Object.keys(t.getters).forEach((function(r){if(r.slice(0,i)===e){var s=r.slice(i);Object.defineProperty(n,s,{get:function(){return t.getters[r]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function T(t,e,n,i){var r=t._mutations[e]||(t._mutations[e]=[]);r.push((function(e){n.call(t,i.state,e)}))}function C(t,e,n,i){var r=t._actions[e]||(t._actions[e]=[]);r.push((function(e){var r=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e);return b(r)||(r=Promise.resolve(r)),t._devtoolHook?r.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):r}))}function A(t,e,n,i){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)})}function M(t){(0,i.YP)((function(){return t._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function D(t,e){return e.reduce((function(t,e){return t[e]}),t)}function O(t,e,n){return y(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var P="vuex bindings",R="vuex:mutations",L="vuex:actions",N="vuex",F=0;function V(t,e){g({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[P]},(function(n){n.addTimelineLayer({id:R,label:"Vuex Mutations",color:q}),n.addTimelineLayer({id:L,label:"Vuex Actions",color:q}),n.addInspector({id:N,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===t&&n.inspectorId===N)if(n.filter){var i=[];H(i,e._modules.root,n.filter,""),n.rootNodes=i}else n.rootNodes=[$(e._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===t&&n.inspectorId===N){var i=n.nodeId;E(e,i),n.state=W(G(e._modules,i),"root"===i?e.getters:e._makeLocalGettersCache,i)}})),n.on.editInspectorState((function(n){if(n.app===t&&n.inspectorId===N){var i=n.nodeId,r=n.path;"root"!==i&&(r=i.split("/").filter(Boolean).concat(r)),e._withCommit((function(){n.set(e._state.data,r,n.state.value)}))}})),e.subscribe((function(t,e){var i={};t.payload&&(i.payload=t.payload),i.state=e,n.notifyComponentUpdate(),n.sendInspectorTree(N),n.sendInspectorState(N),n.addTimelineEvent({layerId:R,event:{time:Date.now(),title:t.type,data:i}})})),e.subscribeAction({before:function(t,e){var i={};t.payload&&(i.payload=t.payload),t._id=F++,t._time=Date.now(),i.state=e,n.addTimelineEvent({layerId:L,event:{time:t._time,title:t.type,groupId:t._id,subtitle:"start",data:i}})},after:function(t,e){var i={},r=Date.now()-t._time;i.duration={_custom:{type:"duration",display:r+"ms",tooltip:"Action duration",value:r}},t.payload&&(i.payload=t.payload),i.state=e,n.addTimelineEvent({layerId:L,event:{time:Date.now(),title:t.type,groupId:t._id,subtitle:"end",data:i}})}})}))}var q=8702998,B=6710886,j=16777215,z={label:"namespaced",textColor:j,backgroundColor:B};function U(t){return t&&"root"!==t?t.split("/").slice(-2,-1)[0]:"Root"}function $(t,e){return{id:e||"root",label:U(e),tags:t.namespaced?[z]:[],children:Object.keys(t._children).map((function(n){return $(t._children[n],e+n+"/")}))}}function H(t,e,n,i){i.includes(n)&&t.push({id:i||"root",label:i.endsWith("/")?i.slice(0,i.length-1):i||"Root",tags:e.namespaced?[z]:[]}),Object.keys(e._children).forEach((function(r){H(t,e._children[r],n,i+r+"/")}))}function W(t,e,n){e="root"===n?e:e[n];var i=Object.keys(e),r={state:Object.keys(t.state).map((function(e){return{key:e,editable:!0,value:t.state[e]}}))};if(i.length){var s=K(e);r.getters=Object.keys(s).map((function(t){return{key:t.endsWith("/")?U(t):t,editable:!1,value:Y((function(){return s[t]}))}}))}return r}function K(t){var e={};return Object.keys(t).forEach((function(n){var i=n.split("/");if(i.length>1){var r=e,s=i.pop();i.forEach((function(t){r[t]||(r[t]={_custom:{value:{},display:t,tooltip:"Module",abstract:!0}}),r=r[t]._custom.value})),r[s]=Y((function(){return t[n]}))}else e[n]=Y((function(){return t[n]}))})),e}function G(t,e){var n=e.split("/").filter((function(t){return t}));return n.reduce((function(t,i,r){var s=t[i];if(!s)throw new Error('Missing module "'+i+'" for path "'+e+'".');return r===n.length-1?s:s._children}),"root"===e?t:t.root._children)}function Y(t){try{return t()}catch(e){return e}}var Q=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},X={namespaced:{configurable:!0}};X.namespaced.get=function(){return!!this._rawModule.namespaced},Q.prototype.addChild=function(t,e){this._children[t]=e},Q.prototype.removeChild=function(t){delete this._children[t]},Q.prototype.getChild=function(t){return this._children[t]},Q.prototype.hasChild=function(t){return t in this._children},Q.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},Q.prototype.forEachChild=function(t){v(this._children,t)},Q.prototype.forEachGetter=function(t){this._rawModule.getters&&v(this._rawModule.getters,t)},Q.prototype.forEachAction=function(t){this._rawModule.actions&&v(this._rawModule.actions,t)},Q.prototype.forEachMutation=function(t){this._rawModule.mutations&&v(this._rawModule.mutations,t)},Object.defineProperties(Q.prototype,X);var Z=function(t){this.register([],t,!1)};function J(t,e,n){if(e.update(n),n.modules)for(var i in n.modules){if(!e.getChild(i))return void 0;J(t.concat(i),e.getChild(i),n.modules[i])}}Z.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},Z.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},Z.prototype.update=function(t){J([],this.root,t)},Z.prototype.register=function(t,e,n){var i=this;void 0===n&&(n=!0);var r=new Q(e,n);if(0===t.length)this.root=r;else{var s=this.get(t.slice(0,-1));s.addChild(t[t.length-1],r)}e.modules&&v(e.modules,(function(e,r){i.register(t.concat(r),e,n)}))},Z.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],i=e.getChild(n);i&&i.runtime&&e.removeChild(n)},Z.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};function tt(t){return new et(t)}var et=function(t){var e=this;void 0===t&&(t={});var n=t.plugins;void 0===n&&(n=[]);var i=t.strict;void 0===i&&(i=!1);var r=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Z(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=r;var s=this,o=this,a=o.dispatch,l=o.commit;this.dispatch=function(t,e){return a.call(s,t,e)},this.commit=function(t,e,n){return l.call(s,t,e,n)},this.strict=i;var c=this._modules.root.state;k(this,c,[],this._modules.root),S(this,c),n.forEach((function(t){return t(e)}))},nt={state:{configurable:!0}};et.prototype.install=function(t,e){t.provide(e||m,this),t.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&V(t,this)},nt.state.get=function(){return this._state.data},nt.state.set=function(t){0},et.prototype.commit=function(t,e,n){var i=this,r=O(t,e,n),s=r.type,o=r.payload,a=(r.options,{type:s,payload:o}),l=this._mutations[s];l&&(this._withCommit((function(){l.forEach((function(t){t(o)}))})),this._subscribers.slice().forEach((function(t){return t(a,i.state)})))},et.prototype.dispatch=function(t,e){var n=this,i=O(t,e),r=i.type,s=i.payload,o={type:r,payload:s},a=this._actions[r];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(o,n.state)}))}catch(c){0}var l=a.length>1?Promise.all(a.map((function(t){return t(s)}))):a[0](s);return new Promise((function(t,e){l.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(o,n.state)}))}catch(c){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(o,n.state,t)}))}catch(c){0}e(t)}))}))}},et.prototype.subscribe=function(t,e){return _(t,this._subscribers,e)},et.prototype.subscribeAction=function(t,e){var n="function"===typeof t?{before:t}:t;return _(n,this._actionSubscribers,e)},et.prototype.watch=function(t,e,n){var r=this;return(0,i.YP)((function(){return t(r.state,r.getters)}),e,Object.assign({},n))},et.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},et.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),k(this,this.state,t,this._modules.get(t),n.preserveState),S(this,this.state)},et.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=D(e.state,t.slice(0,-1));delete n[t[t.length-1]]})),x(this)},et.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},et.prototype.hotUpdate=function(t){this._modules.update(t),x(this,!0)},et.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(et.prototype,nt);var it=at((function(t,e){var n={};return st(e).forEach((function(e){var i=e.key,r=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=lt(this.$store,"mapState",t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"===typeof r?r.call(this,e,n):e[r]},n[i].vuex=!0})),n})),rt=(at((function(t,e){var n={};return st(e).forEach((function(e){var i=e.key,r=e.val;n[i]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var i=this.$store.commit;if(t){var s=lt(this.$store,"mapMutations",t);if(!s)return;i=s.context.commit}return"function"===typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}})),n})),at((function(t,e){var n={};return st(e).forEach((function(e){var i=e.key,r=e.val;r=t+r,n[i]=function(){if(!t||lt(this.$store,"mapGetters",t))return this.$store.getters[r]},n[i].vuex=!0})),n})),at((function(t,e){var n={};return st(e).forEach((function(e){var i=e.key,r=e.val;n[i]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var s=lt(this.$store,"mapActions",t);if(!s)return;i=s.context.dispatch}return"function"===typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}})),n})));function st(t){return ot(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function ot(t){return Array.isArray(t)||y(t)}function at(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function lt(t,e,n){var i=t._modulesNamespaceMap[n];return i}},9893:function(t,e,n){"use strict";n.d(e,{Jn:function(){return K},KN:function(){return Q},Mq:function(){return Y},Xd:function(){return z},ZF:function(){return G},qX:function(){return U}});var i=n(9661),r=n(2002),s=n(9840),o=n(3073);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(t){this.container=t}getPlatformInfoString(){const t=this.container.getProviders();return t.map((t=>{if(l(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}function l(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}const c="@firebase/app",u="0.9.0",h=new r.Yd("@firebase/app"),d="@firebase/app-compat",f="@firebase/analytics-compat",p="@firebase/analytics",g="@firebase/app-check-compat",m="@firebase/app-check",v="@firebase/auth",y="@firebase/auth-compat",b="@firebase/database",w="@firebase/database-compat",_="@firebase/functions",x="@firebase/functions-compat",S="@firebase/installations",k="@firebase/installations-compat",I="@firebase/messaging",E="@firebase/messaging-compat",T="@firebase/performance",C="@firebase/performance-compat",A="@firebase/remote-config",M="@firebase/remote-config-compat",D="@firebase/storage",O="@firebase/storage-compat",P="@firebase/firestore",R="@firebase/firestore-compat",L="firebase",N="9.15.0",F="[DEFAULT]",V={[c]:"fire-core",[d]:"fire-core-compat",[p]:"fire-analytics",[f]:"fire-analytics-compat",[m]:"fire-app-check",[g]:"fire-app-check-compat",[v]:"fire-auth",[y]:"fire-auth-compat",[b]:"fire-rtdb",[w]:"fire-rtdb-compat",[_]:"fire-fn",[x]:"fire-fn-compat",[S]:"fire-iid",[k]:"fire-iid-compat",[I]:"fire-fcm",[E]:"fire-fcm-compat",[T]:"fire-perf",[C]:"fire-perf-compat",[A]:"fire-rc",[M]:"fire-rc-compat",[D]:"fire-gcs",[O]:"fire-gcs-compat",[P]:"fire-fst",[R]:"fire-fst-compat","fire-js":"fire-js",[L]:"fire-js-all"},q=new Map,B=new Map;function j(t,e){try{t.container.addComponent(e)}catch(n){h.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function z(t){const e=t.name;if(B.has(e))return h.debug(`There were multiple attempts to register component ${e}.`),!1;B.set(e,t);for(const n of q.values())j(n,t);return!0}function U(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const $={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},H=new s.LL("app","Firebase",$);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class W{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw H.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=N;function G(t,e={}){let n=t;if("object"!==typeof e){const t=e;e={name:t}}const r=Object.assign({name:F,automaticDataCollectionEnabled:!1},e),o=r.name;if("string"!==typeof o||!o)throw H.create("bad-app-name",{appName:String(o)});if(n||(n=(0,s.aH)()),!n)throw H.create("no-options");const a=q.get(o);if(a){if((0,s.vZ)(n,a.options)&&(0,s.vZ)(r,a.config))return a;throw H.create("duplicate-app",{appName:o})}const l=new i.H0(o);for(const i of B.values())l.addComponent(i);const c=new W(n,r,l);return q.set(o,c),c}function Y(t=F){const e=q.get(t);if(!e&&t===F)return G();if(!e)throw H.create("no-app",{appName:t});return e}function Q(t,e,n){var r;let s=null!==(r=V[t])&&void 0!==r?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${s}" with version "${e}":`];return o&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void h.warn(t.join(" "))}z(new i.wA(`${s}-version`,(()=>({library:s,version:e})),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const X="firebase-heartbeat-database",Z=1,J="firebase-heartbeat-store";let tt=null;function et(){return tt||(tt=(0,o.X3)(X,Z,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(J)}}}).catch((t=>{throw H.create("idb-open",{originalErrorMessage:t.message})}))),tt}async function nt(t){try{const e=await et();return e.transaction(J).objectStore(J).get(rt(t))}catch(e){if(e instanceof s.ZR)h.warn(e.message);else{const t=H.create("idb-get",{originalErrorMessage:null===e||void 0===e?void 0:e.message});h.warn(t.message)}}}async function it(t,e){try{const n=await et(),i=n.transaction(J,"readwrite"),r=i.objectStore(J);return await r.put(e,rt(t)),i.done}catch(n){if(n instanceof s.ZR)h.warn(n.message);else{const t=H.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});h.warn(t.message)}}}function rt(t){return`${t.name}!${t.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st=1024,ot=2592e6;class at{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new ut(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate(),e=t.getPlatformInfoString(),n=lt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((t=>t.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf(),n=Date.now();return n-e<=ot})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=lt(),{heartbeatsToSend:e,unsentEntries:n}=ct(this._heartbeatsCache.heartbeats),i=(0,s.L)(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function lt(){const t=new Date;return t.toISOString().substring(0,10)}function ct(t,e=st){const n=[];let i=t.slice();for(const r of t){const t=n.find((t=>t.agent===r.agent));if(t){if(t.dates.push(r.date),ht(n)>e){t.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ht(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class ut{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.hl)()&&(0,s.eu)().then((()=>!0)).catch((()=>!1))}async read(){const t=await this._canUseIndexedDBPromise;if(t){const t=await nt(this.app);return t||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return it(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return it(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function ht(t){return(0,s.L)(JSON.stringify({version:2,heartbeats:t})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){z(new i.wA("platform-logger",(t=>new a(t)),"PRIVATE")),z(new i.wA("heartbeat",(t=>new at(t)),"PRIVATE")),Q(c,u,t),Q(c,u,"esm2017"),Q("fire-js","")}dt("")},9661:function(t,e,n){"use strict";n.d(e,{H0:function(){return c},wA:function(){return r}});var i=n(9840);class r{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new i.BH;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(n){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),i=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(l(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(e){}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:i});n.resolve(t)}catch(e){}}}}clearInstance(t=s){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t=s){return this.instances.has(t)}getOptions(t=s){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[r,s]of this.instancesDeferred.entries()){const t=this.normalizeInstanceIdentifier(r);n===t&&s.resolve(i)}return i}onInit(t,e){var n;const i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(i){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(i){}return n||null}normalizeInstanceIdentifier(t=s){return this.component?this.component.multipleInstances?t:s:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function a(t){return t===s?void 0:t}function l(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){const e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new o(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}},2002:function(t,e,n){"use strict";n.d(e,{Yd:function(){return c},in:function(){return r}});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const i=[];var r;(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(r||(r={}));const s={debug:r.DEBUG,verbose:r.VERBOSE,info:r.INFO,warn:r.WARN,error:r.ERROR,silent:r.SILENT},o=r.INFO,a={[r.DEBUG]:"log",[r.VERBOSE]:"log",[r.INFO]:"info",[r.WARN]:"warn",[r.ERROR]:"error"},l=(t,e,...n)=>{if(e<t.logLevel)return;const i=(new Date).toISOString(),r=a[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${t.name}:`,...n)};class c{constructor(t){this.name=t,this._logLevel=o,this._logHandler=l,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in r))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?s[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,r.DEBUG,...t),this._logHandler(this,r.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,r.VERBOSE,...t),this._logHandler(this,r.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,r.INFO,...t),this._logHandler(this,r.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,r.WARN,...t),this._logHandler(this,r.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,r.ERROR,...t),this._logHandler(this,r.ERROR,...t)}}},7723:function(t,e,n){"use strict";
/*!
 * @kurkle/color v0.3.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */
function i(t){return t+.5|0}n.d(e,{ZP:function(){return Tc}});const r=(t,e,n)=>Math.max(Math.min(t,n),e);function s(t){return r(i(2.55*t),0,255)}function o(t){return r(i(255*t),0,255)}function a(t){return r(i(t/2.55)/100,0,1)}function l(t){return r(i(100*t),0,100)}const c={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},u=[..."0123456789ABCDEF"],h=t=>u[15&t],d=t=>u[(240&t)>>4]+u[15&t],f=t=>(240&t)>>4===(15&t),p=t=>f(t.r)&&f(t.g)&&f(t.b)&&f(t.a);function g(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*c[t[1]],g:255&17*c[t[2]],b:255&17*c[t[3]],a:5===n?17*c[t[4]]:255}:7!==n&&9!==n||(e={r:c[t[1]]<<4|c[t[2]],g:c[t[3]]<<4|c[t[4]],b:c[t[5]]<<4|c[t[6]],a:9===n?c[t[7]]<<4|c[t[8]]:255})),e}const m=(t,e)=>t<255?e(t):"";function v(t){var e=p(t)?h:d;return t?"#"+e(t.r)+e(t.g)+e(t.b)+m(t.a,e):void 0}const y=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function b(t,e,n){const i=e*Math.min(n,1-n),r=(e,r=(e+t/30)%12)=>n-i*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function w(t,e,n){const i=(i,r=(i+t/60)%6)=>n-n*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function _(t,e,n){const i=b(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function x(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function S(t){const e=255,n=t.r/e,i=t.g/e,r=t.b/e,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=x(n,i,r,u,s),l=60*l+.5),[0|l,c||0,a]}function k(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(o)}function I(t,e,n){return k(b,t,e,n)}function E(t,e,n){return k(_,t,e,n)}function T(t,e,n){return k(w,t,e,n)}function C(t){return(t%360+360)%360}function A(t){const e=y.exec(t);let n,i=255;if(!e)return;e[5]!==n&&(i=e[6]?s(+e[5]):o(+e[5]));const r=C(+e[2]),a=+e[3]/100,l=+e[4]/100;return n="hwb"===e[1]?E(r,a,l):"hsv"===e[1]?T(r,a,l):I(r,a,l),{r:n[0],g:n[1],b:n[2],a:i}}function M(t,e){var n=S(t);n[0]=C(n[0]+e),n=I(n),t.r=n[0],t.g=n[1],t.b=n[2]}function D(t){if(!t)return;const e=S(t),n=e[0],i=l(e[1]),r=l(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${a(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const O={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},P={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function R(){const t={},e=Object.keys(P),n=Object.keys(O);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,O[s]);s=parseInt(P[o],16),t[a]=[s>>16&255,s>>8&255,255&s]}return t}let L;function N(t){L||(L=R(),L.transparent=[0,0,0,0]);const e=L[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const F=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function V(t){const e=F.exec(t);let n,i,o,a=255;if(e){if(e[7]!==n){const t=+e[7];a=e[8]?s(t):r(255*t,0,255)}return n=+e[1],i=+e[3],o=+e[5],n=255&(e[2]?s(n):r(n,0,255)),i=255&(e[4]?s(i):r(i,0,255)),o=255&(e[6]?s(o):r(o,0,255)),{r:n,g:i,b:o,a:a}}}function q(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${a(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const B=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,j=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function z(t,e,n){const i=j(a(t.r)),r=j(a(t.g)),s=j(a(t.b));return{r:o(B(i+n*(j(a(e.r))-i))),g:o(B(r+n*(j(a(e.g))-r))),b:o(B(s+n*(j(a(e.b))-s))),a:t.a+n*(e.a-t.a)}}function U(t,e,n){if(t){let i=S(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,0===e?360:1)),i=I(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function $(t,e){return t?Object.assign(e||{},t):t}function H(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=o(t[3]))):(e=$(t,{r:0,g:0,b:0,a:1}),e.a=o(e.a)),e}function W(t){return"r"===t.charAt(0)?V(t):A(t)}class K{constructor(t){if(t instanceof K)return t;const e=typeof t;let n;"object"===e?n=H(t):"string"===e&&(n=g(t)||N(t)||W(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=$(this._rgb);return t&&(t.a=a(t.a)),t}set rgb(t){this._rgb=H(t)}rgbString(){return this._valid?q(this._rgb):void 0}hexString(){return this._valid?v(this._rgb):void 0}hslString(){return this._valid?D(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,i=t.rgb;let r;const s=e===r?.5:e,o=2*s-1,a=n.a-i.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=s*n.a+(1-s)*i.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=z(this._rgb,t._rgb,e)),this}clone(){return new K(this.rgb)}alpha(t){return this._rgb.a=o(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=i(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return U(this._rgb,2,t),this}darken(t){return U(this._rgb,2,-t),this}saturate(t){return U(this._rgb,1,t),this}desaturate(t){return U(this._rgb,1,-t),this}rotate(t){return M(this._rgb,t),this}}
/*!
 * Chart.js v4.1.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */
function G(){}const Y=(()=>{let t=0;return()=>t++})();function Q(t){return null===t||"undefined"===typeof t}function X(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Z(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function J(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function tt(t,e){return J(t)?t:e}function et(t,e){return"undefined"===typeof t?e:t}const nt=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/e,it=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function rt(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function st(t,e,n,i){let r,s,o;if(X(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(Z(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function ot(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function at(t){if(X(t))return t.map(at);if(Z(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=at(t[n[r]]);return e}return t}function lt(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function ct(t,e,n,i){if(!lt(t))return;const r=e[t],s=n[t];Z(r)&&Z(s)?ut(r,s,i):e[t]=at(s)}function ut(t,e,n){const i=X(e)?e:[e],r=i.length;if(!Z(t))return t;n=n||{};const s=n.merger||ct;let o;for(let a=0;a<r;++a){if(o=i[a],!Z(o))continue;const e=Object.keys(o);for(let i=0,r=e.length;i<r;++i)s(e[i],t,o,n)}return t}function ht(t,e){return ut(t,e,{merger:dt})}function dt(t,e,n){if(!lt(t))return;const i=e[t],r=n[t];Z(i)&&Z(r)?ht(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=at(r))}const ft={"":t=>t,x:t=>t.x,y:t=>t.y};function pt(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function gt(t){const e=pt(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}function mt(t,e){const n=ft[e]||(ft[e]=gt(e));return n(t)}function vt(t){return t.charAt(0).toUpperCase()+t.slice(1)}const yt=t=>"undefined"!==typeof t,bt=t=>"function"===typeof t,wt=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function _t(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}const xt=Math.PI,St=2*xt,kt=St+xt,It=Number.POSITIVE_INFINITY,Et=xt/180,Tt=xt/2,Ct=xt/4,At=2*xt/3,Mt=Math.log10,Dt=Math.sign;function Ot(t,e,n){return Math.abs(t-e)<n}function Pt(t){const e=Math.round(t);t=Ot(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Mt(t))),i=t/n,r=i<=1?1:i<=2?2:i<=5?5:10;return r*n}function Rt(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}function Lt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function Nt(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function Ft(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Vt(t){return t*(xt/180)}function qt(t){return t*(180/xt)}function Bt(t){if(!J(t))return;let e=1,n=0;while(Math.round(t*e)/e!==t)e*=10,n++;return n}function jt(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*xt&&(s+=St),{angle:s,distance:r}}function zt(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ut(t,e){return(t-e+kt)%St-xt}function $t(t){return(t%St+St)%St}function Ht(t,e,n,i){const r=$t(t),s=$t(e),o=$t(n),a=$t(s-r),l=$t(o-r),c=$t(r-s),u=$t(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function Wt(t,e,n){return Math.max(e,Math.min(n,t))}function Kt(t){return Wt(t,-32768,32767)}function Gt(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Yt(t,e,n){n=n||(n=>t[n]<e);let i,r=t.length-1,s=0;while(r-s>1)i=s+r>>1,n(i)?s=i:r=i;return{lo:s,hi:r}}const Qt=(t,e,n,i)=>Yt(t,n,i?i=>{const r=t[i][e];return r<n||r===n&&t[i+1][e]===n}:i=>t[i][e]<n),Xt=(t,e,n)=>Yt(t,n,(i=>t[i][e]>=n));function Zt(t,e,n){let i=0,r=t.length;while(i<r&&t[i]<e)i++;while(r>i&&t[r-1]>n)r--;return i>0||r<t.length?t.slice(i,r):t}const Jt=["push","pop","shift","splice","unshift"];function te(t,e){t._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Jt.forEach((e=>{const n="_onData"+vt(e),i=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...e){const r=i.apply(this,e);return t._chartjs.listeners.forEach((t=>{"function"===typeof t[n]&&t[n](...e)})),r}})})))}function ee(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);-1!==r&&i.splice(r,1),i.length>0||(Jt.forEach((e=>{delete t[e]})),delete t._chartjs)}function ne(t){const e=new Set;let n,i;for(n=0,i=t.length;n<i;++n)e.add(t[n]);return e.size===i?t:Array.from(e)}const ie=function(){return"undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame}();function re(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,ie.call(window,(()=>{i=!1,t.apply(e,n)})))}}function se(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const oe=t=>"start"===t?"left":"end"===t?"right":"center",ae=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2,le=(t,e,n,i)=>{const r=i?"left":"right";return t===r?n:"center"===t?(e+n)/2:e};function ce(t,e,n){const i=e.length;let r=0,s=i;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(r=Wt(Math.min(Qt(a,o.axis,c).lo,n?i:Qt(e,l,o.getPixelForValue(c)).lo),0,i-1)),s=d?Wt(Math.max(Qt(a,o.axis,u,!0).hi+1,n?0:Qt(e,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function ue(t){const{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;const s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}const he=t=>0===t||1===t,de=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*St/n),fe=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*St/n)+1,pe={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Tt),easeOutSine:t=>Math.sin(t*Tt),easeInOutSine:t=>-.5*(Math.cos(xt*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>he(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>he(t)?t:de(t,.075,.3),easeOutElastic:t=>he(t)?t:fe(t,.075,.3),easeInOutElastic(t){const e=.1125,n=.45;return he(t)?t:t<.5?.5*de(2*t,e,n):.5+.5*fe(2*t-1,e,n)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-pe.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*pe.easeInBounce(2*t):.5*pe.easeOutBounce(2*t-1)+.5};function ge(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function me(t){return ge(t)?t:new K(t)}function ve(t){return ge(t)?t:new K(t).saturate(.5).darken(.1).hexString()}const ye=["x","y","borderWidth","radius","tension"],be=["color","borderColor","backgroundColor"];function we(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:be},numbers:{type:"number",properties:ye}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})}function _e(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const xe=new Map;function Se(t,e){e=e||{};const n=t+JSON.stringify(e);let i=xe.get(n);return i||(i=new Intl.NumberFormat(t,e),xe.set(n,i)),i}function ke(t,e,n){return Se(e,n).format(t)}const Ie={values(t){return X(t)?t:""+t},numeric(t,e,n){if(0===t)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(r="scientific"),s=Ee(t,n)}const o=Mt(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ke(t,i,l)},logarithmic(t,e,n){if(0===t)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Mt(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?Ie.numeric.call(this,t,e,n):""}};function Ee(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Te={formatters:Ie};function Ce(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Te.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}const Ae=Object.create(null),Me=Object.create(null);function De(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const e=n[i];t=t[e]||(t[e]=Object.create(null))}return t}function Oe(t,e,n){return"string"===typeof e?ut(De(t,e),n):ut(De(t,""),e)}class Pe{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>ve(e.backgroundColor),this.hoverBorderColor=(t,e)=>ve(e.borderColor),this.hoverColor=(t,e)=>ve(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Oe(this,t,e)}get(t){return De(this,t)}describe(t,e){return Oe(Me,t,e)}override(t,e){return Oe(Ae,t,e)}route(t,e,n,i){const r=De(this,t),s=De(this,n),o="_"+e;Object.defineProperties(r,{[o]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=s[i];return Z(t)?Object.assign({},e,t):et(t,e)},set(t){this[o]=t}}})}apply(t){t.forEach((t=>t(this)))}}var Re=new Pe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[we,_e,Ce]);function Le(t){return!t||Q(t.size)||Q(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Ne(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function Fe(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],void 0!==h&&null!==h&&!0!==X(h))o=Ne(t,r,s,o,h);else if(X(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||X(d)||(o=Ne(t,r,s,o,d));t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function Ve(t,e,n){const i=t.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function qe(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Be(t,e,n,i){je(t,e,n,i,null)}function je(t,e,n,i,r){let s,o,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*Et;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(n,i),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,g,0,0,St):t.arc(n,i,g,0,St),t.closePath();break;case"triangle":u=r?r/2:g,t.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=At,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=At,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(m+Ct)*l,h=Math.cos(m+Ct)*(r?r/2-c:l),a=Math.sin(m+Ct)*l,d=Math.sin(m+Ct)*(r?r/2-c:l),t.arc(n-h,i-a,c,m-xt,m-Tt),t.arc(n+d,i-o,c,m-Tt,m),t.arc(n+h,i+a,c,m,m+Tt),t.arc(n-d,i+o,c,m+Tt,m+xt),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}m+=Ct;case"rectRot":h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+d,i-o),t.lineTo(n+h,i+a),t.lineTo(n-d,i+o),t.closePath();break;case"crossRot":m+=Ct;case"cross":h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"star":h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o),m+=Ct,h=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(r?r/2:g),t.moveTo(n-h,i-a),t.lineTo(n+h,i+a),t.moveTo(n+d,i-o),t.lineTo(n-d,i+o);break;case"line":o=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function ze(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ue(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function $e(t){t.restore()}function He(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if("middle"===r){const i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else"after"===r!==!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function We(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Ke(t,e,n,i,r,s={}){const o=X(e)?e:[e],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(t.save(),t.font=r.string,Ge(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Qe(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Q(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),Ye(t,n,i,c,s),i+=r.lineHeight;t.restore()}function Ge(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Q(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Ye(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function Qe(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Xe(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-Tt,xt,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,xt,Tt,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Tt,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-Tt,!0),t.lineTo(n+o.topLeft,i)}const Ze=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Je=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function tn(t,e){const n=(""+t).match(Ze);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const en=t=>+t||0;function nn(t,e){const n={},i=Z(e),r=i?Object.keys(e):e,s=Z(t)?i?n=>et(t[n],t[e[n]]):e=>t[e]:()=>t;for(const o of r)n[o]=en(s(o));return n}function rn(t){return nn(t,{top:"y",right:"x",bottom:"y",left:"x"})}function sn(t){return nn(t,["topLeft","topRight","bottomLeft","bottomRight"])}function on(t){const e=rn(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function an(t,e){t=t||{},e=e||Re.font;let n=et(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let i=et(t.style,e.style);i&&!(""+i).match(Je)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:et(t.family,e.family),lineHeight:tn(et(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:et(t.weight,e.weight),string:""};return r.string=Le(r),r}function ln(t,e,n,i){let r,s,o,a=!0;for(r=0,s=t.length;r<s;++r)if(o=t[r],void 0!==o&&(void 0!==e&&"function"===typeof o&&(o=o(e),a=!1),void 0!==n&&X(o)&&(o=o[n%o.length],a=!1),void 0!==o))return i&&!a&&(i.cacheable=!1),o}function cn(t,e,n){const{min:i,max:r}=t,s=it(e,(r-i)/2),o=(t,e)=>n&&0===t?0:t+e;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function un(t,e){return Object.assign(Object.create(t),e)}function hn(t,e=[""],n=t,i,r=(()=>t[0])){yt(i)||(i=Tn("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:n,_fallback:i,_getTarget:r,override:r=>hn([r,...t],e,n,i)};return new Proxy(s,{deleteProperty(e,n){return delete e[n],delete e._keys,delete t[0][n],!0},get(n,i){return mn(n,i,(()=>En(i,e,t,n)))},getOwnPropertyDescriptor(t,e){return Reflect.getOwnPropertyDescriptor(t._scopes[0],e)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(t,e){return Cn(t).includes(e)},ownKeys(t){return Cn(t)},set(t,e,n){const i=t._storage||(t._storage=r());return t[e]=i[e]=n,delete t._keys,!0}})}function dn(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:fn(t,i),setContext:e=>dn(t,e,n,i),override:r=>dn(t.override(r),e,n,i)};return new Proxy(r,{deleteProperty(e,n){return delete e[n],delete t[n],!0},get(t,e,n){return mn(t,e,(()=>vn(t,e,n)))},getOwnPropertyDescriptor(e,n){return e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(e,n){return Reflect.has(t,n)},ownKeys(){return Reflect.ownKeys(t)},set(e,n,i){return t[n]=i,delete e[n],!0}})}function fn(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:bt(n)?n:()=>n,isIndexable:bt(i)?i:()=>i}}const pn=(t,e)=>t?t+vt(e):e,gn=(t,e)=>Z(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function mn(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const i=n();return t[e]=i,i}function vn(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return bt(a)&&o.isScriptable(e)&&(a=yn(e,a,t,n)),X(a)&&a.length&&(a=bn(e,a,t,o.isIndexable)),gn(e,a)&&(a=dn(a,r,s&&s[e],o)),a}function yn(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),e=e(s,o||i),a.delete(t),gn(t,e)&&(e=Sn(r._scopes,r,t,e)),e}function bn(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(yt(s.index)&&i(t))e=e[s.index%e.length];else if(Z(e[0])){const n=e,i=r._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=Sn(i,r,t,l);e.push(dn(n,s,o&&o[t],a))}}return e}function wn(t,e,n){return bt(t)?t(e,n):t}const _n=(t,e)=>!0===t?e:"string"===typeof t?mt(e,t):void 0;function xn(t,e,n,i,r){for(const s of e){const e=_n(n,s);if(e){t.add(e);const s=wn(e._fallback,n,r);if(yt(s)&&s!==n&&s!==i)return s}else if(!1===e&&yt(i)&&n!==i)return null}return!1}function Sn(t,e,n,i){const r=e._rootScopes,s=wn(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=kn(a,o,n,s||n,i);return null!==l&&((!yt(s)||s===n||(l=kn(a,o,s,l,i),null!==l))&&hn(Array.from(a),[""],r,s,(()=>In(e,n,i))))}function kn(t,e,n,i,r){while(n)n=xn(t,e,n,i,r);return n}function In(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return X(r)&&Z(n)?n:r||{}}function En(t,e,n,i){let r;for(const s of e)if(r=Tn(pn(s,t),n),yt(r))return gn(t,r)?Sn(n,i,t,r):r}function Tn(t,e){for(const n of e){if(!n)continue;const e=n[t];if(yt(e))return e}}function Cn(t){let e=t._keys;return e||(e=t._keys=An(t._scopes)),e}function An(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}function Mn(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:r.parse(mt(u,s),c)};return o}const Dn=Number.EPSILON||1e-14,On=(t,e)=>e<t.length&&!t[e].skip&&t[e],Pn=t=>"x"===t?"y":"x";function Rn(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=zt(s,r),l=zt(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:s.x-h*(o.x-r.x),y:s.y-h*(o.y-r.y)},next:{x:s.x+d*(o.x-r.x),y:s.y+d*(o.y-r.y)}}}function Ln(t,e,n){const i=t.length;let r,s,o,a,l,c=On(t,0);for(let u=0;u<i-1;++u)l=c,c=On(t,u+1),l&&c&&(Ot(e[u],0,Dn)?n[u]=n[u+1]=0:(r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])))}function Nn(t,e,n="x"){const i=Pn(n),r=t.length;let s,o,a,l=On(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=On(t,c+1),!a)continue;const r=a[n],u=a[i];o&&(s=(r-o[n])/3,a[`cp1${n}`]=r-s,a[`cp1${i}`]=u-s*e[c]),l&&(s=(l[n]-r)/3,a[`cp2${n}`]=r+s,a[`cp2${i}`]=u+s*e[c])}}function Fn(t,e="x"){const n=Pn(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=On(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=On(t,o+1),l){if(c){const t=c[e]-l[e];r[o]=0!==t?(c[n]-l[n])/t:0}s[o]=a?c?Dt(r[o-1])!==Dt(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}Ln(t,r,s),Nn(t,s,e)}function Vn(t,e,n){return Math.max(Math.min(t,n),e)}function qn(t,e){let n,i,r,s,o,a=ze(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&ze(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Vn(r.cp1x,e.left,e.right),r.cp1y=Vn(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Vn(r.cp2x,e.left,e.right),r.cp2y=Vn(r.cp2y,e.top,e.bottom)))}function Bn(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)Fn(t,r);else{let n=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=Rn(n,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}e.capBezierPoints&&qn(t,n)}function jn(){return"undefined"!==typeof window&&"undefined"!==typeof document}function zn(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Un(t,e,n){let i;return"string"===typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}const $n=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Hn(t,e){return $n(t).getPropertyValue(e)}const Wn=["top","right","bottom","left"];function Kn(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=Wn[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Gn=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Yn(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o,a,l=!1;if(Gn(r,s,t.target))o=r,a=s;else{const t=e.getBoundingClientRect();o=i.clientX-t.left,a=i.clientY-t.top,l=!0}return{x:o,y:a,box:l}}function Qn(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=$n(n),s="border-box"===r.boxSizing,o=Kn(r,"padding"),a=Kn(r,"border","width"),{x:l,y:c,box:u}=Yn(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/i),y:Math.round((c-d)/p*n.height/i)}}function Xn(t,e,n){let i,r;if(void 0===e||void 0===n){const s=zn(t);if(s){const t=s.getBoundingClientRect(),o=$n(s),a=Kn(o,"border","width"),l=Kn(o,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,i=Un(o.maxWidth,s,"clientWidth"),r=Un(o.maxHeight,s,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:i||It,maxHeight:r||It}}const Zn=t=>Math.round(10*t)/10;function Jn(t,e,n,i){const r=$n(t),s=Kn(r,"margin"),o=Un(r.maxWidth,t,"clientWidth")||It,a=Un(r.maxHeight,t,"clientHeight")||It,l=Xn(t,e,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const t=Kn(r,"border","width"),e=Kn(r,"padding");c-=e.width+t.width,u-=e.height+t.height}c=Math.max(0,c-s.width),u=Math.max(0,i?Math.floor(c/i):u-s.height),c=Zn(Math.min(c,o,l.maxWidth)),u=Zn(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Zn(c/2));const h=void 0!==e||void 0!==n;return h&&i&&l.height&&u>l.height&&(u=l.height,c=Zn(Math.floor(u*i))),{width:c,height:u}}function ti(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=r/i,t.width=s/i;const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0)}const ei=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}return t}();function ni(t,e){const n=Hn(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ii(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function ri(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:"middle"===i?n<.5?t.y:e.y:"after"===i?n<1?t.y:e.y:n>0?e.y:t.y}}function si(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=ii(t,r,n),a=ii(r,s,n),l=ii(s,e,n),c=ii(o,a,n),u=ii(a,l,n);return ii(c,u,n)}const oi=function(t,e){return{x(n){return t+t+e-n},setWidth(t){e=t},textAlign(t){return"center"===t?t:"right"===t?"left":"right"},xPlus(t,e){return t-e},leftForLtr(t,e){return t-e}}},ai=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function li(t,e,n){return t?oi(e,n):ai()}function ci(t,e){let n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function ui(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function hi(t){return"angle"===t?{between:Ht,compare:Ut,normalize:$t}:{between:Gt,compare:(t,e)=>t-e,normalize:t=>t}}function di({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function fi(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=hi(i),l=e.length;let c,u,{start:h,end:d,loop:f}=t;if(f){for(h+=l,d+=l,c=0,u=l;c<u;++c){if(!o(a(e[h%l][i]),r,s))break;h--,d--}h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:t.style}}function pi(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=hi(i),{start:u,end:h,loop:d,style:f}=fi(t,e,n),p=[];let g,m,v,y=!1,b=null;const w=()=>l(r,v,g)&&0!==a(r,v),_=()=>0===a(s,g)||l(s,v,g),x=()=>y||w(),S=()=>!y||_();for(let k=u,I=u;k<=h;++k)m=e[k%o],m.skip||(g=c(m[i]),g!==v&&(y=l(g,r,s),null===b&&x()&&(b=0===a(g,r)?k:I),null!==b&&S()&&(p.push(di({start:b,end:k,loop:d,count:o,style:f})),b=null),I=k,v=g));return null!==b&&p.push(di({start:b,end:h,loop:d,count:o,style:f})),p}function gi(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=pi(i[r],t.points,e);s.length&&n.push(...s)}return n}function mi(t,e,n,i){let r=0,s=e-1;if(n&&!i)while(r<e&&!t[r].skip)r++;while(r<e&&t[r].skip)r++;r%=e,n&&(s+=r);while(s>r&&t[s%e].skip)s--;return s%=e,{start:r,end:s}}function vi(t,e,n,i){const r=t.length,s=[];let o,a=e,l=t[e];for(o=e+1;o<=n;++o){const n=t[o%r];n.skip||n.stop?l.skip||(i=!1,s.push({start:e%r,end:(o-1)%r,loop:i}),e=a=n.stop?o:null):(a=o,l.skip&&(e=o)),l=n}return null!==a&&s.push({start:e%r,end:a%r,loop:i}),s}function yi(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=mi(n,r,s,i);if(!0===i)return bi(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,c=!!t._fullLoop&&0===o&&a===r-1;return bi(t,vi(n,o,l,c),n,e)}function bi(t,e,n,i){return i&&i.setContext&&n?wi(t,e,n,i):e}function wi(t,e,n,i){const r=t._chart.getContext(),s=_i(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,d=h;function f(t,e,i,r){const s=a?-1:1;if(t!==e){t+=l;while(n[t%l].skip)t-=s;while(n[e%l].skip)e+=s;t%l!==e%l&&(c.push({start:t%l,end:e%l,loop:i,style:r}),u=r,h=e%l)}}for(const p of e){h=a?h:p.start;let t,e=n[h%l];for(d=h+1;d<=p.end;d++){const s=n[d%l];t=_i(i.setContext(un(r,{type:"segment",p0:e,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),xi(t,u)&&f(h,d-1,p.loop,u),e=s,u=t}h<d-1&&f(h,d-1,p.loop,u)}return c}function _i(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function xi(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}
/*!
 * Chart.js v4.1.0
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */
class Si{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,i){const r=e.listeners[i],s=e.duration;r.forEach((i=>i({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=ie.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let s,o=r.length-1,a=!1;for(;o>=0;--o)s=r[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),r.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),e+=r.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ki=new Si;const Ii="transparent",Ei={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=me(t||Ii),r=i.valid&&me(e||Ii);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class Ti{constructor(t,e,n,i){const r=e[n];i=ln([t.to,i,r,t.from]);const s=ln([t.from,r,i]);this._active=!0,this._fn=t.fn||Ei[t.type||typeof s],this._easing=pe[t.easing]||pe.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=i,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,s=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=ln([t.to,e,i,t.from]),this._from=ln([t.from,i,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,i=this._prop,r=this._from,s=this._loop,o=this._to;let a;if(this._active=r!==o&&(s||e<n),!this._active)return this._target[i]=o,void this._notify(!0);e<0?this._target[i]=r:(a=e/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][e]()}}class Ci{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Z(t))return;const e=Object.keys(Re.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((i=>{const r=t[i];if(!Z(r))return;const s={};for(const t of e)s[t]=r[t];(X(r.properties)&&r.properties||[i]).forEach((t=>{t!==i&&n.has(t)||n.set(t,s)}))}))}_animateOptions(t,e){const n=e.options,i=Mi(t,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&Ai(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),r}_createAnimations(t,e){const n=this._properties,i=[],r=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(t,e));continue}const c=e[l];let u=r[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,o);continue}u.cancel()}h&&h.duration?(r[l]=u=new Ti(h,t,l,c),i.push(u)):t[l]=c}return i}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?(ki.add(this._chart,n),!0):void 0}}function Ai(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const e=t[i[r]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}function Mi(t,e){if(!e)return;let n=t.options;if(n)return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;t.options=e}function Di(t,e){const n=t&&t.options||{},i=n.reverse,r=void 0===n.min?e:0,s=void 0===n.max?e:0;return{start:i?s:r,end:i?r:s}}function Oi(t,e,n){if(!1===n)return!1;const i=Di(t,n),r=Di(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Pi(t){let e,n,i,r;return Z(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:!1===t}}function Ri(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function Li(t,e,n,i={}){const r=t.keys,s="single"===i.mode;let o,a,l,c;if(null!==e){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=t.values[l],J(c)&&(s||0===e||Dt(e)===Dt(c))&&(e+=c)}return e}}function Ni(t){const e=Object.keys(t),n=new Array(e.length);let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],n[i]={x:s,y:t[s]};return n}function Fi(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function Vi(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function qi(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function Bi(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function ji(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const e=t[r.index];if(n&&e>0||!n&&e<0)return r.index}return null}function zi(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=Vi(s,o,i),h=e.length;let d;for(let f=0;f<h;++f){const t=e[f],{[l]:n,[c]:s}=t,h=t._stacks||(t._stacks={});d=h[c]=Bi(r,u,n),d[a]=s,d._top=ji(d,o,!0,i.type),d._bottom=ji(d,o,!1,i.type);const p=d._visualValues||(d._visualValues={});p[a]=s}}function Ui(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function $i(t,e){return un(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Hi(t,e,n){return un(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Wi(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[i]||void 0===e[i][n])return;delete e[i][n],void 0!==e[i]._visualValues&&void 0!==e[i]._visualValues[n]&&delete e[i]._visualValues[n]}}}const Ki=t=>"reset"===t||"none"===t,Gi=(t,e)=>e?t:Object.assign({},t),Yi=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Ri(n,!0),values:null};class Qi{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Fi(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Wi(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),i=(t,e,n,i)=>"x"===t?e:"r"===t?i:n,r=e.xAxisID=et(n.xAxisID,Ui(t,"x")),s=e.yAxisID=et(n.yAxisID,Ui(t,"y")),o=e.rAxisID=et(n.rAxisID,Ui(t,"r")),a=e.indexAxis,l=e.iAxisID=i(a,r,s,o),c=e.vAxisID=i(a,s,r,o);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&ee(this._data,this),t._stacked&&Wi(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(Z(e))this._data=Ni(e);else if(n!==e){if(n){ee(n,this);const t=this._cachedMeta;Wi(t),t._parsed=[]}e&&Object.isExtensible(e)&&te(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=e._stacked;e._stacked=Fi(e.vScale,e),e.stack!==n.stack&&(i=!0,Wi(e),e.stack=n.stack),this._resyncElements(t),(i||r!==e._stacked)&&zi(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:s}=n,o=r.axis;let a,l,c,u=0===t&&e===i.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=X(i[t])?this.parseArrayData(n,i,t,e):Z(i[t])?this.parseObjectData(n,i,t,e):this.parsePrimitiveData(n,i,t,e);const r=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<e;++a)n._parsed[a+t]=l=c[a],u&&(r()&&(u=!1),h=l);n._sorted=u}s&&zi(this,c)}parsePrimitiveData(t,e,n,i){const{iScale:r,vScale:s}=t,o=r.axis,a=s.axis,l=r.getLabels(),c=r===s,u=new Array(i);let h,d,f;for(h=0,d=i;h<d;++h)f=h+n,u[h]={[o]:c||r.parse(l[f],f),[a]:s.parse(e[f],f)};return u}parseArrayData(t,e,n,i){const{xScale:r,yScale:s}=t,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={x:r.parse(u[0],c),y:s.parse(u[1],c)};return o}parseObjectData(t,e,n,i){const{xScale:r,yScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,u,h,d;for(c=0,u=i;c<u;++c)h=c+n,d=e[h],l[c]={x:r.parse(mt(d,o),h),y:s.parse(mt(d,a),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const i=this.chart,r=this._cachedMeta,s=e[t.axis],o={keys:Ri(i,!0),values:e._stacks[t.axis]._visualValues};return Li(o,s,r.index,{mode:n})}updateRangeFromParsed(t,e,n,i){const r=n[e.axis];let s=null===r?NaN:r;const o=i&&n._stacks[e.axis];i&&o&&(i.values=o,s=Li(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&t===n.iScale,s=i.length,o=this._getOtherScale(t),a=Yi(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=qi(o);let h,d;function f(){d=i[h];const e=d[o.axis];return!J(d[t.axis])||c>e||u<e}for(h=0;h<s;++h)if(!f()&&(this.updateRangeFromParsed(l,t,d,a),r))break;if(r)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,t,d,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i][t.axis],J(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,i=e.vScale,r=this.getParsed(t);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Pi(et(this.options.clip,Oi(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,i=n.data||[],r=e.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||i.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,r,o,a),c=o;c<o+a;++c){const e=i[c];e.hidden||(e.active&&l?s.push(e):e.draw(t,r))}for(c=0;c<s.length;++c)s[c].draw(t,r)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];r=e.$context||(e.$context=Hi(this.getContext(),t,e)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=$i(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=n,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const i="active"===e,r=this._cachedDataOpts,s=t+"-"+e,o=r[s],a=this.enableOptionSharing&&yt(n);if(o)return Gi(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),u=i?[`${t}Hover`,"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(Re.elements[t]),f=()=>this.getContext(n,i,e),p=l.resolveNamedOptions(h,d,f,u);return p.$shared&&(p.$shared=a,r[s]=Object.freeze(Gi(p,a))),p}_resolveAnimations(t,e,n){const i=this.chart,r=this._cachedDataOpts,s=`animation-${e}`,o=r[s];if(o)return o;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,e),s=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(s,this.getContext(t,n,e))}const l=new Ci(i,a&&a.animations);return a&&a._cacheable&&(r[s]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Ki(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),i=this._sharedOptions,r=this.getSharedOptions(n),s=this.includeOptions(e,r)||r!==i;return this.updateSharedOptions(r,e,n),{sharedOptions:r,includeOptions:s}}updateElement(t,e,n,i){Ki(i)?Object.assign(t,n):this._resolveAnimations(e,i).update(t,n)}updateSharedOptions(t,e,n){t&&!Ki(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,i){t.active=i;const r=this.getStyle(e,i);this._resolveAnimations(e,n,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const i=n.length,r=e.length,s=Math.min(r,i);s&&this.parse(0,s),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,e,n=!0){const i=this._cachedMeta,r=i.data,s=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=s;o--)t[o]=t[o-e]};for(a(r),o=t;o<s;++o)r[o]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(t,e),n&&this.updateElements(r,t,e,"reset")}updateElements(t,e,n,i){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,e);n._stacked&&Wi(n,i)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,i]=t;this[e](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Xi(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let e=0,r=n.length;e<r;e++)i=i.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=ne(i.sort(((t,e)=>t-e)))}return t._cache.$bar}function Zi(t){const e=t.iScale,n=Xi(e,t.type);let i,r,s,o,a=e._length;const l=()=>{32767!==s&&-32768!==s&&(yt(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(i=0,r=n.length;i<r;++i)s=e.getPixelForValue(n[i]),l();for(o=void 0,i=0,r=e.ticks.length;i<r;++i)s=e.getPixelForTick(i),l();return a}function Ji(t,e,n,i){const r=n.barThickness;let s,o;return Q(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function tr(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l,u=Math.abs(a-o)/2*l;return{chunk:u/i,ratio:n.barPercentage,start:c}}function er(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function nr(t,e,n,i){return X(t)?er(t,e,n,i):e[n.axis]=n.parse(t,i),e}function ir(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=e[c],h={},h[r.axis]=a||r.parse(o[c],c),l.push(nr(d,h,s,c));return l}function rr(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function sr(t,e,n){return 0!==t?Dt(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function or(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function ar(t,e,n,i){let r=e.borderSkipped;const s={};if(!r)return void(t.borderSkipped=s);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=or(t);"middle"===r&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[lr(u,o,a,l)]=!0,r=c)),s[lr(r,o,a,l)]=!0,t.borderSkipped=s}function lr(t,e,n,i){return i?(t=cr(t,e,n),t=ur(t,n,e)):t=ur(t,e,n),t}function cr(t,e,n){return t===e?n:t===n?e:t}function ur(t,e,n){return"start"===t?e:"end"===t?n:t}function hr(t,{inflateAmount:e},n){t.inflateAmount="auto"===e?1===n?.33:0:e}class dr extends Qi{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,n,i){return ir(t,e,n,i)}parseArrayData(t,e,n,i){return ir(t,e,n,i)}parseObjectData(t,e,n,i){const{iScale:r,vScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?o:a,c="x"===s.axis?o:a,u=[];let h,d,f,p;for(h=n,d=n+i;h<d;++h)p=e[h],f={},f[r.axis]=r.parse(mt(p,l),h),u.push(nr(mt(p,c),f,s,h));return u}updateRangeFromParsed(t,e,n,i){super.updateRangeFromParsed(t,e,n,i);const r=n._custom;r&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:i}=e,r=this.getParsed(t),s=r._custom,o=rr(s)?"["+s.start+", "+s.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,i){const r="reset"===i,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,i);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=r||Q(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(e._stacks||{})[o.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||rr(e._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,t[d].active?"active":i));const m=g.options||t[d].options;ar(g,m,p,s),hr(g,m,c.ratio),this.updateElement(t[d],d,g,i)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),r=n.options.stacked,s=[],o=t=>{const n=t.controller.getParsed(e),i=n&&n[t.vScale.axis];if(Q(i)||isNaN(i))return!0};for(const a of i)if((void 0===e||!o(a))&&((!1===r||-1===s.indexOf(a.stack)||void 0===r&&void 0===a.stack)&&s.push(a.stack),a.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const i=this._getStacks(t,n),r=void 0!==e?i.indexOf(e):-1;return-1===r?i.length-1:r}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,i=[];let r,s;for(r=0,s=e.data.length;r<s;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=t.barThickness,a=o||Zi(e);return{min:a,pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:i},options:{base:r,minBarLength:s}}=this,o=r||0,a=this.getParsed(t),l=a._custom,c=rr(l);let u,h,d=a[e.axis],f=0,p=n?this.applyStack(e,a,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&Dt(d)!==Dt(l.barEnd)&&(f=0),f+=d);const g=Q(r)||c?f:r;let m=e.getPixelForValue(g);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):m,h=u-m,Math.abs(h)<s){h=sr(h,e,o)*s,d===o&&(m-=h/2);const t=e.getPixelForDecimal(0),r=e.getPixelForDecimal(1),l=Math.min(t,r),f=Math.max(t,r);m=Math.max(Math.min(m,f),l),u=m+h,n&&!c&&(a._stacks[e.axis]._visualValues[i]=e.getValueForPixel(u)-e.getValueForPixel(m))}if(m===e.getPixelForValue(o)){const t=Dt(h)*e.getLineWidthForValue(o)/2;m+=t,h-=t}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,i=this.options,r=i.skipNull,s=et(i.maxBarThickness,1/0);let o,a;if(e.grouped){const n=r?this._getStackCount(t):e.stackCount,l="flex"===i.barThickness?tr(t,e,i,n):Ji(t,e,i,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);o=l.start+l.chunk*c+l.chunk/2,a=Math.min(s,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(s,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,i=n.length;let r=0;for(;r<i;++r)null!==this.getParsed(r)[e.axis]&&n[r].draw(this._ctx)}}class fr extends Qi{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,i){const r=super.parsePrimitiveData(t,e,n,i);for(let s=0;s<r.length;s++)r[s]._custom=this.resolveDataElementOptions(s+n).radius;return r}parseArrayData(t,e,n,i){const r=super.parseArrayData(t,e,n,i);for(let s=0;s<r.length;s++){const t=e[n+s];r[s]._custom=et(t[2],this.resolveDataElementOptions(s+n).radius)}return r}parseObjectData(t,e,n,i){const r=super.parseObjectData(t,e,n,i);for(let s=0;s<r.length;s++){const t=e[n+s];r[s]._custom=et(t&&t.r&&+t.r,this.resolveDataElementOptions(s+n).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,s=this.getParsed(t),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y),l=s._custom;return{label:n[t]||"",value:"("+o+", "+a+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(e,i),c=s.axis,u=o.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!r&&this.getParsed(h),d={},f=d[c]=r?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),p=d[u]=r?o.getBasePixel():o.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=a||this.resolveDataElementOptions(h,e.active?"active":i),r&&(d.options.radius=0)),this.updateElement(e,h,d,i)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,e);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==e&&(i.radius=0),i.radius+=et(n&&n._custom,r),i}}function pr(t,e,n){let i=1,r=1,s=0,o=0;if(e<St){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(t,e,i)=>Ht(t,a,l,!0)?1:Math.max(e,e*n,i,i*n),p=(t,e,i)=>Ht(t,a,l,!0)?-1:Math.min(e,e*n,i,i*n),g=f(0,c,h),m=f(Tt,u,d),v=p(xt,c,h),y=p(xt+Tt,u,d);i=(g-v)/2,r=(m-y)/2,s=-(g+v)/2,o=-(m+y)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class gr extends Qi{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map(((e,r)=>{const s=t.getDatasetMeta(0),o=s.controller.getStyle(r);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:i,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,s,o=t=>+n[t];if(Z(n[t])){const{key:t="value"}=this._parsing;o=e=>+mt(n[e],t)}for(r=t,s=t+e;r<s;++r)i._parsed[r]=o(r)}}_getRotation(){return Vt(this.options.rotation-90)}_getCircumference(){return Vt(this.options.circumference)}_getRotationExtents(){let t=St,e=-St;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),s=i._getCircumference();t=Math.min(t,r),e=Math.max(e,r+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,i=this._cachedMeta,r=i.data,s=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min(nt(this.options.cutout,o),1),l=this._getRingWeight(this.index),{circumference:c,rotation:u}=this._getRotationExtents(),{ratioX:h,ratioY:d,offsetX:f,offsetY:p}=pr(u,c,a),g=(n.width-s)/h,m=(n.height-s)/d,v=Math.max(Math.min(g,m)/2,0),y=it(this.options.radius,v),b=Math.max(y*a,0),w=(y-b)/this._getVisibleDatasetWeightTotal();this.offsetX=f*y,this.offsetY=p*y,i.total=this.calculateTotal(),this.outerRadius=y-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*l,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===i._parsed[t]||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*r/St)}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,o=s.chartArea,a=s.options,l=a.animation,c=(o.left+o.right)/2,u=(o.top+o.bottom)/2,h=r&&l.animateScale,d=h?0:this.innerRadius,f=h?0:this.outerRadius,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(e,i);let m,v=this._getRotation();for(m=0;m<e;++m)v+=this._circumference(m,r);for(m=e;m<e+n;++m){const e=this._circumference(m,r),n=t[m],s={x:c+this.offsetX,y:u+this.offsetY,startAngle:v,endAngle:v+e,circumference:e,outerRadius:f,innerRadius:d};g&&(s.options=p||this.resolveDataElementOptions(m,n.active?"active":i)),v+=e,this.updateElement(n,m,s,i)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,i=0;for(n=0;n<e.length;n++){const r=t._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||e[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?St*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=ke(e._parsed[t],n.options.locale);return{label:i[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const n=this.chart;let i,r,s,o,a;if(!t)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){s=n.getDatasetMeta(i),t=s.data,o=s.controller;break}if(!t)return 0;for(i=0,r=t.length;i<r;++i)a=o.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,i=t.length;n<i;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(et(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class mr extends Qi{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=e,s=this.chart._animationsDisabled;let{start:o,count:a}=ce(e,i,s);this._drawStart=o,this._drawCount=a,ue(e)&&(o=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},t),this.updateElements(i,o,a,t)}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(e,i),h=s.axis,d=o.axis,{spanGaps:f,segment:p}=this.options,g=Lt(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||r||"none"===i,v=e+n,y=t.length;let b=e>0&&this.getParsed(e-1);for(let w=0;w<y;++w){const n=t[w],f=m?n:{};if(w<e||w>=v){f.skip=!0;continue}const y=this.getParsed(w),_=Q(y[d]),x=f[h]=s.getPixelForValue(y[h],w),S=f[d]=r||_?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,y,a):y[d],w);f.skip=isNaN(x)||isNaN(S)||_,f.stop=w>0&&Math.abs(y[h]-b[h])>g,p&&(f.parsed=y,f.raw=l.data[w]),u&&(f.options=c||this.resolveDataElementOptions(w,n.active?"active":i)),m||this.updateElement(n,w,f,i),b=y}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),s=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class vr extends Qi{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return e.labels.map(((e,r)=>{const s=t.getDatasetMeta(0),o=s.controller.getStyle(r);return{text:e,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:i,lineWidth:o.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=ke(e._parsed[t].r,n.options.locale);return{label:i[t]||"",value:r}}parseObjectData(t,e,n,i){return Mn.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<e.min&&(e.min=i),i>e.max&&(e.max=i))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,i=Math.min(e.right-e.left,e.bottom-e.top),r=Math.max(i/2,0),s=Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0),o=(r-s)/t.getVisibleDatasetCount();this.outerRadius=r-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,n,i){const r="reset"===i,s=this.chart,o=s.options,a=o.animation,l=this._cachedMeta.rScale,c=l.xCenter,u=l.yCenter,h=l.getIndexAngle(0)-.5*xt;let d,f=h;const p=360/this.countVisibleElements();for(d=0;d<e;++d)f+=this._computeAngle(d,i,p);for(d=e;d<e+n;d++){const e=t[d];let n=f,o=f+this._computeAngle(d,i,p),g=s.getDataVisibility(d)?l.getDistanceFromCenterForValue(this.getParsed(d).r):0;f=o,r&&(a.animateScale&&(g=0),a.animateRotate&&(n=o=h));const m={x:c,y:u,innerRadius:0,outerRadius:g,startAngle:n,endAngle:o,options:this.resolveDataElementOptions(d,e.active?"active":i)};this.updateElement(e,d,m,i)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?Vt(this.resolveDataElementOptions(t,e).angle||n):0}}class yr extends gr{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class br extends Qi{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,i){return Mn.bind(this)(t,e,n,i)}update(t){const e=this._cachedMeta,n=e.dataset,i=e.data||[],r=e.iScale.getLabels();if(n.points=i,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const s={_loop:!0,_fullLoop:r.length===i.length,options:e};this.updateElement(n,void 0,s,t)}this.updateElements(i,0,i.length,t)}updateElements(t,e,n,i){const r=this._cachedMeta.rScale,s="reset"===i;for(let o=e;o<e+n;o++){const e=t[o],n=this.resolveDataElementOptions(o,e.active?"active":i),a=r.getPointPositionForValue(o,this.getParsed(o).r),l=s?r.xCenter:a.x,c=s?r.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(e,o,u,i)}}}class wr extends Qi{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:r}=e,s=this.getParsed(t),o=i.getLabelForValue(s.x),a=r.getLabelForValue(s.y);return{label:n[t]||"",value:"("+o+", "+a+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,i=this.chart._animationsDisabled;let{start:r,count:s}=ce(e,n,i);if(this._drawStart=r,this._drawCount=s,ue(e)&&(r=0,s=n.length),this.options.showLine){const{dataset:r,_dataset:s}=e;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=n;const o=this.resolveDatasetElementOptions(t);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:o},t)}this.updateElements(n,r,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,i){const r="reset"===i,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(e,i),u=this.getSharedOptions(c),h=this.includeOptions(i,u),d=s.axis,f=o.axis,{spanGaps:p,segment:g}=this.options,m=Lt(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||"none"===i;let y=e>0&&this.getParsed(e-1);for(let b=e;b<e+n;++b){const e=t[b],n=this.getParsed(b),c=v?e:{},p=Q(n[f]),w=c[d]=s.getPixelForValue(n[d],b),_=c[f]=r||p?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[f],b);c.skip=isNaN(w)||isNaN(_)||p,c.stop=b>0&&Math.abs(n[d]-y[d])>m,g&&(c.parsed=n,c.raw=l.data[b]),h&&(c.options=u||this.resolveDataElementOptions(b,e.active?"active":i)),v||this.updateElement(e,b,c,i),y=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!e.length)return i;const r=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(i,r,s)/2}}var _r=Object.freeze({__proto__:null,BarController:dr,BubbleController:fr,DoughnutController:gr,LineController:mr,PolarAreaController:vr,PieController:yr,RadarController:br,ScatterController:wr});function xr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Sr{static override(t){Object.assign(Sr.prototype,t)}constructor(t){this.options=t||{}}init(){}formats(){return xr()}parse(){return xr()}format(){return xr()}add(){return xr()}diff(){return xr()}startOf(){return xr()}endOf(){return xr()}}var kr={_date:Sr};function Ir(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const t=a._reversePixels?Xt:Qt;if(!i)return t(s,e,n);if(r._sharedOptions){const i=s[0],r="function"===typeof i.getRange&&i.getRange(e);if(r){const i=t(s,e,n-r),o=t(s,e,n+r);return{lo:i.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function Er(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:t,data:n}=s[a],{lo:l,hi:c}=Ir(s[a],e,o,r);for(let e=l;e<=c;++e){const r=n[e];r.skip||i(r,t,e)}}}function Tr(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){const r=e?Math.abs(t.x-i.x):0,s=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(s,2))}}function Cr(t,e,n,i,r){const s=[];if(!r&&!t.isPointInArea(e))return s;const o=function(n,o,a){(r||ze(n,t.chartArea,0))&&n.inRange(e.x,e.y,i)&&s.push({element:n,datasetIndex:o,index:a})};return Er(t,n,e,o,!0),s}function Ar(t,e,n,i){let r=[];function s(t,n,s){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],i),{angle:l}=jt(t,{x:e.x,y:e.y});Ht(l,o,a)&&r.push({element:t,datasetIndex:n,index:s})}return Er(t,n,e,s),r}function Mr(t,e,n,i,r,s){let o=[];const a=Tr(n);let l=Number.POSITIVE_INFINITY;function c(n,c,u){const h=n.inRange(e.x,e.y,r);if(i&&!h)return;const d=n.getCenterPoint(r),f=!!s||t.isPointInArea(d);if(!f&&!h)return;const p=a(e,d);p<l?(o=[{element:n,datasetIndex:c,index:u}],l=p):p===l&&o.push({element:n,datasetIndex:c,index:u})}return Er(t,n,e,c),o}function Dr(t,e,n,i,r,s){return s||t.isPointInArea(e)?"r"!==n||i?Mr(t,e,n,i,r,s):Ar(t,e,n,r):[]}function Or(t,e,n,i,r){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return Er(t,n,e,((t,i,l)=>{t[o](e[n],r)&&(s.push({element:t,datasetIndex:i,index:l}),a=a||t.inRange(e.x,e.y,r))})),i&&!a?[]:s}var Pr={evaluateInteractionItems:Er,modes:{index(t,e,n,i){const r=Qn(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Cr(t,r,s,i,o):Dr(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,i){const r=Qn(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Cr(t,r,s,i,o):Dr(t,r,s,!1,i,o);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point(t,e,n,i){const r=Qn(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Cr(t,r,s,i,o)},nearest(t,e,n,i){const r=Qn(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Dr(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=Qn(e,t);return Or(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=Qn(e,t);return Or(t,r,"y",n.intersect,i)}}};const Rr=["left","top","right","bottom"];function Lr(t,e){return t.filter((t=>t.pos===e))}function Nr(t,e){return t.filter((t=>-1===Rr.indexOf(t.pos)&&t.box.axis===e))}function Fr(t,e){return t.sort(((t,n)=>{const i=e?n:t,r=e?t:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function Vr(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],({position:s,options:{stack:o,stackWeight:a=1}}=r),e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function qr(t){const e={};for(const n of t){const{stack:t,pos:i,stackWeight:r}=n;if(!t||!Rr.includes(i))continue;const s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=r}return e}function Br(t,e){const n=qr(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:o&&e.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:o&&e.availableHeight)}return n}function jr(t){const e=Vr(t),n=Fr(e.filter((t=>t.box.fullSize)),!0),i=Fr(Lr(e,"left"),!0),r=Fr(Lr(e,"right")),s=Fr(Lr(e,"top"),!0),o=Fr(Lr(e,"bottom")),a=Nr(e,"x"),l=Nr(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Lr(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function zr(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function Ur(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function $r(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!Z(r)){n.size&&(t[r]-=n.size);const e=i[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?s.height:s.width),n.size=e.size/e.count,t[r]+=n.size}s.getPadding&&Ur(o,s.getPadding());const a=Math.max(0,e.outerWidth-zr(o,t,"left","right")),l=Math.max(0,e.outerHeight-zr(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Hr(t){const e=t.maxPadding;function n(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Wr(t,e){const n=e.maxPadding;function i(t){const i={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{i[t]=Math.max(e[t],n[t])})),i}return i(t?["left","right"]:["top","bottom"])}function Kr(t,e,n,i){const r=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Wr(a.horizontal,e));const{same:o,other:h}=$r(e,n,a,i);c|=o&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&Kr(r,e,n,i)||u}function Gr(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function Yr(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const t=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=e.w*c,s=l.size||t.height;yt(l.start)&&(o=l.start),t.fullSize?Gr(t,r.left,o,n.outerWidth-r.right-r.left,s):Gr(t,e.left+l.placed,o,i,s),l.start=o,l.placed+=i,o=t.bottom}else{const i=e.h*c,o=l.size||t.width;yt(l.start)&&(s=l.start),t.fullSize?Gr(t,s,r.top,o,n.outerHeight-r.bottom-r.top):Gr(t,s,e.top+l.placed,o,i),l.start=s,l.placed+=i,s=t.right}}e.x=s,e.y=o}var Qr={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=on(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=jr(t.boxes),l=a.vertical,c=a.horizontal;st(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const u=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},r);Ur(d,on(i));const f=Object.assign({maxPadding:d,w:s,h:o,x:r.left,y:r.top},r),p=Br(l.concat(c),h);Kr(a.fullSize,f,h,p),Kr(l,f,h,p),Kr(c,f,h,p)&&Kr(l,f,h,p),Hr(f),Yr(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,Yr(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},st(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class Xr{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,i){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,i?Math.floor(e/i):n)}}isAttached(t){return!0}updateConfig(t){}}class Zr extends Xr{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Jr="$chartjs",ts={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},es=t=>null===t||""===t;function ns(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Jr]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",es(r)){const e=ni(t,"width");void 0!==e&&(t.width=e)}if(es(i))if(""===t.style.height)t.height=t.width/(e||2);else{const e=ni(t,"height");void 0!==e&&(t.height=e)}return t}const is=!!ei&&{passive:!0};function rs(t,e,n){t.addEventListener(e,n,is)}function ss(t,e,n){t.canvas.removeEventListener(e,n,is)}function os(t,e){const n=ts[t.type]||t.type,{x:i,y:r}=Qn(t,e);return{type:n,chart:e,native:t,x:void 0!==i?i:null,y:void 0!==r?r:null}}function as(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function ls(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||as(n.addedNodes,i),e=e&&!as(n.removedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function cs(t,e,n){const i=t.canvas,r=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||as(n.removedNodes,i),e=e&&!as(n.addedNodes,i);e&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const us=new Map;let hs=0;function ds(){const t=window.devicePixelRatio;t!==hs&&(hs=t,us.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function fs(t,e){us.size||window.addEventListener("resize",ds),us.set(t,e)}function ps(t){us.delete(t),us.size||window.removeEventListener("resize",ds)}function gs(t,e,n){const i=t.canvas,r=i&&zn(i);if(!r)return;const s=re(((t,e)=>{const i=r.clientWidth;n(t,e),i<r.clientWidth&&n()}),window),o=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,i=e.contentRect.height;0===n&&0===i||s(n,i)}));return o.observe(r),fs(t,s),o}function ms(t,e,n){n&&n.disconnect(),"resize"===e&&ps(t)}function vs(t,e,n){const i=t.canvas,r=re((e=>{null!==t.ctx&&n(os(e,t))}),t);return rs(i,e,r),r}class ys extends Xr{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(ns(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[Jr])return!1;const n=e[Jr].initial;["height","width"].forEach((t=>{const i=n[t];Q(i)?e.removeAttribute(t):e.setAttribute(t,i)}));const i=n.style||{};return Object.keys(i).forEach((t=>{e.style[t]=i[t]})),e.width=e.width,delete e[Jr],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const i=t.$proxies||(t.$proxies={}),r={attach:ls,detach:cs,resize:gs},s=r[e]||vs;i[e]=s(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),i=n[e];if(!i)return;const r={attach:ms,detach:ms,resize:ms},s=r[e]||ss;s(t,e,i),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,i){return Jn(t,e,n,i)}isAttached(t){const e=zn(t);return!(!e||!e.isConnected)}}function bs(t){return!jn()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?Zr:ys}class ws{static defaults={};static defaultRoutes=void 0;active=!1;tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Lt(this.x)&&Lt(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const i={};return t.forEach((t=>{i[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),i}}function _s(t,e){const n=t.options.ticks,i=xs(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?ks(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return Is(e,c,s,o/r),c;const u=Ss(s,e,r);if(o>0){let t,n;const i=o>1?Math.round((l-a)/(o-1)):null;for(Es(e,c,u,Q(i)?0:a-i,a),t=0,n=o-1;t<n;t++)Es(e,c,u,s[t],s[t+1]);return Es(e,c,u,l,Q(i)?e.length:l+i),c}return Es(e,c,u),c}function xs(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function Ss(t,e,n){const i=Ts(t),r=e.length/n;if(!i)return Math.max(r,1);const s=Rt(i);for(let o=0,a=s.length-1;o<a;o++){const t=s[o];if(t>r)return t}return Math.max(r,1)}function ks(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function Is(t,e,n,i){let r,s=0,o=n[0];for(i=Math.ceil(i),r=0;r<t.length;r++)r===o&&(e.push(t[r]),s++,o=n[s*i])}function Es(t,e,n,i,r){const s=et(i,0),o=Math.min(et(r,t.length),t.length);let a,l,c,u=0;n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=s;while(c<0)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<o;l++)l===c&&(e.push(t[l]),u++,c=Math.round(s+u*n))}function Ts(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const Cs=t=>"left"===t?"right":"right"===t?"left":t,As=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n;function Ms(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function Ds(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l,c=t.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-s,o-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<s-a||c>o+a)))return c}function Os(t,e){st(t,(t=>{const n=t.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete t.data[n[r]];n.splice(0,i)}}))}function Ps(t){return t.drawTicks?t.tickLength:0}function Rs(t,e){if(!t.display)return 0;const n=an(t.font,e),i=on(t.padding),r=X(t.text)?t.text.length:1;return r*n.lineHeight+i.height}function Ls(t,e){return un(t,{scale:e,type:"scale"})}function Ns(t,e,n){return un(t,{tick:n,index:e,type:"tick"})}function Fs(t,e,n){let i=oe(t);return(n&&"right"!==e||!n&&"right"===e)&&(i=Cs(i)),i}function Vs(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h,d,f,p=0;const g=o-r,m=a-s;if(t.isHorizontal()){if(d=ae(i,s,a),Z(n)){const t=Object.keys(n)[0],i=n[t];f=u[t].getPixelForValue(i)+g-e}else f="center"===n?(c.bottom+c.top)/2+g-e:As(t,n,e);h=a-s}else{if(Z(n)){const t=Object.keys(n)[0],i=n[t];d=u[t].getPixelForValue(i)-m+e}else d="center"===n?(c.left+c.right)/2-m+e:As(t,n,e);f=ae(i,o,r),p="left"===n?-Tt:Tt}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}class qs extends ws{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:i}=this;return t=tt(t,Number.POSITIVE_INFINITY),e=tt(e,Number.NEGATIVE_INFINITY),n=tt(n,Number.POSITIVE_INFINITY),i=tt(i,Number.NEGATIVE_INFINITY),{min:tt(t,n),max:tt(e,i),minDefined:J(t),maxDefined:J(e)}}getMinMax(t){let e,{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:n,max:i};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)e=o[a].controller.getMinMax(this,t),r||(n=Math.min(n,e.min)),s||(i=Math.max(i,e.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:tt(n,tt(i,n)),max:tt(i,tt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){const e=this._labelItems||(this._labelItems=this._computeLabelItems(t));return e}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){rt(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:i,grace:r,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=cn(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?Ms(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=_s(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){rt(this.options.afterUpdate,[this])}beforeSetDimensions(){rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){rt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),rt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n],r.label=rt(e.callback,[r.value,n,t],this)}afterTickToLabelConversion(){rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=this.ticks.length,i=e.minRotation||0,r=e.maxRotation;let s,o,a,l=i;if(!this._isVisible()||!e.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=Wt(this.chart.width-u,0,this.maxWidth);s=t.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(t.offset?.5:1)),o=this.maxHeight-Ps(t.grid)-e.padding-Rs(t.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=qt(Math.min(Math.asin(Wt((c.highest.height+6)/s,-1,1)),Math.asin(Wt(o/a,-1,1))-Math.asin(Wt(h/a,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){rt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:i,grid:r}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=Rs(i,e.options.font);if(o?(t.width=this.maxWidth,t.height=Ps(r)+s):(t.height=this.maxHeight,t.width=Ps(r)+s),n.display&&this.ticks.length){const{first:e,last:i,widest:r,highest:s}=this._getLabelSizes(),a=2*n.padding,l=Vt(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const e=n.mirror?0:u*r.width+c*s.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:c*r.width+u*s.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,i,u,c)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,i){const{ticks:{align:r,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=i*t.width,h=n*e.height):(u=n*t.height,h=i*e.width):"start"===r?h=e.width:"end"===r?u=t.width:"inner"!==r&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=e.height/2,i=t.height/2;"start"===r?(n=0,i=t.height):"end"===r&&(n=e.height,i=0),this.paddingTop=n+s,this.paddingBottom=i+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){rt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)Q(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Ms(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length)}return t}_computeLabelSizes(t,e){const{ctx:n,_longestTextCache:i}=this,r=[],s=[];let o,a,l,c,u,h,d,f,p,g,m,v=0,y=0;for(o=0;o<e;++o){if(c=t[o].label,u=this._resolveTickFontOptions(o),n.font=h=u.string,d=i[h]=i[h]||{data:{},gc:[]},f=u.lineHeight,p=g=0,Q(c)||X(c)){if(X(c))for(a=0,l=c.length;a<l;++a)m=c[a],Q(m)||X(m)||(p=Ne(n,d.data,d.gc,p,m),g+=f)}else p=Ne(n,d.data,d.gc,p,c),g=f;r.push(p),s.push(g),v=Math.max(p,v),y=Math.max(g,y)}Os(i,e);const b=r.indexOf(v),w=s.indexOf(y),_=t=>({width:r[t]||0,height:s[t]||0});return{first:_(0),last:_(e-1),widest:_(b),highest:_(w),widths:r,heights:s}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Kt(this._alignToPixels?Ve(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=Ns(this.getContext(),t,n))}return this.$context||(this.$context=Ls(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Vt(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),r=this._getLabelSizes(),s=t.autoSkipPadding||0,o=r?r.widest.width+s:0,a=r?r.highest.height+s:0;return this.isHorizontal()?a*n>o*i?o/n:a/i:a*i<o*n?a/n:o/i}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,i=this.options,{grid:r,position:s,border:o}=i,a=r.offset,l=this.isHorizontal(),c=this.ticks,u=c.length+(a?1:0),h=Ps(r),d=[],f=o.setContext(this.getContext()),p=f.display?f.width:0,g=p/2,m=function(t){return Ve(n,t,p)};let v,y,b,w,_,x,S,k,I,E,T,C;if("top"===s)v=m(this.bottom),x=this.bottom-h,k=v-g,E=m(t.top)+g,C=t.bottom;else if("bottom"===s)v=m(this.top),E=t.top,C=m(t.bottom)-g,x=v+g,k=this.top+h;else if("left"===s)v=m(this.right),_=this.right-h,S=v-g,I=m(t.left)+g,T=t.right;else if("right"===s)v=m(this.left),I=t.left,T=m(t.right)-g,_=v+g,S=this.left+h;else if("x"===e){if("center"===s)v=m((t.top+t.bottom)/2+.5);else if(Z(s)){const t=Object.keys(s)[0],e=s[t];v=m(this.chart.scales[t].getPixelForValue(e))}E=t.top,C=t.bottom,x=v+g,k=x+h}else if("y"===e){if("center"===s)v=m((t.left+t.right)/2);else if(Z(s)){const t=Object.keys(s)[0],e=s[t];v=m(this.chart.scales[t].getPixelForValue(e))}_=v-g,S=_-h,I=t.left,T=t.right}const A=et(i.ticks.maxTicksLimit,u),M=Math.max(1,Math.ceil(u/A));for(y=0;y<u;y+=M){const t=this.getContext(y),e=r.setContext(t),i=o.setContext(t),s=e.lineWidth,c=e.color,u=i.dash||[],h=i.dashOffset,f=e.tickWidth,p=e.tickColor,g=e.tickBorderDash||[],m=e.tickBorderDashOffset;b=Ds(this,y,a),void 0!==b&&(w=Ve(n,b,s),l?_=S=I=T=w:x=k=E=C=w,d.push({tx1:_,ty1:x,tx2:S,ty2:k,x1:I,y1:E,x2:T,y2:C,width:s,color:c,borderDash:u,borderDashOffset:h,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=u,this._borderValue=v,d}_computeLabelItems(t){const e=this.axis,n=this.options,{position:i,ticks:r}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=r,h=Ps(n.grid),d=h+c,f=u?-c:d,p=-Vt(this.labelRotation),g=[];let m,v,y,b,w,_,x,S,k,I,E,T,C="middle";if("top"===i)_=this.bottom-f,x=this._getXAxisLabelAlignment();else if("bottom"===i)_=this.top+f,x=this._getXAxisLabelAlignment();else if("left"===i){const t=this._getYAxisLabelAlignment(h);x=t.textAlign,w=t.x}else if("right"===i){const t=this._getYAxisLabelAlignment(h);x=t.textAlign,w=t.x}else if("x"===e){if("center"===i)_=(t.top+t.bottom)/2+d;else if(Z(i)){const t=Object.keys(i)[0],e=i[t];_=this.chart.scales[t].getPixelForValue(e)+d}x=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===i)w=(t.left+t.right)/2-d;else if(Z(i)){const t=Object.keys(i)[0],e=i[t];w=this.chart.scales[t].getPixelForValue(e)}x=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===a?C="top":"end"===a&&(C="bottom"));const A=this._getLabelSizes();for(m=0,v=o.length;m<v;++m){y=o[m],b=y.label;const t=r.setContext(this.getContext(m));S=this.getPixelForTick(m)+r.labelOffset,k=this._resolveTickFontOptions(m),I=k.lineHeight,E=X(b)?b.length:1;const e=E/2,n=t.color,a=t.textStrokeColor,c=t.textStrokeWidth;let h,d=x;if(s?(w=S,"inner"===x&&(d=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),T="top"===i?"near"===l||0!==p?-E*I+I/2:"center"===l?-A.highest.height/2-e*I+I:-A.highest.height+I/2:"near"===l||0!==p?I/2:"center"===l?A.highest.height/2-e*I:A.highest.height-E*I,u&&(T*=-1),0===p||t.showLabelBackdrop||(w+=I/2*Math.sin(p))):(_=S,T=(1-E)*I/2),t.showLabelBackdrop){const e=on(t.backdropPadding),n=A.heights[m],i=A.widths[m];let r=T-e.top,s=0-e.left;switch(C){case"middle":r-=n/2;break;case"bottom":r-=n;break}switch(x){case"center":s-=i/2;break;case"right":s-=i;break}h={left:s,top:r,width:i+e.width,height:n+e.height,color:t.backdropColor}}g.push({label:b,font:k,textOffset:T,options:{rotation:p,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:C,translation:[w,_],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options,n=-Vt(this.labelRotation);if(n)return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,s=this._getLabelSizes(),o=t+r,a=s.widest.width;let l,c;return"left"===e?i?(c=this.right+r,"near"===n?l="left":"center"===n?(l="center",c+=a/2):(l="right",c+=a)):(c=this.right-o,"near"===n?l="right":"center"===n?(l="center",c-=a/2):(l="left",c=this.left)):"right"===e?i?(c=this.left+r,"near"===n?l="right":"center"===n?(l="center",c-=a/2):(l="left",c-=a)):(c=this.left+o,"near"===n?l="left":"center"===n?(l="center",c+=a/2):(l="right",c=this.right)):l="right",{textAlign:l,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:i,width:r,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,i,r,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks,i=n.findIndex((e=>e.value===t));if(i>=0){const t=e.setContext(this.getContext(i));return t.lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,s;const o=(t,e,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(r=0,s=i.length;r<s;++r){const t=i[r];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),s=n.display?r.width:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=Ve(t,this.left,s)-s/2,c=Ve(t,this.right,o)+o/2,u=h=a):(u=Ve(t,this.top,s)-s/2,h=Ve(t,this.bottom,o)+o/2,l=c=a),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){const e=this.options.ticks;if(!e.display)return;const n=this.ctx,i=this._computeLabelArea();i&&Ue(n,i);const r=this.getLabelItems(t);for(const s of r){const t=s.options,e=s.font,i=s.label,r=s.textOffset;Ke(n,i,0,r,e,t)}i&&$e(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:i}}=this;if(!n.display)return;const r=an(n.font),s=on(n.padding),o=n.align;let a=r.lineHeight/2;"bottom"===e||"center"===e||Z(e)?(a+=s.bottom,X(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=Vs(this,a,e,o);Ke(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:h,textAlign:Fs(o,e,i),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=et(t.grid&&t.grid.z,-1),i=et(t.border&&t.border.z,0);return this._isVisible()&&this.draw===qs.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,s;for(r=0,s=e.length;r<s;++r){const s=e[r];s[n]!==this.id||t&&s.type!==t||i.push(s)}return i}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return an(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Bs{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;Us(e)&&(n=this.register(e));const i=this.items,r=t.id,s=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,js(t,s,n),this.override&&Re.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,i=this.scope;n in e&&delete e[n],i&&n in Re[i]&&(delete Re[i][n],this.override&&delete Ae[n])}}function js(t,e,n){const i=ut(Object.create(null),[n?Re.get(n):{},Re.get(e),t.defaults]);Re.set(e,i),t.defaultRoutes&&zs(e,t.defaultRoutes),t.descriptors&&Re.describe(e,t.descriptors)}function zs(t,e){Object.keys(e).forEach((n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Re.route(s,r,l,a)}))}function Us(t){return"id"in t&&"defaults"in t}class $s{constructor(){this.controllers=new Bs(Qi,"datasets",!0),this.elements=new Bs(ws,"elements"),this.plugins=new Bs(Object,"plugins"),this.scales=new Bs(qs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach((e=>{const i=n||this._getRegistryForType(e);n||i.isForType(e)||i===this.plugins&&e.id?this._exec(t,i,e):st(e,(e=>{const i=n||this._getRegistryForType(e);this._exec(t,i,e)}))}))}_exec(t,e,n){const i=vt(t);rt(n["before"+i],[],n),e[t](n),rt(n["after"+i],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const i=e.get(t);if(void 0===i)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var Hs=new $s;class Ws{constructor(){this._init=[]}notify(t,e,n,i){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),s=this._notify(r,t,e,n);return"afterDestroy"===e&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,i){i=i||{};for(const r of t){const t=r.plugin,s=t[n],o=[e,i,r.options];if(!1===rt(s,o,t)&&i.cancelable)return!1}return!0}invalidate(){Q(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,i=et(n.options&&n.options.plugins,{}),r=Ks(n);return!1!==i||e?Ys(t,r,i,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,i=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(i(e,n),t,"stop"),this._notify(i(n,e),t,"start")}}function Ks(t){const e={},n=[],i=Object.keys(Hs.plugins.items);for(let s=0;s<i.length;s++)n.push(Hs.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const t=r[s];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}function Gs(t,e){return e||!1!==t?!0===t?{}:t:null}function Ys(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const e=a.id,l=Gs(i[e],r);null!==l&&s.push({plugin:a,options:Qs(t.config,{plugin:a,local:n[e]},l,o)})}return s}function Qs(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Xs(t,e){const n=Re.datasets[t]||{},i=(e.datasets||{})[t]||{};return i.indexAxis||e.indexAxis||n.indexAxis||"x"}function Zs(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}function Js(t,e){return t===e?"_index_":"_value_"}function to(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}function eo(t,e){if("x"===t||"y"===t||"r"===t)return t;if(t=e.axis||to(e.position)||t.length>1&&eo(t[0].toLowerCase(),e),t)return t;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function no(t,e){const n=Ae[t.type]||{scales:{}},i=e.scales||{},r=Xs(t.type,e),s=Object.create(null);return Object.keys(i).forEach((t=>{const e=i[t];if(!Z(e))return console.error(`Invalid scale configuration for scale: ${t}`);if(e._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const o=eo(t,e),a=Js(o,r),l=n.scales||{};s[t]=ht(Object.create(null),[{axis:o},e,l[o],l[a]])})),t.data.datasets.forEach((n=>{const r=n.type||t.type,o=n.indexAxis||Xs(r,e),a=Ae[r]||{},l=a.scales||{};Object.keys(l).forEach((t=>{const e=Zs(t,o),r=n[e+"AxisID"]||e;s[r]=s[r]||Object.create(null),ht(s[r],[{axis:e},i[r],l[t]])}))})),Object.keys(s).forEach((t=>{const e=s[t];ht(e,[Re.scales[e.type],Re.scale])})),s}function io(t){const e=t.options||(t.options={});e.plugins=et(e.plugins,{}),e.scales=no(t,e)}function ro(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function so(t){return t=t||{},t.data=ro(t.data),io(t),t}const oo=new Map,ao=new Set;function lo(t,e){let n=oo.get(t);return n||(n=e(),oo.set(t,n),ao.add(n)),n}const co=(t,e,n)=>{const i=mt(e,n);void 0!==i&&t.add(i)};class uo{constructor(t){this._config=so(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ro(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),io(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return lo(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return lo(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return lo(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return lo(`${n}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let i=n.get(t);return i&&!e||(i=new Map,n.set(t,i)),i}getOptionScopes(t,e,n){const{options:i,type:r}=this,s=this._cachedScopes(t,n),o=s.get(e);if(o)return o;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>co(a,t,e)))),e.forEach((t=>co(a,i,t))),e.forEach((t=>co(a,Ae[r]||{},t))),e.forEach((t=>co(a,Re,t))),e.forEach((t=>co(a,Me,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),ao.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ae[e]||{},Re.datasets[e]||{},{type:e},Re,Me]}resolveNamedOptions(t,e,n,i=[""]){const r={$shared:!0},{resolver:s,subPrefixes:o}=ho(this._resolverCache,t,i);let a=s;if(po(s,e)){r.$shared=!1,n=bt(n)?n():n;const e=this.createResolver(t,n,o);a=dn(s,n,e)}for(const l of e)r[l]=a[l];return r}createResolver(t,e,n=[""],i){const{resolver:r}=ho(this._resolverCache,t,n);return Z(e)?dn(r,e,void 0,i):r}}function ho(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);if(!s){const t=hn(e,n);s={resolver:t,subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},i.set(r,s)}return s}const fo=t=>Z(t)&&Object.getOwnPropertyNames(t).reduce(((e,n)=>e||bt(t[n])),!1);function po(t,e){const{isScriptable:n,isIndexable:i}=fn(t);for(const r of e){const e=n(r),s=i(r),o=(s||e)&&t[r];if(e&&(bt(o)||fo(o))||s&&X(o))return!0}return!1}var go="4.1.0";const mo=["top","bottom","left","right","chartArea"];function vo(t,e){return"top"===t||"bottom"===t||-1===mo.indexOf(t)&&"x"===e}function yo(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function bo(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),rt(n&&n.onComplete,[t],e)}function wo(t){const e=t.chart,n=e.options.animation;rt(n&&n.onProgress,[t],e)}function _o(t){return jn()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const xo={},So=t=>{const e=_o(t);return Object.values(xo).filter((t=>t.canvas===e)).pop()};function ko(t,e,n){const i=Object.keys(t);for(const r of i){const i=+r;if(i>=e){const s=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=s)}}}function Io(t,e,n,i){return n&&"mouseout"!==t.type?i?e:t:null}function Eo(t){const{xScale:e,yScale:n}=t;if(e&&n)return{left:e.left,right:e.right,top:n.top,bottom:n.bottom}}class To{static defaults=Re;static instances=xo;static overrides=Ae;static registry=Hs;static version=go;static getChart=So;static register(...t){Hs.add(...t),Co()}static unregister(...t){Hs.remove(...t),Co()}constructor(t,e){const n=this.config=new uo(e),i=_o(t),r=So(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||bs(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=Y(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ws,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=se((t=>this.update(t)),s.resizeDelay||0),this._dataChanges=[],xo[this.id]=this,o&&a?(ki.listen(this,"complete",bo),ki.listen(this,"progress",wo),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:i,_aspectRatio:r}=this;return Q(t)?e&&r?r:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Hs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ti(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return qe(this.canvas,this.ctx),this}stop(){return ki.stop(this),this}resize(t,e){ki.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(i,t,e,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,ti(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),rt(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const t=this.options,e=t.scales||{};st(e,((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,i=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let r=[];e&&(r=r.concat(Object.keys(e).map((t=>{const n=e[t],i=eo(t,n),r="r"===i,s="x"===i;return{options:n,dposition:r?"chartArea":s?"bottom":"left",dtype:r?"radialLinear":s?"category":"linear"}})))),st(r,(e=>{const r=e.options,s=r.id,o=eo(s,r),a=et(r.type,e.dtype);void 0!==r.position&&vo(r.position,o)===vo(e.dposition)||(r.position=e.dposition),i[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{const t=Hs.getScale(a);l=new t({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(r,t)})),st(i,((t,e)=>{t||delete n[e]})),st(n,(t=>{Qr.configure(this,t,t.options),Qr.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(yo("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=e.length;n<i;n++){const i=e[n];let r=this.getDatasetMeta(n);const s=i.type||this.config.type;if(r.type&&r.type!==s&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=s,r.indexAxis=i.indexAxis||Xs(s,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const e=Hs.getController(s),{datasetElementType:i,dataElementType:o}=Re.datasets[s];Object.assign(e,{dataElementType:Hs.getElement(o),datasetElementType:i&&Hs.getElement(i)}),r.controller=new e(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){st(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!i&&-1===r.indexOf(t);t.buildOrUpdateElements(e),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),i||st(r,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(yo("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){st(this.scales,(t=>{Qr.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);wt(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of e){const e="_removeElements"===n?-r:r;ko(t,i,e)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),i=n(0);for(let r=1;r<e;r++)if(!wt(i,n(r)))return;return Array.from(i).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Qr.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],st(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,bt(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(e),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ki.has(this)?this.attached&&!ki.running(this)&&ki.start(this):(this.draw(),bo({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let i,r;for(i=0,r=e.length;i<r;++i){const r=e[i];t&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,i=!n.disabled,r=Eo(t)||this.chartArea,s={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(i&&Ue(e,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),t.controller.draw(),i&&$e(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return ze(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,i){const r=Pr.modes[e];return"function"===typeof r?r(this,t,n,i):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let i=n.filter((t=>t&&t._dataset===e)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=un(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const i=n?"show":"hide",r=this.getDatasetMeta(t),s=r.controller._resolveAnimations(void 0,i);yt(e)?(r.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(r,{visible:n}),this.update((e=>e.datasetIndex===t?i:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ki.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),qe(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete xo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};st(this.options.events,(t=>n(t,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,i)=>{e.addEventListener(this,n,i),t[n]=i},i=(n,i)=>{t[n]&&(e.removeEventListener(this,n,i),delete t[n])},r=(t,e)=>{this.canvas&&this.resize(t,e)};let s;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",s)};s=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},e.isAttached(this.canvas)?o():s()}unbindEvents(){st(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},st(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const i=n?"set":"remove";let r,s,o,a;for("dataset"===e&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){s=t[o];const e=s&&this.getDatasetMeta(s.datasetIndex).controller;e&&e[i+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((({datasetIndex:t,index:e})=>{const n=this.getDatasetMeta(t);if(!n)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:n.data[e],index:e}})),i=!ot(n,e);i&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const i=this.options.hover,r=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),s=r(e,t),o=n?t:r(t,e);s.length&&this.updateHoverStyle(s,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},i=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:i=[],options:r}=this,s=e,o=this._getActiveElements(t,i,n,s),a=_t(t),l=Io(t,this._lastEvent,n,a);n&&(this._lastEvent=null,rt(r.onHover,[t,o,this],this),a&&rt(r.onClick,[t,o,this],this));const c=!ot(o,i);return(c||e)&&(this._active=o,this._updateHoverStyles(o,i,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,i){if("mouseout"===t.type)return[];if(!n)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function Co(){return st(To.instances,(t=>t._plugins.invalidate()))}function Ao(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+Tt,i-Tt),t.closePath(),t.clip()}function Mo(t){return nn(t,["outerStart","outerEnd","innerStart","innerEnd"])}function Do(t,e,n,i){const r=Mo(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=t=>{const e=(n-Math.min(s,t))*i/2;return Wt(t,0,Math.min(s,e))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Wt(r.innerStart,0,o),innerEnd:Wt(r.innerEnd,0,o)}}function Oo(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Po(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+i+n-c,0),d=u>0?u+i+n+c:0;let f=0;const p=r-l;if(i){const t=u>0?u-i:0,e=h>0?h-i:0,n=(t+e)/2,r=0!==n?p*n/(n+i):p;f=(p-r)/2}const g=Math.max(.001,p*h-n/xt)/h,m=(p-g)/2,v=l+m+f,y=r-m-f,{outerStart:b,outerEnd:w,innerStart:_,innerEnd:x}=Do(e,d,h,y-v),S=h-b,k=h-w,I=v+b/S,E=y-w/k,T=d+_,C=d+x,A=v+_/T,M=y-x/C;if(t.beginPath(),s){const e=(I+E)/2;if(t.arc(o,a,h,I,e),t.arc(o,a,h,e,E),w>0){const e=Oo(k,E,o,a);t.arc(e.x,e.y,w,E,y+Tt)}const n=Oo(C,y,o,a);if(t.lineTo(n.x,n.y),x>0){const e=Oo(C,M,o,a);t.arc(e.x,e.y,x,y+Tt,M+Math.PI)}const i=(y-x/d+(v+_/d))/2;if(t.arc(o,a,d,y-x/d,i,!0),t.arc(o,a,d,i,v+_/d,!0),_>0){const e=Oo(T,A,o,a);t.arc(e.x,e.y,_,A+Math.PI,v-Tt)}const r=Oo(S,v,o,a);if(t.lineTo(r.x,r.y),b>0){const e=Oo(S,I,o,a);t.arc(e.x,e.y,b,v-Tt,I)}}else{t.moveTo(o,a);const e=Math.cos(I)*h+o,n=Math.sin(I)*h+a;t.lineTo(e,n);const i=Math.cos(E)*h+o,r=Math.sin(E)*h+a;t.lineTo(i,r)}t.closePath()}function Ro(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){Po(t,e,n,i,l,r);for(let e=0;e<s;++e)t.fill();isNaN(a)||(l=o+(a%St||St))}return Po(t,e,n,i,l,r),t.fill(),l}function Lo(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,h="inner"===l.borderAlign;if(!c)return;h?(t.lineWidth=2*c,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let d=e.endAngle;if(s){Po(t,e,n,i,d,r);for(let e=0;e<s;++e)t.stroke();isNaN(a)||(d=o+(a%St||St))}h&&Ao(t,e,d),s||(Po(t,e,n,i,d,r),t.stroke())}class No extends ws{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.getProps(["x","y"],n),{angle:r,distance:s}=jt(i,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=this.options.spacing/2,d=et(u,a-o),f=d>=St||Ht(r,o,a),p=Gt(s,l+h,c+h);return f&&p}getCenterPoint(t){const{x:e,y:n,startAngle:i,endAngle:r,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:a,spacing:l}=this.options,c=(i+r)/2,u=(s+o+l+a)/2;return{x:e+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,i=(e.offset||0)/4,r=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>St?Math.floor(n/St):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*i,Math.sin(o)*i);const a=1-Math.sin(Math.min(xt,n||0)),l=i*a;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,Ro(t,this,l,r,s),Lo(t,this,l,r,s),t.restore()}}function Fo(t,e,n=e){t.lineCap=et(n.borderCapStyle,e.borderCapStyle),t.setLineDash(et(n.borderDash,e.borderDash)),t.lineDashOffset=et(n.borderDashOffset,e.borderDashOffset),t.lineJoin=et(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=et(n.borderWidth,e.borderWidth),t.strokeStyle=et(n.borderColor,e.borderColor)}function Vo(t,e,n){t.lineTo(n.x,n.y)}function qo(t){return t.stepped?He:t.tension||"monotone"===t.cubicInterpolationMode?We:Vo}function Bo(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function jo(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=Bo(r,n,i),u=qo(s);let h,d,f,{move:p=!0,reverse:g}=i||{};for(h=0;h<=c;++h)d=r[(a+(g?c-h:h))%o],d.skip||(p?(t.moveTo(d.x,d.y),p=!1):u(t,f,d,g,s.stepped),f=d);return l&&(d=r[(a+(g?c:0))%o],u(t,f,d,g,s.stepped)),!!l}function zo(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=Bo(r,n,i),{move:l=!0,reverse:c}=i||{};let u,h,d,f,p,g,m=0,v=0;const y=t=>(o+(c?a-t:t))%s,b=()=>{f!==p&&(t.lineTo(m,p),t.lineTo(m,f),t.lineTo(m,g))};for(l&&(h=r[y(0)],t.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=r[y(u)],h.skip)continue;const e=h.x,n=h.y,i=0|e;i===d?(n<f?f=n:n>p&&(p=n),m=(v*m+e)/++v):(b(),t.lineTo(e,n),d=i,v=0,f=p=n),g=n}b()}function Uo(t){const e=t.options,n=e.borderDash&&e.borderDash.length,i=!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n;return i?zo:jo}function $o(t){return t.stepped?ri:t.tension||"monotone"===t.cubicInterpolationMode?si:ii}function Ho(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),Fo(t,e.options),t.stroke(r)}function Wo(t,e,n,i){const{segments:r,options:s}=e,o=Uo(e);for(const a of r)Fo(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const Ko="function"===typeof Path2D;function Go(t,e,n,i){Ko&&!e.options.segment?Ho(t,e,n,i):Wo(t,e,n,i)}class Yo extends ws{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;Bn(this._points,n,t,i,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=yi(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,i=t[e],r=this.points,s=gi(this,{property:e,start:i,end:i});if(!s.length)return;const o=[],a=$o(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],h=r[c],d=r[u];if(h===d){o.push(h);continue}const f=Math.abs((i-h[e])/(d[e]-h[e])),p=a(h,d,f,n.stepped);p[e]=t[e],o.push(p)}return 1===o.length?o[0]:o}pathSegment(t,e,n){const i=Uo(this);return i(t,this,e,n)}path(t,e,n){const i=this.segments,r=Uo(this);let s=this._loop;e=e||0,n=n||this.points.length-e;for(const o of i)s&=r(t,this,o,{start:e,end:e+n-1});return!!s}draw(t,e,n,i){const r=this.options||{},s=this.points||[];s.length&&r.borderWidth&&(t.save(),Go(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Qo(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class Xo extends ws{static id="point";static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const i=this.options,{x:r,y:s}=this.getProps(["x","y"],n);return Math.pow(t-r,2)+Math.pow(e-s,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,e){return Qo(this,t,"x",e)}inYRange(t,e){return Qo(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const n=e&&t.borderWidth||0;return 2*(e+n)}draw(t,e){const n=this.options;this.skip||n.radius<.1||!ze(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,Be(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Zo(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=s/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Jo(t,e,n,i){return t?0:Wt(e,n,i)}function ta(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=rn(i);return{t:Jo(r.top,s.top,0,n),r:Jo(r.right,s.right,0,e),b:Jo(r.bottom,s.bottom,0,n),l:Jo(r.left,s.left,0,e)}}function ea(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=sn(r),o=Math.min(e,n),a=t.borderSkipped,l=i||Z(r);return{topLeft:Jo(!l||a.top||a.left,s.topLeft,0,o),topRight:Jo(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Jo(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Jo(!l||a.bottom||a.right,s.bottomRight,0,o)}}function na(t){const e=Zo(t),n=e.right-e.left,i=e.bottom-e.top,r=ta(t,n/2,i/2),s=ea(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function ia(t,e,n,i){const r=null===e,s=null===n,o=r&&s,a=t&&!o&&Zo(t,i);return a&&(r||Gt(e,a.left,a.right))&&(s||Gt(n,a.top,a.bottom))}function ra(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function sa(t,e){t.rect(e.x,e.y,e.w,e.h)}function oa(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class aa extends ws{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:s}=na(this),o=ra(s.radius)?Xe:sa;t.save(),s.w===r.w&&s.h===r.h||(t.beginPath(),o(t,oa(s,e,r)),t.clip(),o(t,oa(r,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,oa(r,e)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,e,n){return ia(this,t,e,n)}inXRange(t,e){return ia(this,t,null,e)}inYRange(t,e){return ia(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(e+i)/2:e,y:r?n:(n+i)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}var la=Object.freeze({__proto__:null,ArcElement:No,LineElement:Yo,PointElement:Xo,BarElement:aa});const ca=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ua=ca.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function ha(t){return ca[t%ca.length]}function da(t){return ua[t%ua.length]}function fa(t,e){return t.borderColor=ha(e),t.backgroundColor=da(e),++e}function pa(t,e){return t.backgroundColor=t.data.map((()=>ha(e++))),e}function ga(t,e){return t.backgroundColor=t.data.map((()=>da(e++))),e}function ma(t){let e=0;return(n,i)=>{const r=t.getDatasetMeta(i).controller;r instanceof gr?e=pa(n,e):r instanceof vr?e=ga(n,e):r&&(e=fa(n,e))}}function va(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var ya={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{options:{elements:i},data:{datasets:r}}=t.config;if(!n.forceOverride&&(va(r)||i&&va(i)))return;const s=ma(t);r.forEach(s)}};function ba(t,e,n,i,r){const s=r.samples||i;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const c=e+n-1;let u,h,d,f,p,g=e;for(o[l++]=t[g],u=0;u<s-2;u++){let i,r=0,s=0;const c=Math.floor((u+1)*a)+1+e,m=Math.min(Math.floor((u+2)*a)+1,n)+e,v=m-c;for(i=c;i<m;i++)r+=t[i].x,s+=t[i].y;r/=v,s/=v;const y=Math.floor(u*a)+1+e,b=Math.min(Math.floor((u+1)*a)+1,n)+e,{x:w,y:_}=t[g];for(d=f=-1,i=y;i<b;i++)f=.5*Math.abs((w-r)*(t[i].y-_)-(w-t[i].x)*(s-_)),f>d&&(d=f,h=t[i],p=i);o[l++]=h,g=p}return o[l++]=t[c],o}function wa(t,e,n,i){let r,s,o,a,l,c,u,h,d,f,p=0,g=0;const m=[],v=e+n-1,y=t[e].x,b=t[v].x,w=b-y;for(r=e;r<e+n;++r){s=t[r],o=(s.x-y)/w*i,a=s.y;const e=0|o;if(e===l)a<d?(d=a,c=r):a>f&&(f=a,u=r),p=(g*p+s.x)/++g;else{const n=r-1;if(!Q(c)&&!Q(u)){const e=Math.min(c,u),i=Math.max(c,u);e!==h&&e!==n&&m.push({...t[e],x:p}),i!==h&&i!==n&&m.push({...t[i],x:p})}r>0&&n!==h&&m.push(t[n]),m.push(s),l=e,g=0,d=f=a,c=u=h=r}}return m}function _a(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:e})}}function xa(t){t.data.datasets.forEach((t=>{_a(t)}))}function Sa(t,e){const n=e.length;let i,r=0;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(r=Wt(Qt(e,s.axis,o).lo,0,n-1)),i=c?Wt(Qt(e,s.axis,a).hi+1,r,n)-r:n-r,{start:r,count:i}}var ka={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled)return void xa(t);const i=t.width;t.data.datasets.forEach(((e,r)=>{const{_data:s,indexAxis:o}=e,a=t.getDatasetMeta(r),l=s||e.data;if("y"===ln([o,t.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const c=t.scales[a.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(t.options.parsing)return;let{start:u,count:h}=Sa(a,l);const d=n.threshold||4*i;if(h<=d)return void _a(e);let f;switch(Q(s)&&(e._data=l,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":f=ba(l,u,h,i,n);break;case"min-max":f=wa(l,u,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}e._decimated=f}))},destroy(t){xa(t)}};function Ia(t,e,n){const i=t.segments,r=t.points,s=e.points,o=[];for(const a of i){let{start:t,end:i}=a;i=Ca(t,i,r);const l=Ea(n,r[t],r[i],a.loop);if(!e.segments){o.push({source:a,target:l,start:r[t],end:r[i]});continue}const c=gi(e,l);for(const e of c){const t=Ea(n,s[e.start],s[e.end],e.loop),i=pi(a,r,t);for(const r of i)o.push({source:r,target:e,start:{[n]:Aa(l,t,"start",Math.max)},end:{[n]:Aa(l,t,"end",Math.min)}})}}return o}function Ea(t,e,n,i){if(i)return;let r=e[t],s=n[t];return"angle"===t&&(r=$t(r),s=$t(s)),{property:t,start:r,end:s}}function Ta(t,e){const{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach((({start:t,end:e})=>{e=Ca(t,e,r);const o=r[t],a=r[e];null!==i?(s.push({x:o.x,y:i}),s.push({x:a.x,y:i})):null!==n&&(s.push({x:n,y:o.y}),s.push({x:n,y:a.y}))})),s}function Ca(t,e,n){for(;e>t;e--){const t=n[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function Aa(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function Ma(t,e){let n=[],i=!1;return X(t)?(i=!0,n=t):n=Ta(t,e),n.length?new Yo({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Da(t){return t&&!1!==t.fill}function Oa(t,e,n){const i=t[e];let r=i.fill;const s=[e];let o;if(!n)return r;while(!1!==r&&-1===s.indexOf(r)){if(!J(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function Pa(t,e,n){const i=Fa(t);if(Z(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return J(r)&&Math.floor(r)===r?Ra(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Ra(t,e,n,i){return"-"!==t&&"+"!==t||(n=e+n),!(n===e||n<0||n>=i)&&n}function La(t,e){let n=null;return"start"===t?n=e.bottom:"end"===t?n=e.top:Z(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function Na(t,e,n){let i;return i="start"===t?n:"end"===t?e.options.reverse?e.min:e.max:Z(t)?t.value:e.getBaseValue(),i}function Fa(t){const e=t.options,n=e.fill;let i=et(n&&n.target,n);return void 0===i&&(i=!!e.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}function Va(t){const{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=qa(e,n);a.push(Ma({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){const t=s[l];for(let e=t.start;e<=t.end;e++)Ba(r,o[e],a)}return new Yo({points:r,options:{}})}function qa(t,e){const n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const t=i[r];if(t.index===e)break;t.hidden||n.unshift(t.dataset)}return n}function Ba(t,e,n){const i=[];for(let r=0;r<n.length;r++){const s=n[r],{first:o,last:a,point:l}=ja(s,e,"x");if(!(!l||o&&a))if(o)i.unshift(l);else if(t.push(l),!a)break}t.push(...i)}function ja(t,e,n){const i=t.interpolate(e,n);if(!i)return{};const r=i[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const t=s[c],e=o[t.start][n],i=o[t.end][n];if(Gt(r,e,i)){a=r===e,l=r===i;break}}return{first:a,last:l,point:i}}class za{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:i,y:r,radius:s}=this;return e=e||{start:0,end:St},t.arc(i,r,s,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:i}=this,r=t.angle;return{x:e+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function Ua(t){const{chart:e,fill:n,line:i}=t;if(J(n))return $a(e,n);if("stack"===n)return Va(t);if("shape"===n)return!0;const r=Ha(t);return r instanceof za?r:Ma(r,i)}function $a(t,e){const n=t.getDatasetMeta(e),i=n&&t.isDatasetVisible(e);return i?n.dataset:null}function Ha(t){const e=t.scale||{};return e.getPointPositionForValue?Ka(t):Wa(t)}function Wa(t){const{scale:e={},fill:n}=t,i=La(n,e);if(J(i)){const t=e.isHorizontal();return{x:t?i:null,y:t?null:i}}return null}function Ka(t){const{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=Na(n,e,s),a=[];if(i.grid.circular){const t=e.getPointPositionForValue(0,s);return new za({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function Ga(t,e,n){const i=Ua(e),{line:r,scale:s,axis:o}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&r.points.length&&(Ue(t,n),Ya(t,{line:r,target:i,above:u,below:h,area:n,scale:s,axis:o}),$e(t))}function Ya(t,e){const{line:n,target:i,above:r,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),"x"===l&&s!==r&&(Qa(t,i,o.top),Xa(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),Qa(t,i,o.bottom)),Xa(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore()}function Qa(t,e,n){const{segments:i,points:r}=e;let s=!0,o=!1;t.beginPath();for(const a of i){const{start:i,end:l}=a,c=r[i],u=r[Ca(i,l,r)];s?(t.moveTo(c.x,c.y),s=!1):(t.lineTo(c.x,n),t.lineTo(c.x,c.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(u.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function Xa(t,e){const{line:n,target:i,property:r,color:s,scale:o}=e,a=Ia(n,i,r);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:e=s}={}}=l,a=!0!==i;t.save(),t.fillStyle=e,Za(t,o,a&&Ea(r,u,h)),t.beginPath();const d=!!n.pathSegment(t,l);let f;if(a){d?t.closePath():Ja(t,i,h,r);const e=!!i.pathSegment(t,c,{move:d,reverse:!0});f=d&&e,f||Ja(t,i,u,r)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function Za(t,e,n){const{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};"x"===s&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function Ja(t,e,n,i){const r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var tl={id:"filler",afterDatasetsUpdate(t,e,n){const i=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Yo&&(l={visible:t.isDatasetVisible(o),index:o,fill:Pa(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],l&&!1!==l.fill&&(l.fill=Oa(r,o,n.propagate))},beforeDraw(t,e,n){const i="beforeDraw"===n.drawTime,r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const e=r[o].$filler;e&&(e.line.updateControlPoints(s,e.axis),i&&e.fill&&Ga(t.ctx,e,s))}},beforeDatasetsDraw(t,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const e=i[r].$filler;Da(e)&&Ga(t.ctx,e,t.chartArea)}},beforeDatasetDraw(t,e,n){const i=e.meta.$filler;Da(i)&&"beforeDatasetDraw"===n.drawTime&&Ga(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const el=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},nl=(t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class il extends ws{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=rt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,i=an(n.font),r=i.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=el(n,r);let l,c;e.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,r,o,a)+10):(c=this.maxHeight,l=this._fitCols(s,i,o,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,i){const{ctx:r,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+o;let u=t;r.textAlign="left",r.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((t,f)=>{const p=n+e/2+r.measureText(t.text).width;(0===f||l[l.length-1]+p+2*o>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),a[f]={left:0,top:d,row:h,width:p,height:i},l[l.length-1]+=p+o})),u}_fitCols(t,e,n,i){const{ctx:r,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-t;let u=o,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((t,s)=>{const{itemWidth:g,itemHeight:m}=rl(n,e,r,t,i);s>0&&d+m+2*o>c&&(u+=h+o,l.push({width:h,height:d}),f+=h+o,p++,h=d=0),a[s]={left:f,top:d,col:p,width:g,height:m},h=Math.max(h,g),d+=m+o})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:i},rtl:r}}=this,s=li(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=ae(n,this.left+i,this.right-this.lineWidths[r]);for(const a of e)r!==a.row&&(r=a.row,o=ae(n,this.left+i,this.right-this.lineWidths[r])),a.top+=this.top+t+i,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+i}else{let r=0,o=ae(n,this.top+t+i,this.bottom-this.columnSizes[r].height);for(const a of e)a.col!==r&&(r=a.col,o=ae(n,this.top+t+i,this.bottom-this.columnSizes[r].height)),a.top=o,a.left+=this.left+i,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Ue(t,this),this._draw(),$e(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:i}=this,{align:r,labels:s}=t,o=Re.color,a=li(t.rtl,this.left,this.width),l=an(s.font),{padding:c}=s,u=l.size,h=u/2;let d;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=el(s,u),m=function(t,e,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;i.save();const r=et(n.lineWidth,1);if(i.fillStyle=et(n.fillStyle,o),i.lineCap=et(n.lineCap,"butt"),i.lineDashOffset=et(n.lineDashOffset,0),i.lineJoin=et(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=et(n.strokeStyle,o),i.setLineDash(et(n.lineDash,[])),s.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},l=a.xPlus(t,f/2),c=e+h;je(i,o,l,c,s.pointStyleWidth&&f)}else{const s=e+Math.max((u-p)/2,0),o=a.leftForLtr(t,f),l=sn(n.borderRadius);i.beginPath(),Object.values(l).some((t=>0!==t))?Xe(i,{x:o,y:s,w:f,h:p,radius:l}):i.rect(o,s,f,p),i.fill(),0!==r&&i.stroke()}i.restore()},v=function(t,e,n){Ke(i,n.text,t,e+g/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})},y=this.isHorizontal(),b=this._computeTitleHeight();d=y?{x:ae(r,this.left+c,this.right-n[0]),y:this.top+c+b,line:0}:{x:this.left+c,y:ae(r,this.top+b+c,this.bottom-e[0].height),line:0},ci(this.ctx,t.textDirection);const w=g+c;this.legendItems.forEach(((o,u)=>{i.strokeStyle=o.fontColor,i.fillStyle=o.fontColor;const p=i.measureText(o.text).width,g=a.textAlign(o.textAlign||(o.textAlign=s.textAlign)),_=f+h+p;let x=d.x,S=d.y;a.setWidth(this.width),y?u>0&&x+_+c>this.right&&(S=d.y+=w,d.line++,x=d.x=ae(r,this.left+c,this.right-n[d.line])):u>0&&S+w>this.bottom&&(x=d.x=x+e[d.line].width+c,d.line++,S=d.y=ae(r,this.top+b+c,this.bottom-e[d.line].height));const k=a.x(x);if(m(k,S,o),x=le(g,x+f+h,y?x+_:this.right,t.rtl),v(a.x(x),S,o),y)d.x+=_+c;else if("string"!==typeof o.text){const t=l.lineHeight;d.y+=al(o,t)}else d.y+=w})),ui(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=an(e.font),i=on(e.padding);if(!e.display)return;const r=li(t.rtl,this.left,this.width),s=this.ctx,o=e.position,a=n.size/2,l=i.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=ae(t.align,u,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+ae(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=ae(o,u,u+h);s.textAlign=r.textAlign(oe(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,Ke(s,e.text,d,c,n)}_computeTitleHeight(){const t=this.options.title,e=an(t.font),n=on(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,i,r;if(Gt(t,this.left,this.right)&&Gt(e,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],Gt(t,i.left,i.left+i.width)&&Gt(e,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!ll(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const i=this._hoveredItem,r=nl(i,n);i&&!r&&rt(e.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!r&&rt(e.onHover,[t,n,this],this)}else n&&rt(e.onClick,[t,n,this],this)}}function rl(t,e,n,i,r){const s=sl(i,t,e,n),o=ol(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function sl(t,e,n,i){let r=t.text;return r&&"string"!==typeof r&&(r=r.reduce(((t,e)=>t.length>e.length?t:e))),e+n.size/2+i.measureText(r).width}function ol(t,e,n){let i=t;return"string"!==typeof e.text&&(i=al(e,n)),i}function al(t,e){const n=t.text?t.text.length+.5:0;return e*n}function ll(t,e){return!("mousemove"!==t&&"mouseout"!==t||!e.onHover&&!e.onLeave)||!(!e.onClick||"click"!==t&&"mouseup"!==t)}var cl={id:"legend",_element:il,start(t,e,n){const i=t.legend=new il({ctx:t.ctx,options:n,chart:t});Qr.configure(t,i,n),Qr.addBox(t,i)},stop(t){Qr.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;Qr.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),c=on(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:i||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class ul extends ws{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const i=X(n.text)?n.text.length:1;this._padding=on(n.padding);const r=i*an(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:i,right:r,options:s}=this,o=s.align;let a,l,c,u=0;return this.isHorizontal()?(l=ae(o,n,r),c=e+t,a=r-n):("left"===s.position?(l=n+t,c=ae(o,i,e),u=-.5*xt):(l=r-t,c=ae(o,e,i),u=.5*xt),a=i-e),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=an(e.font),i=n.lineHeight,r=i/2+this._padding.top,{titleX:s,titleY:o,maxWidth:a,rotation:l}=this._drawArgs(r);Ke(t,e.text,0,0,n,{color:e.color,maxWidth:a,rotation:l,textAlign:oe(e.align),textBaseline:"middle",translation:[s,o]})}}function hl(t,e){const n=new ul({ctx:t.ctx,options:e,chart:t});Qr.configure(t,n,e),Qr.addBox(t,n),t.titleBlock=n}var dl={id:"title",_element:ul,start(t,e,n){hl(t,n)},stop(t){const e=t.titleBlock;Qr.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;Qr.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fl=new WeakMap;var pl={id:"subtitle",start(t,e,n){const i=new ul({ctx:t.ctx,options:n,chart:t});Qr.configure(t,i,n),Qr.addBox(t,i),fl.set(t,i)},stop(t){Qr.removeBox(t,fl.get(t)),fl.delete(t)},beforeUpdate(t,e,n){const i=fl.get(t);Qr.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gl={average(t){if(!t.length)return!1;let e,n,i=0,r=0,s=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();i+=t.x,r+=t.y,++s}}return{x:i/s,y:r/s}},nearest(t,e){if(!t.length)return!1;let n,i,r,s=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){const i=t[n].element;if(i&&i.hasValue()){const t=i.getCenterPoint(),n=zt(e,t);n<a&&(a=n,r=i)}}if(r){const t=r.tooltipPosition();s=t.x,o=t.y}return{x:s,y:o}}};function ml(t,e){return e&&(X(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function vl(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function yl(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function bl(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=an(e.bodyFont),c=an(e.titleFont),u=an(e.footerFont),h=s.length,d=r.length,f=i.length,p=on(e.padding);let g=p.height,m=0,v=i.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){const t=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*t+(v-f)*l.lineHeight+(v-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let y=0;const b=function(t){m=Math.max(m,n.measureText(t).width+y)};return n.save(),n.font=c.string,st(t.title,b),n.font=l.string,st(t.beforeBody.concat(t.afterBody),b),y=e.displayColors?o+2+e.boxPadding:0,st(i,(t=>{st(t.before,b),st(t.lines,b),st(t.after,b)})),y=0,n.font=u.string,st(t.footer,b),n.restore(),m+=p.width,{width:m,height:g}}function wl(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function _l(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;return"left"===t&&r+s+o>e.width||("right"===t&&r-s-o<0||void 0)}function xl(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),_l(c,t,e,n)&&(c="center"),c}function Sl(t,e,n){const i=n.yAlign||e.yAlign||wl(t,n);return{xAlign:n.xAlign||e.xAlign||xl(t,e,n,i),yAlign:i}}function kl(t,e){let{x:n,width:i}=t;return"right"===e?n-=i:"center"===e&&(n-=i/2),n}function Il(t,e,n){let{y:i,height:r}=t;return"top"===e?i+=n:i-="bottom"===e?r+n:r/2,i}function El(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=sn(o);let p=kl(e,a);const g=Il(e,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,d)+r:"right"===a&&(p+=Math.max(h,f)+r),{x:Wt(p,0,i.width-e.width),y:Wt(g,0,i.height-e.height)}}function Tl(t,e,n){const i=on(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-i.right:t.x+i.left}function Cl(t){return ml([],vl(t))}function Al(t,e,n){return un(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Ml(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const Dl={beforeTitle:G,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:G,beforeBody:G,beforeLabel:G,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Q(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex),n=e.controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex),n=e.controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:G,afterBody:G,beforeFooter:G,footer:G,afterFooter:G};function Ol(t,e,n,i){const r=t[e].call(n,i);return"undefined"===typeof r?Dl[e].call(n,i):r}class Pl extends ws{static positioners=gl;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&e.options.animation&&n.animations,r=new Ci(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=Al(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,i=Ol(n,"beforeTitle",this,t),r=Ol(n,"title",this,t),s=Ol(n,"afterTitle",this,t);let o=[];return o=ml(o,vl(i)),o=ml(o,vl(r)),o=ml(o,vl(s)),o}getBeforeBody(t,e){return Cl(Ol(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,i=[];return st(t,(t=>{const e={before:[],lines:[],after:[]},r=Ml(n,t);ml(e.before,vl(Ol(r,"beforeLabel",this,t))),ml(e.lines,Ol(r,"label",this,t)),ml(e.after,vl(Ol(r,"afterLabel",this,t))),i.push(e)})),i}getAfterBody(t,e){return Cl(Ol(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,i=Ol(n,"beforeFooter",this,t),r=Ol(n,"footer",this,t),s=Ol(n,"afterFooter",this,t);let o=[];return o=ml(o,vl(i)),o=ml(o,vl(r)),o=ml(o,vl(s)),o}_createItems(t){const e=this._active,n=this.chart.data,i=[],r=[],s=[];let o,a,l=[];for(o=0,a=e.length;o<a;++o)l.push(yl(this.chart,e[o]));return t.filter&&(l=l.filter(((e,i,r)=>t.filter(e,i,r,n)))),t.itemSort&&(l=l.sort(((e,i)=>t.itemSort(e,i,n)))),st(l,(e=>{const n=Ml(t.callbacks,e);i.push(Ol(n,"labelColor",this,e)),r.push(Ol(n,"labelPointStyle",this,e)),s.push(Ol(n,"labelTextColor",this,e))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=s,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),i=this._active;let r,s=[];if(i.length){const t=gl[n.position].call(this,i,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const e=this._size=bl(this,n),o=Object.assign({},t,e),a=Sl(this.chart,n,o),l=El(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=s,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,i){const r=this.getCaretPosition(t,n,i);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,n){const{xAlign:i,yAlign:r}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=sn(o),{x:h,y:d}=t,{width:f,height:p}=e;let g,m,v,y,b,w;return"center"===r?(b=d+p/2,"left"===i?(g=h,m=g-s,y=b+s,w=b-s):(g=h+f,m=g+s,y=b-s,w=b+s),v=g):(m="left"===i?h+Math.max(a,c)+s:"right"===i?h+f-Math.max(l,u)-s:this.caretX,"top"===r?(y=d,b=y-s,g=m-s,v=m+s):(y=d+p,b=y+s,g=m+s,v=m-s),w=y),{x1:g,x2:m,x3:v,y1:y,y2:b,y3:w}}drawTitle(t,e,n){const i=this.title,r=i.length;let s,o,a;if(r){const l=li(n.rtl,this.x,this.width);for(t.x=Tl(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",s=an(n.titleFont),o=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,a=0;a<r;++a)e.fillText(i[a],l.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o,a+1===r&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,e,n,i,r){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l,boxPadding:c}=r,u=an(r.bodyFont),h=Tl(this,"left",r),d=i.x(h),f=a<u.lineHeight?(u.lineHeight-a)/2:0,p=e.y+f;if(r.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=i.leftForLtr(d,l)+l/2,c=p+a/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Be(t,e,n,c),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,Be(t,e,n,c)}else{t.lineWidth=Z(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=i.leftForLtr(d,l-c),n=i.leftForLtr(i.xPlus(d,1),l-c-2),o=sn(s.borderRadius);Object.values(o).some((t=>0!==t))?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Xe(t,{x:e,y:p,w:l,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),Xe(t,{x:n,y:p+1,w:l-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(e,p,l,a),t.strokeRect(e,p,l,a),t.fillStyle=s.backgroundColor,t.fillRect(n,p+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:i}=this,{bodySpacing:r,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=an(n.bodyFont);let h=u.lineHeight,d=0;const f=li(n.rtl,this.x,this.width),p=function(n){e.fillText(n,f.x(t.x+d),t.y+h/2),t.y+=h+r},g=f.textAlign(s);let m,v,y,b,w,_,x;for(e.textAlign=s,e.textBaseline="middle",e.font=u.string,t.x=Tl(this,g,n),e.fillStyle=n.bodyColor,st(this.beforeBody,p),d=o&&"right"!==g?"center"===s?l/2+c:l+2+c:0,b=0,_=i.length;b<_;++b){for(m=i[b],v=this.labelTextColors[b],e.fillStyle=v,st(m.before,p),y=m.lines,o&&y.length&&(this._drawColorBox(e,t,b,f,n),h=Math.max(u.lineHeight,a)),w=0,x=y.length;w<x;++w)p(y[w]),h=u.lineHeight;st(m.after,p)}d=0,h=u.lineHeight,st(this.afterBody,p),t.y-=r}drawFooter(t,e,n){const i=this.footer,r=i.length;let s,o;if(r){const a=li(n.rtl,this.x,this.width);for(t.x=Tl(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",s=an(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,o=0;o<r;++o)e.fillText(i[o],a.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,i){const{xAlign:r,yAlign:s}=this,{x:o,y:a}=t,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=sn(i.cornerRadius);e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.beginPath(),e.moveTo(o+u,a),"top"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+l-h,a),e.quadraticCurveTo(o+l,a,o+l,a+h),"center"===s&&"right"===r&&this.drawCaret(t,e,n,i),e.lineTo(o+l,a+c-f),e.quadraticCurveTo(o+l,a+c,o+l-f,a+c),"bottom"===s&&this.drawCaret(t,e,n,i),e.lineTo(o+d,a+c),e.quadraticCurveTo(o,a+c,o,a+c-d),"center"===s&&"left"===r&&this.drawCaret(t,e,n,i),e.lineTo(o,a+u),e.quadraticCurveTo(o,a,o+u,a),e.closePath(),e.fill(),i.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=gl[t.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=bl(this,t),o=Object.assign({},n,this._size),a=Sl(e,t,o),l=El(t,o,a,e);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=on(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(r,t,i,e),ci(t,e.textDirection),r.y+=s.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),ui(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,i=t.map((({datasetIndex:t,index:e})=>{const n=this.chart.getDatasetMeta(t);if(!n)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:n.data[e],index:e}})),r=!ot(n,i),s=this._positionChanged(i,e);(r||s)&&(this._active=i,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],s=this._getActiveElements(t,r,e,n),o=this._positionChanged(s,t),a=e||!ot(s,r)||o;return a&&(this._active=s,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,i){const r=this.options;if("mouseout"===t.type)return[];if(!i)return e;const s=this.chart.getElementsAtEventForMode(t,r.mode,r,n);return r.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:i,options:r}=this,s=gl[r.position].call(this,t,e);return!1!==s&&(n!==s.x||i!==s.y)}}var Rl={id:"tooltip",_element:Pl,positioners:gl,afterInit(t,e,n){n&&(t.tooltip=new Pl({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Dl},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Ll=Object.freeze({__proto__:null,Colors:ya,Decimation:ka,Filler:tl,Legend:cl,SubTitle:pl,Title:dl,Tooltip:Rl});const Nl=(t,e,n,i)=>("string"===typeof e?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function Fl(t,e,n,i){const r=t.indexOf(e);if(-1===r)return Nl(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const Vl=(t,e)=>null===t?null:Wt(Math.round(t),0,e);function ql(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Bl extends qs{static id="category";static defaults={ticks:{callback:ql}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:i}of e)t[n]===i&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Q(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:Fl(n,t,et(e,t),this._addedLabels),Vl(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===t&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)i.push({value:s});return i}getLabelForValue(t){return ql.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function jl(t,e){const n=[],i=1e-14,{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,f=s||1,p=u-1,{min:g,max:m}=e,v=!Q(o),y=!Q(a),b=!Q(c),w=(m-g)/(h+1);let _,x,S,k,I=Pt((m-g)/p/f)*f;if(I<i&&!v&&!y)return[{value:g},{value:m}];k=Math.ceil(m/I)-Math.floor(g/I),k>p&&(I=Pt(k*I/p/f)*f),Q(l)||(_=Math.pow(10,l),I=Math.ceil(I*_)/_),"ticks"===r?(x=Math.floor(g/I)*I,S=Math.ceil(m/I)*I):(x=g,S=m),v&&y&&s&&Nt((a-o)/s,I/1e3)?(k=Math.round(Math.min((a-o)/I,u)),I=(a-o)/k,x=o,S=a):b?(x=v?o:x,S=y?a:S,k=c-1,I=(S-x)/k):(k=(S-x)/I,k=Ot(k,Math.round(k),I/1e3)?Math.round(k):Math.ceil(k));const E=Math.max(Bt(I),Bt(x));_=Math.pow(10,Q(l)?E:l),x=Math.round(x*_)/_,S=Math.round(S*_)/_;let T=0;for(v&&(d&&x!==o?(n.push({value:o}),x<o&&T++,Ot(Math.round((x+T*I)*_)/_,o,zl(o,w,t))&&T++):x<o&&T++);T<k;++T)n.push({value:Math.round((x+T*I)*_)/_});return y&&d&&S!==a?n.length&&Ot(n[n.length-1].value,a,zl(a,w,t))?n[n.length-1].value=a:n.push({value:a}):y&&S!==a||n.push({value:S}),n}function zl(t,e,{horizontal:n,minRotation:i}){const r=Vt(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Ul extends qs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Q(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const s=t=>i=e?i:t,o=t=>r=n?r:t;if(t){const t=Dt(i),e=Dt(r);t<0&&e<0?o(0):t>0&&e>0&&s(0)}if(i===r){let e=0===r?1:Math.abs(.05*r);o(r+e),t||s(i-e)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:i}=t;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},r=this._range||this,s=jl(i,r);return"ticks"===t.bounds&&Ft(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-e)/Math.max(t.length-1,1)/2;e-=i,n+=i}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return ke(t,this.chart.options.locale,this.options.ticks.format)}}class $l extends Ul{static id="linear";static defaults={ticks:{callback:Te.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=J(t)?t:0,this.max=J(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=Vt(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Hl=t=>Math.floor(Mt(t)),Wl=(t,e)=>Math.pow(10,Hl(t)+e);function Kl(t){const e=t/Math.pow(10,Hl(t));return 1===e}function Gl(t,e,n){const i=Math.pow(10,n),r=Math.floor(t/i),s=Math.ceil(e/i);return s-r}function Yl(t,e){const n=e-t;let i=Hl(n);while(Gl(t,e,i)>10)i++;while(Gl(t,e,i)<10)i--;return Math.min(i,Hl(t))}function Ql(t,{min:e,max:n}){e=tt(t.min,e);const i=[],r=Hl(e);let s=Yl(e,n),o=s<0?Math.pow(10,Math.abs(s)):1;const a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,s)),d=tt(t.min,Math.round((l+u+h*Math.pow(10,s))*o)/o);while(d<n)i.push({value:d,major:Kl(d),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(s++,h=2,o=s>=0?1:o),d=Math.round((l+u+h*Math.pow(10,s))*o)/o;const f=tt(t.max,d);return i.push({value:f,major:Kl(f),significand:h}),i}class Xl extends qs{static id="logarithmic";static defaults={ticks:{callback:Te.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=Ul.prototype.parse.apply(this,[t,e]);if(0!==n)return J(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=J(t)?Math.max(0,t):null,this.max=J(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!J(this._userMin)&&(this.min=t===Wl(this.min,0)?Wl(this.min,-1):Wl(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,i=this.max;const r=e=>n=t?n:e,s=t=>i=e?i:t;n===i&&(n<=0?(r(1),s(10)):(r(Wl(n,-1)),s(Wl(i,1)))),n<=0&&r(Wl(i,-1)),i<=0&&s(Wl(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},n=Ql(e,this);return"ticks"===t.bounds&&Ft(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return void 0===t?"0":ke(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Mt(t),this._valueRange=Mt(this.max)-Mt(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Mt(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Zl(t){const e=t.ticks;if(e.display&&t.display){const t=on(e.backdropPadding);return et(e.font&&e.font.size,Re.font.size)+t.height}return 0}function Jl(t,e,n){return n=X(n)?n:[n],{w:Fe(t,e.string,n),h:n.length*e.lineHeight}}function tc(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function ec(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?xt/s:0;for(let l=0;l<s;l++){const s=o.setContext(t.getPointLabelContext(l));r[l]=s.padding;const c=t.getPointPosition(l,t.drawingArea+r[l],a),u=an(s.font),h=Jl(t.ctx,u,t._pointLabels[l]);i[l]=h;const d=$t(t.getIndexAngle(l)+a),f=Math.round(qt(d)),p=tc(f,c.x,h.w,0,180),g=tc(f,c.y,h.h,90,270);nc(n,e,d,p,g)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=ic(t,i,r)}function nc(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function ic(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,o=Zl(s)/2,a=t.drawingArea,l=s.pointLabels.centerPointLabels?xt/r:0;for(let c=0;c<r;c++){const r=t.getPointPosition(c,a+o+n[c],l),s=Math.round(qt($t(r.angle+Tt))),u=e[c],h=oc(r.y,u.h,s),d=rc(s),f=sc(r.x,u.w,d);i.push({x:r.x,y:h,textAlign:d,left:f,top:h,right:f+u.w,bottom:h+u.h})}return i}function rc(t){return 0===t||180===t?"center":t<180?"left":"right"}function sc(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function oc(t,e,n){return 90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e),t}function ac(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const e=i.setContext(t.getPointLabelContext(r)),s=an(e.font),{x:o,y:a,textAlign:l,left:c,top:u,right:h,bottom:d}=t._pointLabelItems[r],{backdropColor:f}=e;if(!Q(f)){const t=sn(e.borderRadius),i=on(e.backdropPadding);n.fillStyle=f;const r=c-i.left,s=u-i.top,o=h-c+i.width,a=d-u+i.height;Object.values(t).some((t=>0!==t))?(n.beginPath(),Xe(n,{x:r,y:s,w:o,h:a,radius:t}),n.fill()):n.fillRect(r,s,o,a)}Ke(n,t._pointLabels[r],o,a+s.lineHeight/2,s,{color:e.color,textAlign:l,textBaseline:"middle"})}}function lc(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,St);else{let n=t.getPointPosition(0,e);r.moveTo(n.x,n.y);for(let s=1;s<i;s++)n=t.getPointPosition(s,e),r.lineTo(n.x,n.y)}}function cc(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),lc(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function uc(t,e,n){return un(t,{label:n,index:e,type:"pointLabel"})}class hc extends Ul{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Te.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=on(Zl(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=J(t)&&!isNaN(t)?t:0,this.max=J(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Zl(this.options))}generateTickLabels(t){Ul.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=rt(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?ec(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,i){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,i))}getIndexAngle(t){const e=St/(this._pointLabels.length||1),n=this.options.startAngle||0;return $t(t*e+Vt(n))}getDistanceFromCenterForValue(t){if(Q(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Q(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return uc(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const i=this.getIndexAngle(t)-Tt+n;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:i,bottom:r}=this._pointLabelItems[t];return{left:e,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),lc(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:i,border:r}=e,s=this._pointLabels.length;let o,a,l;if(e.pointLabels.display&&ac(this,s),i.display&&this.ticks.forEach(((t,e)=>{if(0!==e){a=this.getDistanceFromCenterForValue(t.value);const n=this.getContext(e),o=i.setContext(n),l=r.setContext(n);cc(this,o,a,s,l)}})),n.display){for(t.save(),o=s-1;o>=0;o--){const i=n.setContext(this.getPointLabelContext(o)),{color:r,lineWidth:s}=i;s&&r&&(t.lineWidth=s,t.strokeStyle=r,t.setLineDash(i.borderDash),t.lineDashOffset=i.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((i,o)=>{if(0===o&&!e.reverse)return;const a=n.setContext(this.getContext(o)),l=an(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){t.font=l.string,s=t.measureText(i.label).width,t.fillStyle=a.backdropColor;const e=on(a.backdropPadding);t.fillRect(-s/2-e.left,-r-l.size/2-e.top,s+e.width,l.size+e.height)}Ke(t,i.label,0,-r,l,{color:a.color})})),t.restore()}drawTitle(){}}const dc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},fc=Object.keys(dc);function pc(t,e){return t-e}function gc(t,e){if(Q(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return"function"===typeof i&&(o=i(o)),J(o)||(o="string"===typeof i?n.parse(o,i):n.parse(o)),null===o?null:(r&&(o="week"!==r||!Lt(s)&&!0!==s?n.startOf(o,r):n.startOf(o,"isoWeek",s)),+o)}function mc(t,e,n,i){const r=fc.length;for(let s=fc.indexOf(t);s<r-1;++s){const t=dc[fc[s]],r=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(r*t.size))<=i)return fc[s]}return fc[r-1]}function vc(t,e,n,i,r){for(let s=fc.length-1;s>=fc.indexOf(n);s--){const n=fc[s];if(dc[n].common&&t._adapter.diff(r,i,n)>=e-1)return n}return fc[n?fc.indexOf(n):0]}function yc(t){for(let e=fc.indexOf(t)+1,n=fc.length;e<n;++e)if(dc[fc[e]].common)return fc[e]}function bc(t,e,n){if(n){if(n.length){const{lo:i,hi:r}=Yt(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}else t[e]=!0}function wc(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function _c(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return 0!==s&&n?wc(t,i,r,n):i}class xc extends qs{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),i=this._adapter=new kr._date(t.adapters.date);i.init(e),ht(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:gc(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:i,max:r,minDefined:s,maxDefined:o}=this.getUserBounds();function a(t){s||isNaN(t.min)||(i=Math.min(i,t.min)),o||isNaN(t.max)||(r=Math.max(r,t.max))}s&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),i=J(i)&&!isNaN(i)?i:+e.startOf(Date.now(),n),r=J(r)&&!isNaN(r)?r:+e.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,s=this.max,o=Zt(i,r,s);return this._unit=e.unit||(n.autoSkip?mc(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):vc(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?yc(this._unit):void 0,this.initOffsets(i),t.reverse&&o.reverse(),_c(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t=[]){let e,n,i=0,r=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),i=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,n=this.getDecimalForValue(t[t.length-1]),r=1===t.length?n:(n-this.getDecimalForValue(t[t.length-2]))/2);const s=t.length<3?.5:.25;i=Wt(i,0,s),r=Wt(r,0,s),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const t=this._adapter,e=this.min,n=this.max,i=this.options,r=i.time,s=r.unit||mc(r.minUnit,e,n,this._getLabelCapacity(e)),o=et(i.ticks.stepSize,1),a="week"===s&&r.isoWeekday,l=Lt(a)||!0===a,c={};let u,h,d=e;if(l&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,l?"day":s),t.diff(n,e,s)>1e5*o)throw new Error(e+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===i.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+t.add(u,o,s),h++)bc(c,u,f);return u!==n&&"ticks"!==i.bounds&&1!==h||bc(c,u,f),Object.keys(c).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}_tickFormatFunction(t,e,n,i){const r=this.options,s=r.ticks.callback;if(s)return rt(s,[t,e,n],this);const o=r.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=n[e],d=l&&u&&h&&h.major;return this._adapter.format(t,i||(d?u:c))}generateTickLabels(t){let e,n,i;for(e=0,n=t.length;e<n;++e)i=t[e],i.label=this._tickFormatFunction(i.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,i=Vt(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(i),s=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*s,h:n*s+o*r}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,i=n[e.unit]||n.millisecond,r=this._tickFormatFunction(t,0,_c(this,[t],this._majorUnit),i),s=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,e=i.length;t<e;++t)n=n.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const i=this.getLabels();for(e=0,n=i.length;e<n;++e)t.push(gc(this,i[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return ne(t.sort(pc))}}function Sc(t,e,n){let i,r,s,o,a=0,l=t.length-1;n?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=Qt(t,"pos",e)),({pos:i,time:s}=t[a]),({pos:r,time:o}=t[l])):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=Qt(t,"time",e)),({time:i,pos:s}=t[a]),({time:r,pos:o}=t[l]));const c=r-i;return c?s+(o-s)*(e-i)/c:s}class kc extends xc{static id="timeseries";static defaults=xc.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Sc(e,this.min),this._tableRange=Sc(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,i=[],r=[];let s,o,a,l,c;for(s=0,o=t.length;s<o;++s)l=t[s],l>=e&&l<=n&&i.push(l);if(i.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,o=i.length;s<o;++s)c=i[s+1],a=i[s-1],l=i[s],Math.round((c+a)/2)!==l&&r.push({time:l,pos:s/(o-1)});return r}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Sc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return Sc(this._table,n*this._tableRange+this._minPos,!0)}}var Ic=Object.freeze({__proto__:null,CategoryScale:Bl,LinearScale:$l,LogarithmicScale:Xl,RadialLinearScale:hc,TimeScale:xc,TimeSeriesScale:kc});const Ec=[_r,la,Ll,Ic];To.register(...Ec);var Tc=To},5827:function(t,e,n){"use strict";n.d(e,{IH:function(){return ye}});var i=n(9893),r=n(2002),s=n(9840),o=n(9661),a=n(3073);const l="@firebase/installations",c="0.6.0",u=1e4,h=`w:${c}`,d="FIS_v2",f="https://firebaseinstallations.googleapis.com/v1",p=36e5,g="installations",m="Installations",v={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},y=new s.LL(g,m,v);function b(t){return t instanceof s.ZR&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w({projectId:t}){return`${f}/projects/${t}/installations`}function _(t){return{token:t.token,requestStatus:2,expiresIn:E(t.expiresIn),creationTime:Date.now()}}async function x(t,e){const n=await e.json(),i=n.error;return y.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function S({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function k(t,{refreshToken:e}){const n=S(t);return n.append("Authorization",T(e)),n}async function I(t){const e=await t();return e.status>=500&&e.status<600?t():e}function E(t){return Number(t.replace("s","000"))}function T(t){return`${d} ${t}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=w(t),r=S(t),s=e.getImmediate({optional:!0});if(s){const t=await s.getHeartbeatsHeader();t&&r.append("x-firebase-client",t)}const o={fid:n,authVersion:d,appId:t.appId,sdkVersion:h},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await I((()=>fetch(i,a)));if(l.ok){const t=await l.json(),e={fid:t.fid||n,registrationStatus:2,refreshToken:t.refreshToken,authToken:_(t.authToken)};return e}throw await x("Create Installation",l)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(t){return new Promise((e=>{setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(t){const e=btoa(String.fromCharCode(...t));return e.replace(/\+/g,"-").replace(/\//g,"_")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D=/^[cdef][\w-]{21}$/,O="";function P(){try{const t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;const n=R(t);return D.test(n)?n:O}catch(t){return O}}function R(t){const e=M(t);return e.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(t){return`${t.appName}!${t.appId}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=new Map;function F(t,e){const n=L(t);V(n,e),q(n,e)}function V(t,e){const n=N.get(t);if(n)for(const i of n)i(e)}function q(t,e){const n=j();n&&n.postMessage({key:t,fid:e}),z()}let B=null;function j(){return!B&&"BroadcastChannel"in self&&(B=new BroadcastChannel("[Firebase] FID Change"),B.onmessage=t=>{V(t.data.key,t.data.fid)}),B}function z(){0===N.size&&B&&(B.close(),B=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U="firebase-installations-database",$=1,H="firebase-installations-store";let W=null;function K(){return W||(W=(0,a.X3)(U,$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(H)}}})),W}async function G(t,e){const n=L(t),i=await K(),r=i.transaction(H,"readwrite"),s=r.objectStore(H),o=await s.get(n);return await s.put(e,n),await r.done,o&&o.fid===e.fid||F(t,e.fid),e}async function Y(t){const e=L(t),n=await K(),i=n.transaction(H,"readwrite");await i.objectStore(H).delete(e),await i.done}async function Q(t,e){const n=L(t),i=await K(),r=i.transaction(H,"readwrite"),s=r.objectStore(H),o=await s.get(n),a=e(o);return void 0===a?await s.delete(n):await s.put(a,n),await r.done,!a||o&&o.fid===a.fid||F(t,a.fid),a}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X(t){let e;const n=await Q(t.appConfig,(n=>{const i=Z(n),r=J(t,i);return e=r.registrationPromise,r.installationEntry}));return n.fid===O?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Z(t){const e=t||{fid:P(),registrationStatus:0};return it(e)}function J(t,e){if(0===e.registrationStatus){if(!navigator.onLine){const t=Promise.reject(y.create("app-offline"));return{installationEntry:e,registrationPromise:t}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=tt(t,n);return{installationEntry:n,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:et(t)}:{installationEntry:e}}async function tt(t,e){try{const n=await C(t,e);return G(t.appConfig,n)}catch(n){throw b(n)&&409===n.customData.serverCode?await Y(t.appConfig):await G(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function et(t){let e=await nt(t.appConfig);while(1===e.registrationStatus)await A(100),e=await nt(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await X(t);return n||e}return e}function nt(t){return Q(t,(t=>{if(!t)throw y.create("installation-not-found");return it(t)}))}function it(t){return rt(t)?{fid:t.fid,registrationStatus:0}:t}function rt(t){return 1===t.registrationStatus&&t.registrationTime+u<Date.now()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function st({appConfig:t,heartbeatServiceProvider:e},n){const i=ot(t,n),r=k(t,n),s=e.getImmediate({optional:!0});if(s){const t=await s.getHeartbeatsHeader();t&&r.append("x-firebase-client",t)}const o={installation:{sdkVersion:h,appId:t.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},l=await I((()=>fetch(i,a)));if(l.ok){const t=await l.json(),e=_(t);return e}throw await x("Generate Auth Token",l)}function ot(t,{fid:e}){return`${w(t)}/${e}/authTokens:generate`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function at(t,e=!1){let n;const i=await Q(t.appConfig,(i=>{if(!ht(i))throw y.create("not-registered");const r=i.authToken;if(!e&&dt(r))return i;if(1===r.requestStatus)return n=lt(t,e),i;{if(!navigator.onLine)throw y.create("app-offline");const e=pt(i);return n=ut(t,e),e}})),r=n?await n:i.authToken;return r}async function lt(t,e){let n=await ct(t.appConfig);while(1===n.authToken.requestStatus)await A(100),n=await ct(t.appConfig);const i=n.authToken;return 0===i.requestStatus?at(t,e):i}function ct(t){return Q(t,(t=>{if(!ht(t))throw y.create("not-registered");const e=t.authToken;return gt(e)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t}))}async function ut(t,e){try{const n=await st(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await G(t.appConfig,i),n}catch(n){if(!b(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await G(t.appConfig,n)}else await Y(t.appConfig);throw n}}function ht(t){return void 0!==t&&2===t.registrationStatus}function dt(t){return 2===t.requestStatus&&!ft(t)}function ft(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+p}function pt(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function gt(t){return 1===t.requestStatus&&t.requestTime+u<Date.now()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mt(t){const e=t,{installationEntry:n,registrationPromise:i}=await X(e);return i?i.catch(console.error):at(e).catch(console.error),n.fid}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vt(t,e=!1){const n=t;await yt(n);const i=await at(n,e);return i.token}async function yt(t){const{registrationPromise:e}=await X(t);e&&await e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function bt(t){if(!t||!t.options)throw wt("App Configuration");if(!t.name)throw wt("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw wt(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function wt(t){return y.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="installations",xt="installations-internal",St=t=>{const e=t.getProvider("app").getImmediate(),n=bt(e),r=(0,i.qX)(e,"heartbeat"),s={app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()};return s},kt=t=>{const e=t.getProvider("app").getImmediate(),n=(0,i.qX)(e,_t).getImmediate(),r={getId:()=>mt(n),getToken:t=>vt(n,t)};return r};function It(){(0,i.Xd)(new o.wA(_t,St,"PUBLIC")),(0,i.Xd)(new o.wA(xt,kt,"PRIVATE"))}It(),(0,i.KN)(l,c),(0,i.KN)(l,c,"esm2017");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Et="analytics",Tt="firebase_id",Ct="origin",At=6e4,Mt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dt="https://www.googletagmanager.com/gtag/js",Ot=new r.Yd("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Pt(t){return Promise.all(t.map((t=>t.catch((t=>t)))))}function Rt(t,e){const n=document.createElement("script");n.src=`${Dt}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function Lt(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Nt(t,e,n,i,r,s){const o=i[r];try{if(o)await e[o];else{const t=await Pt(n),i=t.find((t=>t.measurementId===r));i&&await e[i.appId]}}catch(a){Ot.error(a)}t("config",r,s)}async function Ft(t,e,n,i,r){try{let s=[];if(r&&r["send_to"]){let t=r["send_to"];Array.isArray(t)||(t=[t]);const i=await Pt(n);for(const n of t){const t=i.find((t=>t.measurementId===n)),r=t&&e[t.appId];if(!r){s=[];break}s.push(r)}}0===s.length&&(s=Object.values(e)),await Promise.all(s),t("event",i,r||{})}catch(s){Ot.error(s)}}function Vt(t,e,n,i){async function r(r,s,o){try{"event"===r?await Ft(t,e,n,s,o):"config"===r?await Nt(t,e,n,i,s,o):"consent"===r?t("consent","update",o):t("set",s)}catch(a){Ot.error(a)}}return r}function qt(t,e,n,i,r){let s=function(...t){window[i].push(arguments)};return window[r]&&"function"===typeof window[r]&&(s=window[r]),window[r]=Vt(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}function Bt(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Dt)&&n.src.includes(t))return n;return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},zt=new s.LL("analytics","Analytics",jt),Ut=30,$t=1e3;class Ht{constructor(t={},e=$t){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Wt=new Ht;function Kt(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Gt(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:Kt(i)},s=Mt.replace("{app-id}",n),o=await fetch(s,r);if(200!==o.status&&304!==o.status){let t="";try{const n=await o.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(a){}throw zt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()}async function Yt(t,e=Wt,n){const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw zt.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw zt.create("no-api-key")}const o=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Jt;return setTimeout((async()=>{a.abort()}),void 0!==n?n:At),Qt({appId:i,apiKey:r,measurementId:s},o,a,e)}async function Qt(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=Wt){var o;const{appId:a,measurementId:l}=t;try{await Xt(i,e)}catch(c){if(l)return Ot.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===c||void 0===c?void 0:c.message}]`),{appId:a,measurementId:l};throw c}try{const e=await Gt(t);return r.deleteThrottleMetadata(a),e}catch(c){const e=c;if(!Zt(e)){if(r.deleteThrottleMetadata(a),l)return Ot.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===e||void 0===e?void 0:e.message}]`),{appId:a,measurementId:l};throw c}const u=503===Number(null===(o=null===e||void 0===e?void 0:e.customData)||void 0===o?void 0:o.httpStatus)?(0,s.$s)(n,r.intervalMillis,Ut):(0,s.$s)(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return r.setThrottleMetadata(a,h),Ot.debug(`Calling attemptFetch again in ${u} millis`),Qt(t,h,i,r)}}function Xt(t,e){return new Promise(((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener((()=>{clearTimeout(s),i(zt.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}function Zt(t){if(!(t instanceof s.ZR)||!t.customData)return!1;const e=Number(t.customData["httpStatus"]);return 429===e||500===e||503===e||504===e}class Jt{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach((t=>t()))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let te,ee;async function ne(t,e,n,i,r){if(r&&r.global)t("event",n,i);else{const r=await e,s=Object.assign(Object.assign({},i),{send_to:r});t("event",n,s)}}function ie(t){ee=t}function re(t){te=t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function se(){if(!(0,s.hl)())return Ot.warn(zt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await(0,s.eu)()}catch(t){return Ot.warn(zt.create("indexeddb-unavailable",{errorInfo:null===t||void 0===t?void 0:t.toString()}).message),!1}return!0}async function oe(t,e,n,i,r,s,o){var a;const l=Yt(t);l.then((e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Ot.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((t=>Ot.error(t))),e.push(l);const c=se().then((t=>t?i.getId():void 0)),[u,h]=await Promise.all([l,c]);Bt(s)||Rt(s,u.measurementId),ee&&(r("consent","default",ee),ie(void 0)),r("js",new Date);const d=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return d[Ct]="firebase",d.update=!0,null!=h&&(d[Tt]=h),r("config",u.measurementId,d),te&&(r("set",te),re(void 0)),u.measurementId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t){this.app=t}_delete(){return delete le[this.app.options.appId],Promise.resolve()}}let le={},ce=[];const ue={};let he,de,fe="dataLayer",pe="gtag",ge=!1;function me(){const t=[];if((0,s.ru)()&&t.push("This is a browser extension environment."),(0,s.zI)()||t.push("Cookies are not available."),t.length>0){const e=t.map(((t,e)=>`(${e+1}) ${t}`)).join(" "),n=zt.create("invalid-analytics-context",{errorInfo:e});Ot.warn(n.message)}}function ve(t,e,n){me();const i=t.options.appId;if(!i)throw zt.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw zt.create("no-api-key");Ot.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=le[i])throw zt.create("already-exists",{id:i});if(!ge){Lt(fe);const{wrappedGtag:t,gtagCore:e}=qt(le,ce,ue,fe,pe);de=t,he=e,ge=!0}le[i]=oe(t,ce,ue,e,he,fe,n);const r=new ae(t);return r}function ye(t=(0,i.Mq)()){t=(0,s.m9)(t);const e=(0,i.qX)(t,Et);return e.isInitialized()?e.getImmediate():be(t)}function be(t,e={}){const n=(0,i.qX)(t,Et);if(n.isInitialized()){const t=n.getImmediate();if((0,s.vZ)(e,n.getOptions()))return t;throw zt.create("already-initialized")}const r=n.initialize({options:e});return r}function we(t,e,n,i){t=(0,s.m9)(t),ne(de,le[t.app.options.appId],e,n,i).catch((t=>Ot.error(t)))}const _e="@firebase/analytics",xe="0.9.0";function Se(){function t(t){try{const e=t.getProvider(Et).getImmediate();return{logEvent:(t,n,i)=>we(e,t,n,i)}}catch(e){throw zt.create("interop-component-reg-failed",{reason:e})}}(0,i.Xd)(new o.wA(Et,((t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return ve(n,i,e)}),"PUBLIC")),(0,i.Xd)(new o.wA("analytics-internal",t,"PRIVATE")),(0,i.KN)(_e,xe),(0,i.KN)(_e,xe,"esm2017")}Se()},5327:function(t,e,n){"use strict";n.d(e,{ZF:function(){return i.ZF}});var i=n(9893),r="firebase",s="9.15.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(0,i.KN)(r,s,"app")},1223:function(t,e,n){"use strict";n.d(e,{hJ:function(){return ne},v0:function(){return vi},rh:function(){return dn}});var i=n(9840),r=n(9893),s=n(2002);function o(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}Object.create;Object.create;var a=n(9661);function l(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c=l,u=new i.LL("auth","Firebase",l()),h=new s.Yd("@firebase/auth");function d(t,...e){h.logLevel<=s["in"].ERROR&&h.error(`Auth (${r.Jn}): ${t}`,...e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(t,...e){throw v(t,...e)}function p(t,...e){return v(t,...e)}function g(t,e,n){const r=Object.assign(Object.assign({},c()),{[e]:n}),s=new i.LL("auth","Firebase",r);return s.create(e,{appName:t.name})}function m(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&f(t,"argument-error"),g(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function v(t,...e){if("string"!==typeof t){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return u.create(t,...e)}function y(t,e,...n){if(!t)throw v(e,...n)}function b(t){const e="INTERNAL ASSERTION FAILED: "+t;throw d(e),new Error(e)}function w(t,e){t||b(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _=new Map;function x(t){w(t instanceof Function,"Expected a class definition");let e=_.get(t);return e?(w(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_.set(t,e),e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S(t,e){const n=(0,r.qX)(t,"auth");if(n.isInitialized()){const t=n.getImmediate(),r=n.getOptions();if((0,i.vZ)(r,null!==e&&void 0!==e?e:{}))return t;f(t,"already-initialized")}const s=n.initialize({options:e});return s}function k(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(x);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,null===e||void 0===e?void 0:e.popupRedirectResolver)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function E(){return"http:"===T()||"https:"===T()}function T(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(E()||(0,i.ru)()||"connection"in navigator))||navigator.onLine}function A(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(t,e){this.shortDelay=t,this.longDelay=e,w(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return C()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(t,e){w(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void b("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void b("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void b("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"internal-error",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error"},R=new M(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function N(t,e,n,r,s={}){return F(t,s,(async()=>{let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=(0,i.xO)(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),O.fetch()(q(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))}async function F(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},P),e);try{const e=new B(t),i=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw j(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const e=i.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw j(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw j(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw j(t,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw g(t,a,o);f(t,a)}}catch(s){if(s instanceof i.ZR)throw s;f(t,"network-request-failed")}}async function V(t,e,n,i,r={}){const s=await N(t,e,n,i,r);return"mfaPendingCredential"in s&&f(t,"multi-factor-auth-required",{_serverResponse:s}),s}function q(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?D(t.config,r):`${t.config.apiScheme}://${r}`}class B{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(p(this.auth,"network-request-failed"))),R.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function j(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=p(t,e,i);return r.customData._tokenResponse=n,r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z(t,e){return N(t,"POST","/v1/accounts:delete",e)}async function U(t,e){return N(t,"POST","/v1/accounts:lookup",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H(t,e=!1){const n=(0,i.m9)(t),r=await n.getIdToken(e),s=K(r);y(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o="object"===typeof s.firebase?s.firebase:void 0,a=null===o||void 0===o?void 0:o["sign_in_provider"];return{claims:s,token:r,authTime:$(W(s.auth_time)),issuedAtTime:$(W(s.iat)),expirationTime:$(W(s.exp)),signInProvider:a||null,signInSecondFactor:(null===o||void 0===o?void 0:o["sign_in_second_factor"])||null}}function W(t){return 1e3*Number(t)}function K(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return d("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,i.tV)(n);return t?JSON.parse(t):(d("Failed to decode base64 JWT payload"),null)}catch(s){return d("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function G(t){const e=K(t);return y(e,"internal-error"),y("undefined"!==typeof e.exp,"internal-error"),y("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof i.ZR&&Q(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Q({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0,n=t-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null===t||void 0===t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=$(this.lastLoginAt),this.creationTime=$(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Y(t,U(n,{idToken:i}));y(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?nt(s.providerUserInfo):[],a=et(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),u=!!l&&c,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Z(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function tt(t){const e=(0,i.m9)(t);await J(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function et(t,e){const n=t.filter((t=>!e.some((e=>e.providerId===t.providerId))));return[...n,...e]}function nt(t){return t.map((t=>{var{providerId:e}=t,n=o(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function it(t,e){const n=await F(t,{},(async()=>{const n=(0,i.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=q(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",O.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){y(t.idToken,"internal-error"),y("undefined"!==typeof t.idToken,"internal-error"),y("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):G(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return y(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:i,expiresIn:r}=await it(t,e);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:r}=e,s=new rt;return n&&(y("string"===typeof n,"internal-error",{appName:t}),s.refreshToken=n),i&&(y("string"===typeof i,"internal-error",{appName:t}),s.accessToken=i),r&&(y("number"===typeof r,"internal-error",{appName:t}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return b("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t,e){y("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class ot{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,r=o(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Z(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Y(this,this.stsTokenManager.getToken(this.auth,t));return y(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return H(this,t)}reload(){return tt(this)}_assign(t){this!==t&&(y(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new ot(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await J(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Y(this,z(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,r,s,o,a,l,c;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(i=e.email)&&void 0!==i?i:void 0,d=null!==(r=e.phoneNumber)&&void 0!==r?r:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,g=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=e.createdAt)&&void 0!==l?l:void 0,v=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:_,providerData:x,stsTokenManager:S}=e;y(b&&S,t,"internal-error");const k=rt.fromJSON(this.name,S);y("string"===typeof b,t,"internal-error"),st(u,t.name),st(h,t.name),y("boolean"===typeof w,t,"internal-error"),y("boolean"===typeof _,t,"internal-error"),st(d,t.name),st(f,t.name),st(p,t.name),st(g,t.name),st(m,t.name),st(v,t.name);const I=new ot({uid:b,auth:t,email:h,emailVerified:w,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:m,lastLoginAt:v});return x&&Array.isArray(x)&&(I.providerData=x.map((t=>Object.assign({},t)))),g&&(I._redirectEventId=g),I}static async _fromIdTokenResponse(t,e,n=!1){const i=new rt;i.updateFromServerResponse(e);const r=new ot({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await J(r),r}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}at.type="NONE";const lt=at;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t,e,n){return`firebase:${t}:${e}:${n}`}class ut{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=ct(this.userKey,i.apiKey,r),this.fullPersistenceKey=ct("persistence",i.apiKey,r),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ot._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new ut(x(lt),t,n);const i=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let r=i[0]||x(lt);const s=ct(n,t.config.apiKey,t.name);let o=null;for(const c of e)try{const e=await c._get(s);if(e){const n=ot._fromJSON(t,e);c!==r&&(o=n),r=c;break}}catch(l){}const a=i.filter((t=>t._shouldAllowMigration));return r._shouldAllowMigration&&a.length?(r=a[0],o&&await r._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==r)try{await t._remove(s)}catch(l){}}))),new ut(r,t,n)):new ut(r,t,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gt(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dt(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vt(e))return"Blackberry";if(yt(e))return"Webos";if(ft(e))return"Safari";if((e.includes("chrome/")||pt(e))&&!e.includes("edge/"))return"Chrome";if(mt(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function dt(t=(0,i.z$)()){return/firefox\//i.test(t)}function ft(t=(0,i.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pt(t=(0,i.z$)()){return/crios\//i.test(t)}function gt(t=(0,i.z$)()){return/iemobile/i.test(t)}function mt(t=(0,i.z$)()){return/android/i.test(t)}function vt(t=(0,i.z$)()){return/blackberry/i.test(t)}function yt(t=(0,i.z$)()){return/webos/i.test(t)}function bt(t=(0,i.z$)()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wt(t=(0,i.z$)()){var e;return bt(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function _t(){return(0,i.w1)()&&10===document.documentMode}function xt(t=(0,i.z$)()){return bt(t)||mt(t)||yt(t)||vt(t)||/windows phone/i.test(t)||gt(t)}function St(){try{return!(!window||window===window.top)}catch(t){return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,e=[]){let n;switch(t){case"Browser":n=ht((0,i.z$)());break;case"Worker":n=`${ht((0,i.z$)())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${r.Jn}/${s}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,i)=>{try{const i=t(e);n(i)}catch(r){i(r)}}));n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(const t of e)try{t()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t,e,n){this.app=t,this.heartbeatServiceProvider=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ct(this),this.idTokenSubscription=new Ct(this),this.beforeStateQueue=new It(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=x(e)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await ut.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUser(t){var e;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(t);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(i=o.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return y(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(n){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await J(t)}catch(e){if("auth/network-request-failed"!==(null===e||void 0===e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=A()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?(0,i.m9)(t):null;return e&&y(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&y(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence(x(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new i.LL("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&x(t)||this._popupRedirectResolver;y(e,this,"argument-error"),this.redirectPersistenceManager=await ut.create(this,[x(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const r="function"===typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return y(s,this,"internal-error"),s.then((()=>r(this.currentUser))),"function"===typeof e?t.addObserver(e,n,i):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());return n&&(e["X-Firebase-Client"]=n),e}}function Tt(t){return(0,i.m9)(t)}class Ct{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,i.ne)((t=>this.observer=t))}get next(){return y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function At(t,e,n){const i=Tt(t);y(i._canInitEmulator,i,"emulator-config-failed"),y(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Mt(e),{host:o,port:a}=Dt(e),l=null===a?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Pt()}function Mt(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Dt(t){const e=Mt(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const t=r[1];return{host:t,port:Ot(i.substr(t.length+1))}}{const[t,e]=i.split(":");return{host:t,port:Ot(e)}}}function Ot(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Pt(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return b("not implemented")}_getIdTokenResponse(t){return b("not implemented")}_linkToIdToken(t,e){return b("not implemented")}_getReauthenticationResolver(t){return b("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lt(t,e){return N(t,"POST","/v1/accounts:update",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Nt(t,e){return V(t,"POST","/v1/accounts:signInWithPassword",L(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Ft(t,e){return V(t,"POST","/v1/accounts:signInWithEmailLink",L(t,e))}async function Vt(t,e){return V(t,"POST","/v1/accounts:signInWithEmailLink",L(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt extends Rt{constructor(t,e,n,i=null){super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new qt(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new qt(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return Nt(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Ft(t,{email:this._email,oobCode:this._password});default:f(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Lt(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Vt(t,{idToken:e,email:this._email,oobCode:this._password});default:f(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bt(t,e){return V(t,"POST","/v1/accounts:signInWithIdp",L(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="http://localhost";class zt extends Rt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new zt(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):f("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,r=o(e,["providerId","signInMethod"]);if(!n||!i)return null;const s=new zt(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(t){const e=this.buildRequest();return Bt(t,e)}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Bt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Bt(t,e)}buildRequest(){const t={requestUri:jt,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e["id_token"]=this.idToken),this.accessToken&&(e["access_token"]=this.accessToken),this.secret&&(e["oauth_token_secret"]=this.secret),e["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(e["nonce"]=this.nonce),t.postBody=(0,i.xO)(e)}return t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ut(t,e){return N(t,"POST","/v1/accounts:sendVerificationCode",L(t,e))}async function $t(t,e){return V(t,"POST","/v1/accounts:signInWithPhoneNumber",L(t,e))}async function Ht(t,e){const n=await V(t,"POST","/v1/accounts:signInWithPhoneNumber",L(t,e));if(n.temporaryProof)throw j(t,"account-exists-with-different-credential",n);return n}const Wt={["USER_NOT_FOUND"]:"user-not-found"};async function Kt(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return V(t,"POST","/v1/accounts:signInWithPhoneNumber",L(t,n),Wt)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt extends Rt{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new Gt({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new Gt({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return $t(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return Ht(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return Kt(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:i}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}=t;return n||e||i||r?new Gt({verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Qt(t){const e=(0,i.zd)((0,i.pd)(t))["link"],n=e?(0,i.zd)((0,i.pd)(e))["deep_link_id"]:null,r=(0,i.zd)((0,i.pd)(t))["deep_link_id"],s=r?(0,i.zd)((0,i.pd)(r))["link"]:null;return s||r||n||e||t}class Xt{constructor(t){var e,n,r,s,o,a;const l=(0,i.zd)((0,i.pd)(t)),c=null!==(e=l["apiKey"])&&void 0!==e?e:null,u=null!==(n=l["oobCode"])&&void 0!==n?n:null,h=Yt(null!==(r=l["mode"])&&void 0!==r?r:null);y(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=null!==(s=l["continueUrl"])&&void 0!==s?s:null,this.languageCode=null!==(o=l["languageCode"])&&void 0!==o?o:null,this.tenantId=null!==(a=l["tenantId"])&&void 0!==a?a:null}static parseLink(t){const e=Qt(t);try{return new Xt(e)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Zt{constructor(){this.providerId=Zt.PROVIDER_ID}static credential(t,e){return qt._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=Xt.parseLink(e);return y(n,"argument-error"),qt._fromEmailAndCode(t,n.code,n.tenantId)}}Zt.PROVIDER_ID="password",Zt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Zt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Jt{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te extends Jt{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ee extends te{constructor(){super("facebook.com")}static credential(t){return zt._fromParams({providerId:ee.PROVIDER_ID,signInMethod:ee.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ee.credentialFromTaggedObject(t)}static credentialFromError(t){return ee.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ee.credential(t.oauthAccessToken)}catch(e){return null}}}ee.FACEBOOK_SIGN_IN_METHOD="facebook.com",ee.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ne extends te{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return zt._fromParams({providerId:ne.PROVIDER_ID,signInMethod:ne.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ne.credentialFromTaggedObject(t)}static credentialFromError(t){return ne.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return ne.credential(e,n)}catch(i){return null}}}ne.GOOGLE_SIGN_IN_METHOD="google.com",ne.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ie extends te{constructor(){super("github.com")}static credential(t){return zt._fromParams({providerId:ie.PROVIDER_ID,signInMethod:ie.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ie.credentialFromTaggedObject(t)}static credentialFromError(t){return ie.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ie.credential(t.oauthAccessToken)}catch(e){return null}}}ie.GITHUB_SIGN_IN_METHOD="github.com",ie.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class re extends te{constructor(){super("twitter.com")}static credential(t,e){return zt._fromParams({providerId:re.PROVIDER_ID,signInMethod:re.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return re.credentialFromTaggedObject(t)}static credentialFromError(t){return re.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return re.credential(e,n)}catch(i){return null}}}re.TWITTER_SIGN_IN_METHOD="twitter.com",re.PROVIDER_ID="twitter.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class se{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,i=!1){const r=await ot._fromIdTokenResponse(t,n,i),s=oe(n),o=new se({user:r,providerId:s,_tokenResponse:n,operationType:e});return o}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const i=oe(n);return new se({user:t,providerId:i,_tokenResponse:n,operationType:e})}}function oe(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ae extends i.ZR{constructor(t,e,n,i){var r;super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,ae.prototype),this.customData={appName:t.name,tenantId:null!==(r=t.tenantId)&&void 0!==r?r:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new ae(t,e,n,i)}}function le(t,e,n,i){const r="reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t);return r.catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw ae._fromErrorAndOperation(t,n,e,i);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ce(t,e,n=!1){const i=await Y(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return se._forOperation(t,"link",i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ue(t,e,n=!1){const{auth:i}=t,r="reauthenticate";try{const s=await Y(t,le(i,r,e,t),n);y(s.idToken,i,"internal-error");const o=K(s.idToken);y(o,i,"internal-error");const{sub:a}=o;return y(t.uid===a,i,"user-mismatch"),se._forOperation(t,r,s)}catch(s){throw"auth/user-not-found"===(null===s||void 0===s?void 0:s.code)&&f(i,"user-mismatch"),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function he(t,e,n=!1){const i="signIn",r=await le(t,i,e),s=await se._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}function de(t,e,n,r){return(0,i.m9)(t).onIdTokenChanged(e,n,r)}function fe(t,e,n){return(0,i.m9)(t).beforeAuthStateChanged(e,n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function pe(t,e){return N(t,"POST","/v2/accounts/mfaEnrollment:start",L(t,e))}function ge(t,e){return N(t,"POST","/v2/accounts/mfaEnrollment:finalize",L(t,e))}new WeakMap;const me="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(me,"1"),this.storage.removeItem(me),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(){const t=(0,i.z$)();return ft(t)||bt(t)}const be=1e3,we=10;class _e extends ve{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=ye()&&St(),this.fallbackToPolling=xt(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),i=this.localCache[e];n!==i&&t(e,i,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(t.newValue!==i)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const i=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},r=this.storage.getItem(n);_t()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,we):i()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),be)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}_e.type="LOCAL";const xe=_e;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se extends ve{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Se.type="SESSION";const ke=Se;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(t){return Promise.all(t.map((async t=>{try{const e=await t;return{fulfilled:!0,value:e}}catch(e){return{fulfilled:!1,reason:e}}})))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new Ee(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:i,data:r}=e.data,s=this.handlersMap[i];if(!(null===s||void 0===s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map((async t=>t(e.origin,r))),a=await Ie(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Te(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(10*Math.random());return t+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ee.receivers=[];class Ce{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((o,a)=>{const l=Te("",20);i.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(t){const e=t;if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),o(e.data.response);break;default:clearTimeout(c),clearTimeout(r),a(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(){return window}function Me(t){Ae().location.href=t}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(){return"undefined"!==typeof Ae()["WorkerGlobalScope"]&&"function"===typeof Ae()["importScripts"]}async function Oe(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{const t=await navigator.serviceWorker.ready;return t.active}catch(t){return null}}function Pe(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}function Re(){return De()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Le="firebaseLocalStorageDb",Ne=1,Fe="firebaseLocalStorage",Ve="fbase_key";class qe{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Be(t,e){return t.transaction([Fe],e?"readwrite":"readonly").objectStore(Fe)}function je(){const t=indexedDB.deleteDatabase(Le);return new qe(t).toPromise()}function ze(){const t=indexedDB.open(Le,Ne);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(Fe,{keyPath:Ve})}catch(i){n(i)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(Fe)?e(n):(n.close(),await je(),e(await ze()))}))}))}async function Ue(t,e,n){const i=Be(t,!0).put({[Ve]:e,value:n});return new qe(i).toPromise()}async function $e(t,e){const n=Be(t,!1).get(e),i=await new qe(n).toPromise();return void 0===i?null:i.value}function He(t,e){const n=Be(t,!0).delete(e);return new qe(n).toPromise()}const We=800,Ke=3;class Ge{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ze()),this.db}async _withRetries(t){let e=0;while(1)try{const e=await this._openDb();return await t(e)}catch(n){if(e++>Ke)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return De()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ee._getInstance(Re()),this.receiver._subscribe("keyChanged",(async(t,e)=>{const n=await this._poll();return{keyProcessed:n.includes(e.key)}})),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await Oe(),!this.activeServiceWorker)return;this.sender=new Ce(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&Pe()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ze();return await Ue(t,me,"1"),await He(t,me),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ue(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>$e(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>He(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Be(t,!1).getAll();return new qe(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:i,value:r}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),e.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),e.push(i));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),We)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ge.type="LOCAL";const Ye=Ge;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e){return N(t,"POST","/v2/accounts/mfaSignIn:start",L(t,e))}function Xe(t,e){return N(t,"POST","/v2/accounts/mfaSignIn:finalize",L(t,e))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ze(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}function Je(t){return new Promise(((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=t=>{const e=p("internal-error");e.customData=t,n(e)},i.type="text/javascript",i.charset="UTF-8",Ze().appendChild(i)}))}function tn(t){return`__${t}${Math.floor(1e6*Math.random())}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
tn("rcb"),new M(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const en="recaptcha";async function nn(t,e,n){var i;const r=await n.verify();try{let s;if(y("string"===typeof r,t,"argument-error"),y(n.type===en,t,"argument-error"),s="string"===typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){y("enroll"===e.type,t,"internal-error");const n=await pe(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{y("signin"===e.type,t,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;y(n,t,"missing-multi-factor-info");const o=await Qe(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await Ut(t,{phoneNumber:s.phoneNumber,recaptchaToken:r});return e}}finally{n._reset()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rn{constructor(t){this.providerId=rn.PROVIDER_ID,this.auth=Tt(t)}verifyPhoneNumber(t,e){return nn(this.auth,t,(0,i.m9)(e))}static credential(t,e){return Gt._fromVerification(t,e)}static credentialFromResult(t){const e=t;return rn.credentialFromTaggedObject(e)}static credentialFromError(t){return rn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?Gt._fromTokenResponse(e,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function sn(t,e){return e?x(e):(y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.PROVIDER_ID="phone",rn.PHONE_SIGN_IN_METHOD="phone";class on extends Rt{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Bt(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Bt(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Bt(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function an(t){return he(t.auth,new on(t),t.bypassAuthState)}function ln(t){const{auth:e,user:n}=t;return y(n,e,"internal-error"),ue(n,new on(t),t.bypassAuthState)}async function cn(t){const{auth:e,user:n}=t;return y(n,e,"internal-error"),ce(n,new on(t),t.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t,e,n,i,r=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:i,tenantId:r,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return an;case"linkViaPopup":case"linkViaRedirect":return cn;case"reauthViaPopup":case"reauthViaRedirect":return ln;default:f(this.auth,"internal-error")}}resolve(t){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new M(2e3,1e4);async function dn(t,e,n){const i=Tt(t);m(t,e,Jt);const r=sn(i,n),s=new fn(i,"signInViaPopup",e,r);return s.executeNotNull()}class fn extends un{constructor(t,e,n,i,r){super(t,e,i,r),this.provider=n,this.authWindow=null,this.pollId=null,fn.currentPopupAction&&fn.currentPopupAction.cancel(),fn.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return y(t,this.auth,"internal-error"),t}async onExecution(){w(1===this.filter.length,"Popup operations only handle one event");const t=Te();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(p(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(p(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fn.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(p(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(t,hn.get())};t()}}fn.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const pn="pendingRedirect",gn=new Map;class mn extends un{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=gn.get(this.auth._key());if(!t){try{const e=await vn(this.resolver,this.auth),n=e?await super.execute():null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}gn.set(this.auth._key(),t)}return this.bypassAuthState||gn.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function vn(t,e){const n=wn(e),i=bn(t);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}function yn(t,e){gn.set(t._key(),e)}function bn(t){return x(t._redirectPersistence)}function wn(t){return ct(pn,t.config.apiKey,t.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _n(t,e,n=!1){const i=Tt(t),r=sn(i,e),s=new mn(i,r,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const xn=6e5;class Sn{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!En(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!In(t)){const i=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(p(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xn&&this.cachedEventUids.clear(),this.cachedEventUids.has(kn(t))}saveEventToCache(t){this.cachedEventUids.add(kn(t)),this.lastProcessedEventTime=Date.now()}}function kn(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function In({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null===e||void 0===e?void 0:e.code)}function En(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return In(t);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tn(t,e={}){return N(t,"GET","/v1/projects",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,An=/^https?/;async function Mn(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Tn(t);for(const i of e)try{if(Dn(i))return}catch(n){}f(t,"unauthorized-domain")}function Dn(t){const e=I(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const r=new URL(t);return""===r.hostname&&""===i?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!An.test(n))return!1;if(Cn.test(t))return i===t;const r=t.replace(/\./g,"\\."),s=new RegExp("^(.+\\."+r+"|"+r+")$","i");return s.test(i)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new M(3e4,6e4);function Pn(){const t=Ae().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}function Rn(t){return new Promise(((e,n)=>{var i,r,s;function o(){Pn(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Pn(),n(p(t,"network-request-failed"))},timeout:On.get()})}if(null===(r=null===(i=Ae().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Ae().gapi)||void 0===s?void 0:s.load)){const e=tn("iframefcb");return Ae()[e]=()=>{gapi.load?o():n(p(t,"network-request-failed"))},Je(`https://apis.google.com/js/api.js?onload=${e}`).catch((t=>n(t)))}o()}})).catch((t=>{throw Ln=null,t}))}let Ln=null;function Nn(t){return Ln=Ln||Rn(t),Ln}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new M(5e3,15e3),Vn="__/auth/iframe",qn="emulator/auth/iframe",Bn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jn=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zn(t){const e=t.config;y(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?D(e,qn):`https://${t.config.authDomain}/${Vn}`,s={apiKey:e.apiKey,appName:t.name,v:r.Jn},o=jn.get(t.config.apiHost);o&&(s.eid=o);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${n}?${(0,i.xO)(s).slice(1)}`}async function Un(t){const e=await Nn(t),n=Ae().gapi;return y(n,t,"internal-error"),e.open({where:document.body,url:zn(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Bn,dontclear:!0},(e=>new Promise((async(n,i)=>{await e.restyle({setHideOnLeave:!1});const r=p(t,"network-request-failed"),s=Ae().setTimeout((()=>{i(r)}),Fn.get());function o(){Ae().clearTimeout(s),n(e)}e.ping(o).then(o,(()=>{i(r)}))}))))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hn=500,Wn=600,Kn="_blank",Gn="http://localhost";class Yn{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function Qn(t,e,n,r=Hn,s=Wn){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},$n),{width:r.toString(),height:s.toString(),top:o,left:a}),u=(0,i.z$)().toLowerCase();n&&(l=pt(u)?Kn:n),dt(u)&&(e=e||Gn,c.scrollbars="yes");const h=Object.entries(c).reduce(((t,[e,n])=>`${t}${e}=${n},`),"");if(wt(u)&&"_self"!==l)return Xn(e||"",l),new Yn(null);const d=window.open(e||"",l,h);y(d,t,"popup-blocked");try{d.focus()}catch(f){}return new Yn(d)}function Xn(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zn="__/auth/handler",Jn="emulator/auth/handler";function ti(t,e,n,s,o,a){y(t.config.authDomain,t,"auth-domain-config-required"),y(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:r.Jn,eventId:o};if(e instanceof Jt){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",(0,i.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(a||{}))l[t]=e}if(e instanceof te){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(l.scopes=t.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const i of Object.keys(c))void 0===c[i]&&delete c[i];return`${ei(t)}?${(0,i.xO)(c).slice(1)}`}function ei({config:t}){return t.emulator?D(t,Jn):`https://${t.authDomain}/${Zn}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni="webStorageSupport";class ii{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ke,this._completeRedirectFn=_n,this._overrideRedirectResult=yn}async _openPopup(t,e,n,i){var r;w(null===(r=this.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const s=ti(t,e,n,I(),i);return Qn(t,s,Te())}async _openRedirect(t,e,n,i){return await this._originValidation(t),Me(ti(t,e,n,I(),i)),new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await Un(t),n=new Sn(t);return e.register("authEvent",(e=>{y(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");const i=n.onEvent(e.authEvent);return{status:i?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){const n=this.iframes[t._key()];n.send(ni,{type:ni},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[ni];void 0!==r&&e(!!r),f(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Mn(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return xt()||ft()||bt()}}const ri=ii;class si{constructor(t){this.factorId=t}_process(t,e,n){switch(e.type){case"enroll":return this._finalizeEnroll(t,e.credential,n);case"signin":return this._finalizeSignIn(t,e.credential);default:return b("unexpected MultiFactorSessionType")}}}class oi extends si{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new oi(t)}_finalizeEnroll(t,e,n){return ge(t,{idToken:e,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,e){return Xe(t,{mfaPendingCredential:e,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ai{constructor(){}static assertion(t){return oi._fromCredential(t)}}ai.FACTOR_ID="phone";var li="@firebase/auth",ci="0.21.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ui{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;const e=await this.auth.currentUser.getIdToken(t);return{accessToken:e}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null===e||void 0===e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function di(t){(0,r.Xd)(new a.wA("auth",((e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=i.options;return((e,i)=>{y(s&&!s.includes(":"),"invalid-api-key",{appName:e.name}),y(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});const r={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kt(t)},a=new Et(e,i,r);return k(a,n),a})(i,r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{const i=t.getProvider("auth-internal");i.initialize()}))),(0,r.Xd)(new a.wA("auth-internal",(t=>{const e=Tt(t.getProvider("auth").getImmediate());return(t=>new ui(t))(e)}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KN)(li,ci,hi(t)),(0,r.KN)(li,ci,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=300,pi=(0,i.Pz)("authIdTokenMaxAge")||fi;let gi=null;const mi=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>pi)return;const r=null===n||void 0===n?void 0:n.token;gi!==r&&(gi=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function vi(t=(0,r.Mq)()){const e=(0,r.qX)(t,"auth");if(e.isInitialized())return e.getImmediate();const n=S(t,{popupRedirectResolver:ri,persistence:[Ye,xe,ke]}),s=(0,i.Pz)("authTokenSyncURL");if(s){const t=mi(s);fe(n,t,(()=>t(n.currentUser))),de(n,(e=>t(e)))}const o=(0,i.q4)("auth");return o&&At(n,`http://${o}`),n}di("Browser")},1085:function(t,e,n){"use strict";n.d(e,{ET:function(){return cp},hJ:function(){return qd},oe:function(){return lp},JU:function(){return Bd},ST:function(){return sf},QT:function(){return np},kl:function(){return rp},PL:function(){return sp},ad:function(){return ef},Xo:function(){return $f},IO:function(){return qf},pl:function(){return op},r7:function(){return ap},ar:function(){return jf}});var i,r=n(9893),s=n(9661),o=n(2002),a=n(9840),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},c={},u=u||{},h=l||self;function d(){}function f(t){var e=typeof t;return e="object"!=e?e:t?Array.isArray(t)?"array":e:"null","array"==e||"object"==e&&"number"==typeof t.length}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++v)}var m="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b,w.apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function x(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(t,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}function S(){this.s=this.s,this.o=this.o}var k=0;S.prototype.s=!1,S.prototype.na=function(){this.s||(this.s=!0,this.M(),0==k)||g(this)},S.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const I=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function E(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function T(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(f(e)){const n=t.length||0,i=e.length||0;t.length=n+i;for(let r=0;r<i;r++)t[n+r]=e[r]}else t.push(e)}}function C(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}C.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{h.addEventListener("test",d,e),h.removeEventListener("test",d,e)}catch(n){}return t}();function M(t){return/^[\s\xa0]*$/.test(t)}var D=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function O(t,e){return t<e?-1:t>e?1:0}function P(){var t=h.navigator;return t&&(t=t.userAgent)?t:""}function R(t){return-1!=P().indexOf(t)}function L(t){return L[" "](t),t}function N(t){var e=Y;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}L[" "]=d;var F,V=R("Opera"),q=R("Trident")||R("MSIE"),B=R("Edge"),j=B||q,z=R("Gecko")&&!(-1!=P().toLowerCase().indexOf("webkit")&&!R("Edge"))&&!(R("Trident")||R("MSIE"))&&!R("Edge"),U=-1!=P().toLowerCase().indexOf("webkit")&&!R("Edge");function $(){var t=h.document;return t?t.documentMode:void 0}t:{var H="",W=function(){var t=P();return z?/rv:([^\);]+)(\)|;)/.exec(t):B?/Edge\/([\d\.]+)/.exec(t):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):U?/WebKit\/(\S+)/.exec(t):V?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(W&&(H=W?W[1]:""),q){var K=$();if(null!=K&&K>parseFloat(H)){F=String(K);break t}}F=H}var G,Y={};function Q(){return N((function(){let t=0;const e=D(String(F)).split("."),n=D("9").split("."),i=Math.max(e.length,n.length);for(let o=0;0==t&&o<i;o++){var r=e[o]||"",s=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;t=O(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||O(0==r[2].length,0==s[2].length)||O(r[2],s[2]),r=r[3],s=s[3]}while(0==t)}return 0<=t}))}if(h.document&&q){var X=$();G=X||(parseInt(F,10)||void 0)}else G=void 0;var Z=G;function J(t,e){if(C.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(z){t:{try{L(e.nodeName);var r=!0;break t}catch(s){}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:tt[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&J.X.h.call(this)}}x(J,C);var tt={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var et="closure_listenable_"+(1e6*Math.random()|0),nt=0;function it(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ha=r,this.key=++nt,this.ba=this.ea=!1}function rt(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function st(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function ot(t){const e={};for(const n in t)e[n]=t[n];return e}const at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(t,e){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(let e=0;e<at.length;e++)n=at[e],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function ct(t){this.src=t,this.g={},this.h=0}function ut(t,e){var n=e.type;if(n in t.g){var i,r=t.g[n],s=I(r,e);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(rt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function ht(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==i)return r}return-1}ct.prototype.add=function(t,e,n,i,r){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=ht(t,e,i,r);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new it(e,this.src,s,!!i,r),e.ea=n,t.push(e)),e};var dt="closure_lm_"+(1e6*Math.random()|0),ft={};function pt(t,e,n,i,r){if(i&&i.once)return vt(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)pt(t,e[s],n,i,r);return null}return n=kt(n),t&&t[et]?t.N(e,n,p(i)?!!i.capture:!!i,r):gt(t,e,n,!1,i,r)}function gt(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var o=p(r)?!!r.capture:!!r,a=xt(t);if(a||(t[dt]=a=new ct(t)),n=a.add(e,n,i,o,s),n.proxy)return n;if(i=mt(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)A||(r=o),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(wt(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function mt(){function t(n){return e.call(t.src,t.listener,n)}const e=_t;return t}function vt(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)vt(t,e[s],n,i,r);return null}return n=kt(n),t&&t[et]?t.O(e,n,p(i)?!!i.capture:!!i,r):gt(t,e,n,!0,i,r)}function yt(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)yt(t,e[s],n,i,r);else i=p(i)?!!i.capture:!!i,n=kt(n),t&&t[et]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=ht(s,n,i,r),-1<n&&(rt(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=xt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ht(e,n,i,r)),(n=-1<t?e[t]:null)&&bt(n))}function bt(t){if("number"!==typeof t&&t&&!t.ba){var e=t.src;if(e&&e[et])ut(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(wt(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=xt(e))?(ut(n,t),0==n.h&&(n.src=null,e[dt]=null)):rt(t)}}}function wt(t){return t in ft?ft[t]:ft[t]="on"+t}function _t(t,e){if(t.ba)t=!0;else{e=new J(e,this);var n=t.listener,i=t.ha||t.src;t.ea&&bt(t),t=n.call(i,e)}return t}function xt(t){return t=t[dt],t instanceof ct?t:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(t){return"function"===typeof t?t:(t[St]||(t[St]=function(e){return t.handleEvent(e)}),t[St])}function It(){S.call(this),this.i=new ct(this),this.P=this,this.I=null}function Et(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,"string"===typeof e)e=new C(e,t);else if(e instanceof C)e.target=e.target||t;else{var r=e;e=new C(i,t),lt(e,r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];r=Tt(o,i,!0,e)&&r}if(o=e.g=t,r=Tt(o,i,!0,e)&&r,r=Tt(o,i,!1,e)&&r,n)for(s=0;s<n.length;s++)o=e.g=n[s],r=Tt(o,i,!1,e)&&r}function Tt(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&ut(t.i,o),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}x(It,S),It.prototype[et]=!0,It.prototype.removeEventListener=function(t,e,n,i){yt(this,t,e,n,i)},It.prototype.M=function(){if(It.X.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)rt(n[i]);delete e.g[t],e.h--}}this.I=null},It.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},It.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var Ct=h.JSON.stringify;function At(){var t=Vt;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Mt{constructor(){this.h=this.g=null}add(t,e){const n=Ot.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}}var Dt,Ot=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new Pt),(t=>t.reset()));class Pt{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Rt(t){h.setTimeout((()=>{throw t}),0)}function Lt(t,e){Dt||Nt(),Ft||(Dt(),Ft=!0),Vt.add(t,e)}function Nt(){var t=h.Promise.resolve(void 0);Dt=function(){t.then(qt)}}var Ft=!1,Vt=new Mt;function qt(){for(var t;t=At();){try{t.h.call(t.g)}catch(n){Rt(n)}var e=Ot;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ft=!1}function Bt(t,e){It.call(this),this.h=t||1,this.g=e||h,this.j=w(this.lb,this),this.l=Date.now()}function jt(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function zt(t,e,n){if("function"===typeof t)n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:h.setTimeout(t,e||0)}function Ut(t){t.g=zt((()=>{t.g=null,t.i&&(t.i=!1,Ut(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}x(Bt,It),i=Bt.prototype,i.ca=!1,i.R=null,i.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Et(this,"tick"),this.ca&&(jt(this),this.start()))}},i.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},i.M=function(){Bt.X.M.call(this),jt(this),delete this.g};class $t extends S{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Ut(this)}M(){super.M(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ht(t){S.call(this),this.h=t,this.g={}}x(Ht,S);var Wt=[];function Kt(t,e,n,i){Array.isArray(n)||(n&&(Wt[0]=n.toString()),n=Wt);for(var r=0;r<n.length;r++){var s=pt(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Gt(t){st(t.g,(function(t,e){this.g.hasOwnProperty(e)&&bt(t)}),t),t.g={}}function Yt(){this.g=!0}function Qt(t,e,n,i,r,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+o}))}function Xt(t,e,n,i,r,s,o){t.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+o}))}function Zt(t,e,n,i){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+te(t,n)+(i?" "+i:"")}))}function Jt(t,e){t.info((function(){return"TIMEOUT: "+e}))}function te(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<r.length;o++)r[o]=""}}}return Ct(n)}catch(a){return e}}Ht.prototype.M=function(){Ht.X.M.call(this),Gt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yt.prototype.Aa=function(){this.g=!1},Yt.prototype.info=function(){};var ee={},ne=null;function ie(){return ne=ne||new It}function re(t){C.call(this,ee.Pa,t)}function se(t){const e=ie();Et(e,new re(e))}function oe(t,e){C.call(this,ee.STAT_EVENT,t),this.stat=e}function ae(t){const e=ie();Et(e,new oe(e,t))}function le(t,e){C.call(this,ee.Qa,t),this.size=e}function ce(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){t()}),e)}ee.Pa="serverreachability",x(re,C),ee.STAT_EVENT="statevent",x(oe,C),ee.Qa="timingevent",x(le,C);var ue={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},he={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function de(){}function fe(t){return t.h||(t.h=t.i())}function pe(){}de.prototype.h=null;var ge,me={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function ve(){C.call(this,"d")}function ye(){C.call(this,"c")}function be(){}function we(t,e,n,i){this.l=t,this.j=e,this.m=n,this.U=i||1,this.S=new Ht(this),this.O=xe,t=j?125:void 0,this.T=new Bt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}x(ve,C),x(ye,C),x(be,de),be.prototype.g=function(){return new XMLHttpRequest},be.prototype.i=function(){return{}},ge=new be;var xe=45e3,Se={},ke={};function Ie(t,e,n){t.K=1,t.v=Ke(ze(e)),t.s=n,t.P=!0,Ee(t,null)}function Ee(t,e){t.F=Date.now(),Me(t),t.A=ze(t.v);var n=t.A,i=t.U;Array.isArray(i)||(i=[String(i)]),an(n.i,"t",i),t.C=0,n=t.l.H,t.h=new _e,t.g=hi(t.l,n?e:null,!t.s),0<t.N&&(t.L=new $t(w(t.La,t,t.g),t.N)),Kt(t.S,t.g,"readystatechange",t.ib),e=t.H?ot(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),se(),Qt(t.j,t.u,t.A,t.m,t.U,t.s)}function Te(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Da)}function Ce(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=Ae(t,n),i==ke){4==e&&(t.o=4,ae(14),r=!1),Zt(t.j,t.m,null,"[Incomplete Response]");break}if(i==Se){t.o=4,ae(15),Zt(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Zt(t.j,t.m,i,null),Le(t,i)}Te(t)&&i!=ke&&i!=Se&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ae(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),ii(e),e.K=!0,ae(11))):(Zt(t.j,t.m,n,"[Invalid Chunked Response]"),Re(t),Pe(t))}function Ae(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?ke:(n=Number(e.substring(n,i)),isNaN(n)?Se:(i+=1,i+n>e.length?ke:(e=e.substr(i,n),t.C=i+n,e)))}function Me(t){t.V=Date.now()+t.O,De(t,t.O)}function De(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ce(w(t.gb,t),e)}function Oe(t){t.B&&(h.clearTimeout(t.B),t.B=null)}function Pe(t){0==t.l.G||t.I||oi(t.l,t)}function Re(t){Oe(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,jt(t.T),Gt(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Le(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||gn(n.h,t)))if(!t.J&&gn(n.h,t)&&3==n.G){try{var i=n.Fa.g.parse(e)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;si(n),Gn(n)}ni(n),ae(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&0==n.A&&!n.v&&(n.v=ce(w(n.cb,n),6e3));if(1>=pn(n.h)&&n.ja){try{n.ja()}catch(c){}n.ja=void 0}}else li(n,11)}else if((t.J||n.g==t)&&si(n),!M(e))for(r=n.Fa.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const e=c[3];null!=e&&(n.ma=e,n.j.info("VER="+n.ma));const r=c[4];null!=r&&(n.Ca=r,n.j.info("SVER="+n.Ca));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.J=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=i.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(mn(s,s.h),s.h=null))}if(i.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(i.za=t,We(i.F,i.D,t))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),i=n;var o=t;if(i.sa=ui(i,i.H?i.ka:null,i.V),o.J){vn(i.h,o);var a=o,l=i.J;l&&a.setTimeout(l),a.B&&(Oe(a),Me(a)),i.g=o}else ei(i);0<n.i.length&&Qn(n)}else"stop"!=c[0]&&"close"!=c[0]||li(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?li(n,7):Kn(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}se(4)}catch(c){}}function Ne(t){if(t.W&&"function"==typeof t.W)return t.W();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function Fe(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(f(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}function Ve(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=Fe(t),i=Ne(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}i=we.prototype,i.setTimeout=function(t){this.O=t},i.ib=function(t){t=t.target;const e=this.L;e&&3==jn(t)?e.l():this.La(t)},i.La=function(t){try{if(t==this.g)t:{const u=jn(this.g);var e=this.g.Ea();const d=this.g.aa();if(!(3>u)&&(3!=u||j||this.g&&(this.h.h||this.g.fa()||zn(this.g)))){this.I||4!=u||7==e||se(8==e||0>=d?3:2),Oe(this);var n=this.g.aa();this.Y=n;e:if(Te(this)){var i=zn(this.g);t="";var r=i.length,s=4==jn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Re(this),Pe(this);var o="";break e}this.h.i=new h.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,Xt(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(a)){var c=a;break e}}c=null}if(!(n=c)){this.i=!1,this.o=3,ae(12),Re(this),Pe(this);break t}Zt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Le(this,n)}this.P?(Ce(this,u,o),j&&this.i&&3==u&&(Kt(this.S,this.T,"tick",this.hb),this.T.start())):(Zt(this.j,this.m,o,null),Le(this,o)),4==u&&Re(this),this.i&&!this.I&&(4==u?oi(this.l,this):(this.i=!1,Me(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,ae(12)):(this.o=0,ae(13)),Re(this),Pe(this)}}}catch(u){}},i.hb=function(){if(this.g){var t=jn(this.g),e=this.g.fa();this.C<e.length&&(Oe(this),Ce(this,t,e),this.i&&4!=t&&Me(this))}},i.cancel=function(){this.I=!0,Re(this)},i.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(Jt(this.j,this.A),2!=this.K&&(se(),ae(17)),Re(this),this.o=2,Pe(this)):De(this,this.V-t)};var qe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Be(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function je(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof je){this.h=void 0!==e?e:t.h,Ue(this,t.j),this.s=t.s,this.g=t.g,$e(this,t.m),this.l=t.l,e=t.i;var n=new nn;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),He(this,n),this.o=t.o}else t&&(n=String(t).match(qe))?(this.h=!!e,Ue(this,n[1]||"",!0),this.s=Ge(n[2]||""),this.g=Ge(n[3]||"",!0),$e(this,n[4]),this.l=Ge(n[5]||"",!0),He(this,n[6]||"",!0),this.o=Ge(n[7]||"")):(this.h=!!e,this.i=new nn(null,this.h))}function ze(t){return new je(t)}function Ue(t,e,n){t.j=n?Ge(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $e(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function He(t,e,n){e instanceof nn?(t.i=e,cn(t.i,t.h)):(n||(e=Ye(e,tn)),t.i=new nn(e,t.h))}function We(t,e,n){t.i.set(e,n)}function Ke(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ge(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ye(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Qe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Qe(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}je.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ye(e,Xe,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Ye(e,Xe,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ye(n,"/"==n.charAt(0)?Je:Ze,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ye(n,en)),t.join("")};var Xe=/[#\/\?@]/g,Ze=/[#\?:]/g,Je=/[#\?]/g,tn=/[#\?@]/g,en=/#/g;function nn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function rn(t){t.g||(t.g=new Map,t.h=0,t.i&&Be(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function sn(t,e){rn(t),e=ln(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function on(t,e){return rn(t),e=ln(t,e),t.g.has(e)}function an(t,e,n){sn(t,e),0<n.length&&(t.i=null,t.g.set(ln(t,e),E(n)),t.h+=n.length)}function ln(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function cn(t,e){e&&!t.j&&(rn(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(sn(this,e),an(this,n,t))}),t)),t.j=e}i=nn.prototype,i.add=function(t,e){rn(this),this.i=null,t=ln(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},i.forEach=function(t,e){rn(this),this.g.forEach((function(n,i){n.forEach((function(n){t.call(e,n,i,this)}),this)}),this)},i.oa=function(){rn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let t=0;t<r.length;t++)n.push(e[i])}return n},i.W=function(t){rn(this);let e=[];if("string"===typeof t)on(this,t)&&(e=e.concat(this.g.get(ln(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},i.set=function(t,e){return rn(this),this.i=null,t=ln(this,t),on(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},i.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e},i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),o=this.W(i);for(i=0;i<o.length;i++){var r=s;""!==o[i]&&(r+="="+encodeURIComponent(String(o[i]))),t.push(r)}}return this.i=t.join("&")};var un=class{constructor(t,e){this.h=t,this.g=e}};function hn(t){this.l=t||dn,h.PerformanceNavigationTiming?(t=h.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(h.g&&h.g.Ga&&h.g.Ga()&&h.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dn=10;function fn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function pn(t){return t.h?1:t.g?t.g.size:0}function gn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function mn(t,e){t.g?t.g.add(e):t.h=e}function vn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function yn(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return E(t.i)}function bn(){}function wn(){this.g=new bn}function _n(t,e,n){const i=n||"";try{Ve(t,(function(t,n){let r=t;p(t)&&(r=Ct(t)),e.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function xn(t,e){const n=new Yt;if(h.Image){const i=new Image;i.onload=_(Sn,n,i,"TestLoadImage: loaded",!0,e),i.onerror=_(Sn,n,i,"TestLoadImage: error",!1,e),i.onabort=_(Sn,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=_(Sn,n,i,"TestLoadImage: timeout",!1,e),h.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=t}else e(!1)}function Sn(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function kn(t){this.l=t.ac||null,this.j=t.jb||!1}function In(t,e){It.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=En,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hn.prototype.cancel=function(){if(this.i=yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},bn.prototype.stringify=function(t){return h.JSON.stringify(t,void 0)},bn.prototype.parse=function(t){return h.JSON.parse(t,void 0)},x(kn,de),kn.prototype.g=function(){return new In(this.l,this.j)},kn.prototype.i=function(t){return function(){return t}}({}),x(In,It);var En=0;function Tn(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function Cn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,An(t)}function An(t){t.onreadystatechange&&t.onreadystatechange.call(t)}i=In.prototype,i.open=function(t,e){if(this.readyState!=En)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,An(this)},i.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||h).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cn(this)),this.readyState=En},i.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof h.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tn(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},i.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Cn(this):An(this),3==this.readyState&&Tn(this)}},i.Va=function(t){this.g&&(this.response=this.responseText=t,Cn(this))},i.Ua=function(t){this.g&&(this.response=t,Cn(this))},i.ga=function(){this.g&&Cn(this)},i.setRequestHeader=function(t,e){this.v.append(t,e)},i.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(In.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Mn=h.JSON.parse;function Dn(t){It.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=On,this.K=this.L=!1}x(Dn,It);var On="",Pn=/^https?$/i,Rn=["POST","PUT"];function Ln(t){return q&&Q()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function Nn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Fn(t),qn(t)}function Fn(t){t.D||(t.D=!0,Et(t,"complete"),Et(t,"error"))}function Vn(t){if(t.h&&"undefined"!=typeof u&&(!t.C[1]||4!=jn(t)||2!=t.aa()))if(t.v&&4==jn(t))zt(t.Ha,0,t);else if(Et(t,"readystatechange"),4==jn(t)){t.h=!1;try{const l=t.aa();t:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var i;if(i=0===l){var r=String(t.H).match(qe)[1]||null;if(!r&&h.self&&h.self.location){var s=h.self.location.protocol;r=s.substr(0,s.length-1)}i=!Pn.test(r?r.toLowerCase():"")}n=i}if(n)Et(t,"complete"),Et(t,"success");else{t.m=6;try{var o=2<jn(t)?t.g.statusText:""}catch(a){o=""}t.j=o+" ["+t.aa()+"]",Fn(t)}}finally{qn(t)}}}function qn(t,e){if(t.g){Bn(t);const i=t.g,r=t.C[0]?d:null;t.g=null,t.C=null,e||Et(t,"ready");try{i.onreadystatechange=r}catch(n){}}}function Bn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(h.clearTimeout(t.A),t.A=null)}function jn(t){return t.g?t.g.readyState:0}function zn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case On:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(Ti){return null}}function Un(t){let e="";return st(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function $n(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Un(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):We(t,e,n))}function Hn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Wn(t){this.Ca=0,this.i=[],this.j=new Yt,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Hn("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Hn("baseRetryDelayMs",5e3,t),this.bb=Hn("retryDelaySeedMs",1e4,t),this.$a=Hn("forwardChannelMaxRetries",2,t),this.ta=Hn("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new hn(t&&t.concurrentRequestLimit),this.Fa=new wn,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Kn(t){if(Yn(t),3==t.G){var e=t.U++,n=ze(t.F);We(n,"SID",t.I),We(n,"RID",e),We(n,"TYPE","terminate"),Jn(t,n),e=new we(t,t.j,e,void 0),e.K=2,e.v=Ke(ze(n)),n=!1,h.navigator&&h.navigator.sendBeacon&&(n=h.navigator.sendBeacon(e.v.toString(),"")),!n&&h.Image&&((new Image).src=e.v,n=!0),n||(e.g=hi(e.l,null),e.g.da(e.v)),e.F=Date.now(),Me(e)}ci(t)}function Gn(t){t.g&&(ii(t),t.g.cancel(),t.g=null)}function Yn(t){Gn(t),t.u&&(h.clearTimeout(t.u),t.u=null),si(t),t.h.cancel(),t.m&&("number"===typeof t.m&&h.clearTimeout(t.m),t.m=null)}function Qn(t){fn(t.h)||t.m||(t.m=!0,Lt(t.Ja,t),t.C=0)}function Xn(t,e){return!(pn(t.h)>=t.h.j-(t.m?1:0))&&(t.m?(t.i=e.D.concat(t.i),!0):!(1==t.G||2==t.G||t.C>=(t.Za?0:t.$a))&&(t.m=ce(w(t.Ja,t,e),ai(t,t.C)),t.C++,!0))}function Zn(t,e){var n;n=e?e.m:t.U++;const i=ze(t.F);We(i,"SID",t.I),We(i,"RID",n),We(i,"AID",t.T),Jn(t,i),t.o&&t.s&&$n(i,t.o,t.s),n=new we(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=ti(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),mn(t.h,n),Ie(n,i,e)}function Jn(t,e){t.ia&&st(t.ia,(function(t,n){We(e,n,t)})),t.l&&Ve({},(function(t,n){We(e,n,t)}))}function ti(t,e,n){n=Math.min(t.i.length,n);var i=t.l?w(t.l.Ra,t.l,t):null;t:{var r=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=r[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let a=0;a<n;a++){let n=r[a].h;const l=r[a].g;if(n-=e,0>n)e=Math.max(0,r[a].h-100),o=!1;else try{_n(l,t,"req"+n+"_")}catch(s){i&&i(l)}}if(o){i=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,i}function ei(t){t.g||t.u||(t.Z=1,Lt(t.Ia,t),t.A=0)}function ni(t){return!(t.g||t.u||3<=t.A)&&(t.Z++,t.u=ce(w(t.Ia,t),ai(t,t.A)),t.A++,!0)}function ii(t){null!=t.B&&(h.clearTimeout(t.B),t.B=null)}function ri(t){t.g=new we(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=ze(t.sa);We(e,"RID","rpc"),We(e,"SID",t.I),We(e,"CI",t.L?"0":"1"),We(e,"AID",t.T),We(e,"TYPE","xmlhttp"),Jn(t,e),t.o&&t.s&&$n(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Ke(ze(e)),n.s=null,n.P=!0,Ee(n,t)}function si(t){null!=t.v&&(h.clearTimeout(t.v),t.v=null)}function oi(t,e){var n=null;if(t.g==e){si(t),ii(t),t.g=null;var i=2}else{if(!gn(t.h,e))return;n=e.D,vn(t.h,e),i=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;i=ie(),Et(i,new le(i,n)),Qn(t)}else ei(t);else if(r=e.o,3==r||0==r&&0<t.pa||!(1==i&&Xn(t,e)||2==i&&ni(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:li(t,5);break;case 4:li(t,10);break;case 3:li(t,6);break;default:li(t,2)}}function ai(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function li(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var i=w(t.kb,t);n||(n=new je("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Ue(n,"https"),Ke(n)),xn(n.toString(),i)}else ae(2);t.G=0,t.l&&t.l.va(e),ci(t),Yn(t)}function ci(t){if(t.G=0,t.la=[],t.l){const e=yn(t.h);0==e.length&&0==t.i.length||(T(t.la,e),T(t.la,t.i),t.h.i.length=0,E(t.i),t.i.length=0),t.l.ua()}}function ui(t,e,n){var i=n instanceof je?ze(n):new je(n,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),$e(i,i.m);else{var r=h.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new je(null,void 0);i&&Ue(s,i),e&&(s.g=e),r&&$e(s,r),n&&(s.l=n),i=s}return n=t.D,e=t.za,n&&e&&We(i,n,e),We(i,"VER",t.ma),Jn(t,i),i}function hi(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Dn(new kn({jb:!0})):new Dn(t.ra),e.Ka(t.H),e}function di(){}function fi(){if(q&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function pi(t,e){It.call(this),this.g=new Wn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!M(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!M(e)&&(this.g.D=e,t=this.h,null!==t&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new vi(this)}function gi(t){ve.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function mi(){ye.call(this),this.status=1}function vi(t){this.g=t}i=Dn.prototype,i.Ka=function(t){this.L=t},i.da=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ge.g(),this.C=this.u?fe(this.u):fe(ge),this.g.onreadystatechange=w(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void Nn(this,s)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const t of i.keys())n.set(t,i.get(t))}i=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),r=h.FormData&&t instanceof h.FormData,!(0<=I(Rn,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Bn(this),0<this.B&&((this.K=Ln(this.g))?(this.g.timeout=this.B,this.g.ontimeout=w(this.qa,this)):this.A=zt(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Nn(this,s)}},i.qa=function(){"undefined"!=typeof u&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Et(this,"timeout"),this.abort(8))},i.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Et(this,"complete"),Et(this,"abort"),qn(this))},i.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qn(this,!0)),Dn.X.M.call(this)},i.Ha=function(){this.s||(this.F||this.v||this.l?Vn(this):this.fb())},i.fb=function(){Vn(this)},i.aa=function(){try{return 2<jn(this)?this.g.status:-1}catch(t){return-1}},i.fa=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},i.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Mn(e)}},i.Ea=function(){return this.m},i.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},i=Wn.prototype,i.ma=8,i.G=1,i.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new we(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=ot(s),lt(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)t:{for(var e=0,n=0;n<this.i.length;n++){var i=this.i[n];if(i="__data__"in i.g&&(i=i.g.__data__,"string"===typeof i)?i.length:void 0,void 0===i)break;if(e+=i,4096<e){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=ti(this,r,e),n=ze(this.F),We(n,"RID",t),We(n,"CVER",22),this.D&&We(n,"X-HTTP-Session-Id",this.D),Jn(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(Un(s)))+"&"+e:this.o&&$n(n,this.o,s)),mn(this.h,r),this.Ya&&We(n,"TYPE","init"),this.O?(We(n,"$req",e),We(n,"SID","null"),r.Z=!0,Ie(r,n,null)):Ie(r,n,e),this.G=2}}else 3==this.G&&(t?Zn(this,t):0==this.i.length||fn(this.h)||Zn(this))},i.Ia=function(){if(this.u=null,ri(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=ce(w(this.eb,this),t)}},i.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ae(10),Gn(this),ri(this))},i.cb=function(){null!=this.v&&(this.v=null,Gn(this),ni(this),ae(19))},i.kb=function(t){t?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))},i=di.prototype,i.xa=function(){},i.wa=function(){},i.va=function(){},i.ua=function(){},i.Ra=function(){},fi.prototype.g=function(t,e){return new pi(t,e)},x(pi,It),pi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;ae(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=ui(t,null,t.V),Qn(t)},pi.prototype.close=function(){Kn(this.g)},pi.prototype.u=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ct(t),t=n);e.i.push(new un(e.ab++,t)),3==e.G&&Qn(e)},pi.prototype.M=function(){this.g.l=null,delete this.j,Kn(this.g),delete this.g,pi.X.M.call(this)},x(gi,ve),x(mi,ye),x(vi,di),vi.prototype.xa=function(){Et(this.g,"a")},vi.prototype.wa=function(t){Et(this.g,new gi(t))},vi.prototype.va=function(t){Et(this.g,new mi)},vi.prototype.ua=function(){Et(this.g,"b")},fi.prototype.createWebChannel=fi.prototype.g,pi.prototype.send=pi.prototype.u,pi.prototype.open=pi.prototype.m,pi.prototype.close=pi.prototype.close,ue.NO_ERROR=0,ue.TIMEOUT=8,ue.HTTP_ERROR=6,he.COMPLETE="complete",pe.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",It.prototype.listen=It.prototype.N,Dn.prototype.listenOnce=Dn.prototype.O,Dn.prototype.getLastError=Dn.prototype.Oa,Dn.prototype.getLastErrorCode=Dn.prototype.Ea,Dn.prototype.getStatus=Dn.prototype.aa,Dn.prototype.getResponseJson=Dn.prototype.Sa,Dn.prototype.getResponseText=Dn.prototype.fa,Dn.prototype.send=Dn.prototype.da,Dn.prototype.setWithCredentials=Dn.prototype.Ka;var yi=c.createWebChannelTransport=function(){return new fi},bi=c.getStatEventTarget=function(){return ie()},wi=c.ErrorCode=ue,_i=c.EventType=he,xi=c.Event=ee,Si=c.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},ki=c.FetchXmlHttpFactory=kn,Ii=c.WebChannel=pe,Ei=c.XhrIo=Dn;const Ti="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ci.UNAUTHENTICATED=new Ci(null),Ci.GOOGLE_CREDENTIALS=new Ci("google-credentials-uid"),Ci.FIRST_PARTY=new Ci("first-party-uid"),Ci.MOCK_USER=new Ci("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Ai="9.15.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new o.Yd("@firebase/firestore");function Di(){return Mi.logLevel}function Oi(t,...e){if(Mi.logLevel<=o["in"].DEBUG){const n=e.map(Li);Mi.debug(`Firestore (${Ai}): ${t}`,...n)}}function Pi(t,...e){if(Mi.logLevel<=o["in"].ERROR){const n=e.map(Li);Mi.error(`Firestore (${Ai}): ${t}`,...n)}}function Ri(t,...e){if(Mi.logLevel<=o["in"].WARN){const n=e.map(Li);Mi.warn(`Firestore (${Ai}): ${t}`,...n)}}function Li(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t="Unexpected state"){const e=`FIRESTORE (${Ai}) INTERNAL ASSERTION FAILED: `+t;throw Pi(e),new Error(e)}function Fi(t,e){t||Ni()}function Vi(t,e){return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bi extends a.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ui{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Ci.UNAUTHENTICATED)))}shutdown(){}}class $i{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Hi{constructor(t){this.t=t,this.currentUser=Ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const i=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let r=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ji,t.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const e=r;t.enqueueRetryable((async()=>{await e.promise,await i(this.currentUser)}))},o=t=>{Oi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Oi("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ji)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Oi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Fi("string"==typeof e.accessToken),new zi(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Fi(null===t||"string"==typeof t),new Ci(t)}}class Wi{constructor(t,e,n,i){this.h=t,this.l=e,this.m=n,this.g=i,this.type="FirstParty",this.user=Ci.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Fi(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ki{constructor(t,e,n,i){this.h=t,this.l=e,this.m=n,this.g=i}getToken(){return Promise.resolve(new Wi(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable((()=>e(Ci.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gi{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yi{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const n=t=>{null!=t.error&&Oi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.A;return this.A=t.token,Oi("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const i=t=>{Oi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.T.onInit((t=>i(t))),setTimeout((()=>{if(!this.appCheck){const t=this.T.getImmediate({optional:!0});t?i(t):Oi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Fi("string"==typeof t.token),this.A=t.token,new Gi(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Qi(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=Qi(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<e&&(n+=t.charAt(i[r]%t.length))}return n}}function Zi(t,e){return t<e?-1:t>e?1:0}function Ji(t,e,n){return t.length===e.length&&t.every(((t,i)=>n(t,e[i])))}function tr(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Bi(qi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Bi(qi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Bi(qi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Bi(qi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return er.fromMillis(Date.now())}static fromDate(t){return er.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new er(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Zi(this.nanoseconds,t.nanoseconds):Zi(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(t){this.timestamp=t}static fromTimestamp(t){return new nr(t)}static min(){return new nr(new er(0,0))}static max(){return new nr(new er(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(t,e,n){void 0===e?e=0:e>t.length&&Ni(),void 0===n?n=t.length-e:n>t.length-e&&Ni(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===ir.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ir?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const n=t.get(i),r=e.get(i);if(n<r)return-1;if(n>r)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class rr extends ir{construct(t,e,n){return new rr(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Bi(qi.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new rr(e)}static emptyPath(){return new rr([])}}const sr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class or extends ir{construct(t,e,n){return new or(t,e,n)}static isValidIdentifier(t){return sr.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),or.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new or(["__name__"])}static fromServerFormat(t){const e=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Bi(qi.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;i<t.length;){const e=t[i];if("\\"===e){if(i+1===t.length)throw new Bi(qi.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[i+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Bi(qi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,i+=2}else"`"===e?(s=!s,i++):"."!==e||s?(n+=e,i++):(r(),i++)}if(r(),s)throw new Bi(qi.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new or(e)}static emptyPath(){return new or([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(t){this.path=t}static fromPath(t){return new ar(rr.fromString(t))}static fromName(t){return new ar(rr.fromString(t).popFirst(5))}static empty(){return new ar(rr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===rr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return rr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ar(new rr(t.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t,e,n,i){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=i}}function cr(t){return t.fields.find((t=>2===t.kind))}function ur(t){return t.fields.filter((t=>2!==t.kind))}lr.UNKNOWN_ID=-1;class hr{constructor(t,e){this.fieldPath=t,this.kind=e}}class dr{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new dr(0,gr.min())}}function fr(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=nr.fromTimestamp(1e9===i?new er(n+1,0):new er(n,i));return new gr(r,ar.empty(),e)}function pr(t){return new gr(t.readTime,t.key,-1)}class gr{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new gr(nr.min(),ar.empty(),-1)}static max(){return new gr(nr.max(),ar.empty(),-1)}}function mr(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=ar.comparator(t.documentKey,e.documentKey),0!==n?n:Zi(t.largestBatchId,e.largestBatchId))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function br(t){if(t.code!==qi.FAILED_PRECONDITION||t.message!==vr)throw t;Oi("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ni(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new wr(((n,i)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,i)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,i)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof wr?e:wr.resolve(e)}catch(t){return wr.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):wr.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):wr.reject(e)}static resolve(t){return new wr(((e,n)=>{e(t)}))}static reject(t){return new wr(((e,n)=>{n(t)}))}static waitFor(t){return new wr(((e,n)=>{let i=0,r=0,s=!1;t.forEach((t=>{++i,t.next((()=>{++r,s&&r===i&&e()}),(t=>n(t)))})),s=!0,r===i&&e()}))}static or(t){let e=wr.resolve(!1);for(const n of t)e=e.next((t=>t?wr.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,i)=>{n.push(e.call(this,t,i))})),this.waitFor(n)}static mapArray(t,e){return new wr(((n,i)=>{const r=t.length,s=new Array(r);let o=0;for(let a=0;a<r;a++){const l=a;e(t[l]).next((t=>{s[l]=t,++o,o===r&&n(s)}),(t=>i(t)))}}))}static doWhile(t,e){return new wr(((n,i)=>{const r=()=>{!0===t()?e().next((()=>{r()}),i):n()};r()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new ji,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new kr(t,e.error)):this.P.resolve()},this.transaction.onerror=e=>{const n=Ar(e.target.error);this.P.reject(new kr(t,n))}}static open(t,e,n,i){try{return new _r(e,t.transaction(i,n))}catch(t){throw new kr(e,t)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Oi("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Er(e)}}class xr{constructor(t,e,n){this.name=t,this.version=e,this.S=n,12.2===xr.D((0,a.z$)())&&Pi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Oi("SimpleDb","Removing database:",t),Tr(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,a.hl)())return!1;if(xr.N())return!0;const t=(0,a.z$)(),e=xr.D(t),n=0<e&&e<10,i=xr.k(t),r=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||r)}static N(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production",VUE_APP_FBKEY:"AIzaSyCBOg9TLihuWVuoNLXxlXKLMh7QUEQ3qYE",VUE_APP_FBDOMAIN:"open-frametimes-db.firebaseapp.com",VUE_APP_FBPID:"open-frametimes-db",VUE_APP_FBBUCKET:"open-frametimes-db.appspot.com",VUE_APP_FBMSID:"507969102704",VUE_APP_FBAPPID:"1:507969102704:web:c50d20eed901858156e5b5",VUE_APP_FBMID:"G-N6TKEP4BDZ",BASE_URL:"/openframetimes_db/"})||void 0===t?void 0:t.O)}static M(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static k(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async F(t){return this.db||(Oi("SimpleDb","Opening database:",this.name),this.db=await new Promise(((e,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=t=>{const n=t.target.result;e(n)},i.onblocked=()=>{n(new kr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=e=>{const i=e.target.error;"VersionError"===i.name?n(new Bi(qi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new Bi(qi.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new kr(t,i))},i.onupgradeneeded=t=>{Oi("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',t.oldVersion);const e=t.target.result;this.S.$(e,i.transaction,t.oldVersion,this.version).next((()=>{Oi("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=t=>this.B(t)),this.db}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,n,i){const r="readonly"===e;let s=0;for(;;){++s;try{this.db=await this.F(t);const e=_r.open(this.db,t,r?"readonly":"readwrite",n),s=i(e).next((t=>(e.V(),t))).catch((t=>(e.abort(t),wr.reject(t)))).toPromise();return s.catch((()=>{})),await e.v,s}catch(t){const e=t,n="FirebaseError"!==e.name&&s<3;if(Oi("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),this.close(),!n)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Sr{constructor(t){this.q=t,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(t){this.q=t}done(){this.U=!0}j(t){this.K=t}delete(){return Tr(this.q.delete())}}class kr extends Bi{constructor(t,e){super(qi.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Ir(t){return"IndexedDbTransactionError"===t.name}class Er{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(Oi("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Oi("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Tr(n)}add(t){return Oi("SimpleDb","ADD",this.store.name,t,t),Tr(this.store.add(t))}get(t){return Tr(this.store.get(t)).next((e=>(void 0===e&&(e=null),Oi("SimpleDb","GET",this.store.name,t,e),e)))}delete(t){return Oi("SimpleDb","DELETE",this.store.name,t),Tr(this.store.delete(t))}count(){return Oi("SimpleDb","COUNT",this.store.name),Tr(this.store.count())}W(t,e){const n=this.options(t,e);if(n.index||"function"!=typeof this.store.getAll){const t=this.cursor(n),e=[];return this.H(t,((t,n)=>{e.push(n)})).next((()=>e))}{const t=this.store.getAll(n.range);return new wr(((e,n)=>{t.onerror=t=>{n(t.target.error)},t.onsuccess=t=>{e(t.target.result)}}))}}J(t,e){const n=this.store.getAll(t,null===e?void 0:e);return new wr(((t,e)=>{n.onerror=t=>{e(t.target.error)},n.onsuccess=e=>{t(e.target.result)}}))}Y(t,e){Oi("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.X=!1;const i=this.cursor(n);return this.H(i,((t,e,n)=>n.delete()))}Z(t,e){let n;e?n=t:(n={},e=t);const i=this.cursor(n);return this.H(i,e)}tt(t){const e=this.cursor({});return new wr(((n,i)=>{e.onerror=t=>{const e=Ar(t.target.error);i(e)},e.onsuccess=e=>{const i=e.target.result;i?t(i.primaryKey,i.value).next((t=>{t?i.continue():n()})):n()}}))}H(t,e){const n=[];return new wr(((i,r)=>{t.onerror=t=>{r(t.target.error)},t.onsuccess=t=>{const r=t.target.result;if(!r)return void i();const s=new Sr(r),o=e(r.primaryKey,r.value,s);if(o instanceof wr){const t=o.catch((t=>(s.done(),wr.reject(t))));n.push(t)}s.isDone?i():null===s.G?r.continue():r.continue(s.G)}})).next((()=>wr.waitFor(n)))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.X?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Tr(t){return new wr(((e,n)=>{t.onsuccess=t=>{const n=t.target.result;e(n)},t.onerror=t=>{const e=Ar(t.target.error);n(e)}}))}let Cr=!1;function Ar(t){const e=xr.D((0,a.z$)());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new Bi("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Cr||(Cr=!0,setTimeout((()=>{throw t}),0)),t}}return t}class Mr{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){Oi("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{Oi("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(t){Ir(t)?Oi("IndexBackiller","Ignoring IndexedDB error during index backfill: ",t):await br(t)}await this.nt(6e4)}))}}class Dr{constructor(t,e){this.localStore=t,this.persistence=e}async st(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.it(e,t)))}it(t,e){const n=new Set;let i=e,r=!0;return wr.doWhile((()=>!0===r&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((e=>{if(null!==e&&!n.has(e))return Oi("IndexBackiller",`Processing collection: ${e}`),this.rt(t,e,i).next((t=>{i-=t,n.add(e)}));r=!1})))).next((()=>e-i))}rt(t,e,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((i=>this.localStore.localDocuments.getNextDocuments(t,e,i,n).next((n=>{const r=n.changes;return this.localStore.indexManager.updateIndexEntries(t,r).next((()=>this.ot(i,n))).next((n=>(Oi("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(t,e,n)))).next((()=>r.size))}))))}ot(t,e){let n=t;return e.changes.forEach(((t,e)=>{const i=pr(e);mr(i,n)>0&&(n=i)})),new gr(n.readTime,n.documentKey,Math.max(e.batchId,t.largestBatchId))}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ut(t),this.ct=t=>e.writeSequenceNumber(t))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}Or.at=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Pr{constructor(t,e,n,i,r,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Rr{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Rr("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Rr&&t.projectId===this.projectId&&t.database===this.database}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Nr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Fr(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t){return null==t}function qr(t){return 0===t&&1/t==-1/0}function Br(t){return"number"==typeof t&&Number.isInteger(t)&&!qr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class jr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new jr(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new jr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Zi(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}jr.EMPTY_BYTE_STRING=new jr("");const zr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(t){if(Fi(!!t),"string"==typeof t){let e=0;const n=zr.exec(t);if(Fi(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$r(t.seconds),nanos:$r(t.nanos)}}function $r(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Hr(t){return"string"==typeof t?jr.fromBase64String(t):jr.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Kr(t){const e=t.mapValue.fields.__previous_value__;return Wr(e)?Kr(e):e}function Gr(t){const e=Ur(t.mapValue.fields.__local_write_time__.timestampValue);return new er(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Qr={nullValue:"NULL_VALUE"};function Xr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wr(t)?4:hs(t)?9007199254740991:10:Ni()}function Zr(t,e){if(t===e)return!0;const n=Xr(t);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gr(t).isEqual(Gr(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Ur(t.timestampValue),i=Ur(e.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Hr(t.bytesValue).isEqual(Hr(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return $r(t.geoPointValue.latitude)===$r(e.geoPointValue.latitude)&&$r(t.geoPointValue.longitude)===$r(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return $r(t.integerValue)===$r(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=$r(t.doubleValue),i=$r(e.doubleValue);return n===i?qr(n)===qr(i):isNaN(n)&&isNaN(i)}return!1}(t,e);case 9:return Ji(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:return function(t,e){const n=t.mapValue.fields||{},i=e.mapValue.fields||{};if(Lr(n)!==Lr(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Zr(n[r],i[r])))return!1;return!0}(t,e);default:return Ni()}}function Jr(t,e){return void 0!==(t.values||[]).find((t=>Zr(t,e)))}function ts(t,e){if(t===e)return 0;const n=Xr(t),i=Xr(e);if(n!==i)return Zi(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zi(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=$r(t.integerValue||t.doubleValue),i=$r(e.integerValue||e.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(t,e);case 3:return es(t.timestampValue,e.timestampValue);case 4:return es(Gr(t),Gr(e));case 5:return Zi(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Hr(t),i=Hr(e);return n.compareTo(i)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),i=e.split("/");for(let r=0;r<n.length&&r<i.length;r++){const t=Zi(n[r],i[r]);if(0!==t)return t}return Zi(n.length,i.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=Zi($r(t.latitude),$r(e.latitude));return 0!==n?n:Zi($r(t.longitude),$r(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const t=ts(n[r],i[r]);if(t)return t}return Zi(n.length,i.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===Yr.mapValue&&e===Yr.mapValue)return 0;if(t===Yr.mapValue)return 1;if(e===Yr.mapValue)return-1;const n=t.fields||{},i=Object.keys(n),r=e.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let o=0;o<i.length&&o<s.length;++o){const t=Zi(i[o],s[o]);if(0!==t)return t;const e=ts(n[i[o]],r[s[o]]);if(0!==e)return e}return Zi(i.length,s.length)}(t.mapValue,e.mapValue);default:throw Ni()}}function es(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Zi(t,e);const n=Ur(t),i=Ur(e),r=Zi(n.seconds,i.seconds);return 0!==r?r:Zi(n.nanos,i.nanos)}function ns(t){return is(t)}function is(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Ur(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Hr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ar.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const i of t.values||[])n?n=!1:e+=",",e+=is(i);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",i=!0;for(const r of e)i?i=!1:n+=",",n+=`${r}:${is(t.fields[r])}`;return n+"}"}(t.mapValue):Ni();var e,n}function rs(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ss(t){return!!t&&"integerValue"in t}function os(t){return!!t&&"arrayValue"in t}function as(t){return!!t&&"nullValue"in t}function ls(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cs(t){return!!t&&"mapValue"in t}function us(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Nr(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=us(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=us(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hs(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function ds(t){return"nullValue"in t?Qr:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?rs(Rr.empty(),ar.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Ni()}function fs(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?rs(Rr.empty(),ar.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Yr:Ni()}function ps(t,e){const n=ts(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function gs(t,e){const n=ts(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t,e){this.position=t,this.inclusive=e}}function vs(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(i=s.field.isKeyField()?ar.comparator(ar.fromName(o.referenceValue),n.key):ts(o,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function ys(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{}class ws extends bs{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new Ms(t,e,n):"array-contains"===e?new Rs(t,n):"in"===e?new Ls(t,n):"not-in"===e?new Ns(t,n):"array-contains-any"===e?new Fs(t,n):new ws(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new Ds(t,n):new Os(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(ts(e,this.value)):null!==e&&Xr(this.value)===Xr(e)&&this.matchesComparison(ts(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ni()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class _s extends bs{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new _s(t,e)}matches(t){return xs(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt((t=>t.isInequality()));return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function xs(t){return"and"===t.op}function Ss(t){return"or"===t.op}function ks(t){return Is(t)&&xs(t)}function Is(t){for(const e of t.filters)if(e instanceof _s)return!1;return!0}function Es(t){if(t instanceof ws)return t.field.canonicalString()+t.op.toString()+ns(t.value);{const e=t.filters.map((t=>Es(t))).join(",");return`${t.op}(${e})`}}function Ts(t,e){return t instanceof ws?function(t,e){return e instanceof ws&&t.op===e.op&&t.field.isEqual(e.field)&&Zr(t.value,e.value)}(t,e):t instanceof _s?function(t,e){return e instanceof _s&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,i)=>t&&Ts(n,e.filters[i])),!0)}(t,e):void Ni()}function Cs(t,e){const n=t.filters.concat(e);return _s.create(n,t.op)}function As(t){return t instanceof ws?function(t){return`${t.field.canonicalString()} ${t.op} ${ns(t.value)}`}(t):t instanceof _s?function(t){return t.op.toString()+" {"+t.getFilters().map(As).join(" ,")+"}"}(t):"Filter"}class Ms extends ws{constructor(t,e,n){super(t,e,n),this.key=ar.fromName(n.referenceValue)}matches(t){const e=ar.comparator(t.key,this.key);return this.matchesComparison(e)}}class Ds extends ws{constructor(t,e){super(t,"in",e),this.keys=Ps("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Os extends ws{constructor(t,e){super(t,"not-in",e),this.keys=Ps("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Ps(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>ar.fromName(t.referenceValue)))}class Rs extends ws{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return os(e)&&Jr(e.arrayValue,this.value)}}class Ls extends ws{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Jr(this.value.arrayValue,e)}}class Ns extends ws{constructor(t,e){super(t,"not-in",e)}matches(t){if(Jr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Jr(this.value.arrayValue,e)}}class Fs extends ws{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!os(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>Jr(this.value.arrayValue,t)))}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t,e="asc"){this.field=t,this.dir=e}}function qs(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(t,e){this.comparator=t,this.root=e||zs.EMPTY}insert(t,e){return new Bs(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,zs.BLACK,null,null))}remove(t){return new Bs(this.comparator,this.root.remove(t,this.comparator).copy(null,null,zs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(0===i)return e+n.left.size;i<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new js(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new js(this.root,t,this.comparator,!1)}getReverseIterator(){return new js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new js(this.root,t,this.comparator,!0)}}class js{constructor(t,e,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=e?n(t.key,e):1,e&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(0===r){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class zs{constructor(t,e,n,i,r){this.key=t,this.value=e,this.color=null!=n?n:zs.RED,this.left=null!=i?i:zs.EMPTY,this.right=null!=r?r:zs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,i,r){return new zs(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let i=this;const r=n(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return zs.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,zs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,zs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ni();if(this.right.isRed())throw Ni();const t=this.left.check();if(t!==this.right.check())throw Ni();return t+(this.isRed()?0:1)}}zs.EMPTY=null,zs.RED=!0,zs.BLACK=!1,zs.EMPTY=new class{constructor(){this.size=0}get key(){throw Ni()}get value(){throw Ni()}get color(){throw Ni()}get left(){throw Ni()}get right(){throw Ni()}copy(t,e,n,i,r){return this}insert(t,e,n){return new zs(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Us{constructor(t){this.comparator=t,this.data=new Bs(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new $s(this.data.getIterator())}getIteratorFrom(t){return new $s(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Us))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(0!==this.comparator(t,i))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Us(this.comparator);return e.data=t,e}}class $s{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hs(t){return t.hasNext()?t.getNext():void 0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t){this.fields=t,t.sort(or.comparator)}static empty(){return new Ws([])}unionWith(t){let e=new Us(or.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Ws(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ji(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(t){this.value=t}static empty(){return new Ks({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!cs(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=us(e)}setAll(t){let e=or.emptyPath(),n={},i=[];t.forEach(((t,r)=>{if(!e.isImmediateParentOf(r)){const t=this.getFieldsMap(e);this.applyChanges(t,n,i),n={},i=[],e=r.popLast()}t?n[r.lastSegment()]=us(t):i.push(r.lastSegment())}));const r=this.getFieldsMap(e);this.applyChanges(r,n,i)}delete(t){const e=this.field(t.popLast());cs(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Zr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=e.mapValue.fields[t.get(n)];cs(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,n){Nr(e,((e,n)=>t[e]=n));for(const i of n)delete t[i]}clone(){return new Ks(us(this.value))}}function Gs(t){const e=[];return Nr(t.fields,((t,n)=>{const i=new or([t]);if(cs(n)){const t=Gs(n.mapValue).fields;if(0===t.length)e.push(i);else for(const n of t)e.push(i.child(n))}else e.push(i)})),new Ws(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Ys{constructor(t,e,n,i,r,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Ys(t,0,nr.min(),nr.min(),nr.min(),Ks.empty(),0)}static newFoundDocument(t,e,n,i){return new Ys(t,1,e,nr.min(),n,i,0)}static newNoDocument(t,e){return new Ys(t,2,e,nr.min(),nr.min(),Ks.empty(),0)}static newUnknownDocument(t,e){return new Ys(t,3,e,nr.min(),nr.min(),Ks.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(nr.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ks.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ks.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Ys&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ys(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t,e=null,n=[],i=[],r=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=o,this.ft=null}}function Xs(t,e=null,n=[],i=[],r=null,s=null,o=null){return new Qs(t,e,n,i,r,s,o)}function Zs(t){const e=Vi(t);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Es(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),Vr(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>ns(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>ns(t))).join(",")),e.ft=t}return e.ft}function Js(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qs(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ts(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ys(t.startAt,e.startAt)&&ys(t.endAt,e.endAt)}function to(t){return ar.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function eo(t,e){return t.filters.filter((t=>t instanceof ws&&t.field.isEqual(e)))}function no(t,e,n){let i=Qr,r=!0;for(const s of eo(t,e)){let t=Qr,e=!0;switch(s.op){case"<":case"<=":t=ds(s.value);break;case"==":case"in":case">=":t=s.value;break;case">":t=s.value,e=!1;break;case"!=":case"not-in":t=Qr}ps({value:i,inclusive:r},{value:t,inclusive:e})<0&&(i=t,r=e)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const t=n.position[s];ps({value:i,inclusive:r},{value:t,inclusive:n.inclusive})<0&&(i=t,r=n.inclusive);break}return{value:i,inclusive:r}}function io(t,e,n){let i=Yr,r=!0;for(const s of eo(t,e)){let t=Yr,e=!0;switch(s.op){case">=":case">":t=fs(s.value),e=!1;break;case"==":case"in":case"<=":t=s.value;break;case"<":t=s.value,e=!1;break;case"!=":case"not-in":t=Yr}gs({value:i,inclusive:r},{value:t,inclusive:e})>0&&(i=t,r=e)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const t=n.position[s];gs({value:i,inclusive:r},{value:t,inclusive:n.inclusive})>0&&(i=t,r=n.inclusive);break}return{value:i,inclusive:r}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,e=null,n=[],i=[],r=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=o,this.endAt=a,this.dt=null,this._t=null,this.startAt,this.endAt}}function so(t,e,n,i,r,s,o,a){return new ro(t,e,n,i,r,s,o,a)}function oo(t){return new ro(t)}function ao(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function lo(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function co(t){for(const e of t.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function uo(t){return null!==t.collectionGroup}function ho(t){const e=Vi(t);if(null===e.dt){e.dt=[];const t=co(e),n=lo(e);if(null!==t&&null===n)t.isKeyField()||e.dt.push(new Vs(t)),e.dt.push(new Vs(or.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.dt.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Vs(or.keyField(),t))}}}return e.dt}function fo(t){const e=Vi(t);if(!e._t)if("F"===e.limitType)e._t=Xs(e.path,e.collectionGroup,ho(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const r of ho(e)){const e="desc"===r.dir?"asc":"desc";t.push(new Vs(r.field,e))}const n=e.endAt?new ms(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ms(e.startAt.position,e.startAt.inclusive):null;e._t=Xs(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}return e._t}function po(t,e){e.getFirstInequalityField(),co(t);const n=t.filters.concat([e]);return new ro(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function go(t,e,n){return new ro(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mo(t,e){return Js(fo(t),fo(e))&&t.limitType===e.limitType}function vo(t){return`${Zs(fo(t))}|lt:${t.limitType}`}function yo(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>As(t))).join(", ")}]`),Vr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>ns(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>ns(t))).join(",")),`Target(${e})`}(fo(t))}; limitType=${t.limitType})`}function bo(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ar.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of ho(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const i=vs(t,e,n);return t.inclusive?i<=0:i<0}(t.startAt,ho(t),e))&&!(t.endAt&&!function(t,e,n){const i=vs(t,e,n);return t.inclusive?i>=0:i>0}(t.endAt,ho(t),e))}(t,e)}function wo(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _o(t){return(e,n)=>{let i=!1;for(const r of ho(t)){const t=xo(r,e,n);if(0!==t)return t;i=i||r.field.isKeyField()}return 0}}function xo(t,e,n){const i=t.field.isKeyField()?ar.comparator(e.key,n.key):function(t,e,n){const i=e.data.field(t),r=n.data.field(t);return null!==i&&null!==r?ts(i,r):Ni()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ni()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qr(e)?"-0":e}}function ko(t){return{integerValue:""+t}}function Io(t,e){return Br(e)?ko(e):So(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this._=void 0}}function To(t,e,n){return t instanceof Mo?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Do?Oo(t,e):t instanceof Po?Ro(t,e):function(t,e){const n=Ao(t,e),i=No(n)+No(t.gt);return ss(n)&&ss(t.gt)?ko(i):So(t.yt,i)}(t,e)}function Co(t,e,n){return t instanceof Do?Oo(t,e):t instanceof Po?Ro(t,e):n}function Ao(t,e){return t instanceof Lo?ss(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class Mo extends Eo{}class Do extends Eo{constructor(t){super(),this.elements=t}}function Oo(t,e){const n=Fo(e);for(const i of t.elements)n.some((t=>Zr(t,i)))||n.push(i);return{arrayValue:{values:n}}}class Po extends Eo{constructor(t){super(),this.elements=t}}function Ro(t,e){let n=Fo(e);for(const i of t.elements)n=n.filter((t=>!Zr(t,i)));return{arrayValue:{values:n}}}class Lo extends Eo{constructor(t,e){super(),this.yt=t,this.gt=e}}function No(t){return $r(t.integerValue||t.doubleValue)}function Fo(t){return os(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t,e){this.field=t,this.transform=e}}function qo(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Do&&e instanceof Do||t instanceof Po&&e instanceof Po?Ji(t.elements,e.elements,Zr):t instanceof Lo&&e instanceof Lo?Zr(t.gt,e.gt):t instanceof Mo&&e instanceof Mo}(t.transform,e.transform)}class Bo{constructor(t,e){this.version=t,this.transformResults=e}}class jo{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new jo}static exists(t){return new jo(void 0,t)}static updateTime(t){return new jo(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zo(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Uo{}function $o(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ta(t.key,jo.none()):new Yo(t.key,t.data,jo.none());{const n=t.data,i=Ks.empty();let r=new Us(or.comparator);for(let t of e.fields)if(!r.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?i.delete(t):i.set(t,e),r=r.add(t)}return new Qo(t.key,i,new Ws(r.toArray()),jo.none())}}function Ho(t,e,n){t instanceof Yo?function(t,e,n){const i=t.value.clone(),r=Zo(t.fieldTransforms,e,n.transformResults);i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):t instanceof Qo?function(t,e,n){if(!zo(t.precondition,e))return void e.convertToUnknownDocument(n.version);const i=Zo(t.fieldTransforms,e,n.transformResults),r=e.data;r.setAll(Xo(t)),r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Wo(t,e,n,i){return t instanceof Yo?function(t,e,n,i){if(!zo(t.precondition,e))return n;const r=t.value.clone(),s=Jo(t.fieldTransforms,i,e);return r.setAll(s),e.convertToFoundDocument(e.version,r).setHasLocalMutations(),null}(t,e,n,i):t instanceof Qo?function(t,e,n,i){if(!zo(t.precondition,e))return n;const r=Jo(t.fieldTransforms,i,e),s=e.data;return s.setAll(Xo(t)),s.setAll(r),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,i):function(t,e,n){return zo(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function Ko(t,e){let n=null;for(const i of t.fieldTransforms){const t=e.data.field(i.field),r=Ao(i.transform,t||null);null!=r&&(null===n&&(n=Ks.empty()),n.set(i.field,r))}return n||null}function Go(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ji(t,e,((t,e)=>qo(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yo extends Uo{constructor(t,e,n,i=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Qo extends Uo{constructor(t,e,n,i,r=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Xo(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}})),e}function Zo(t,e,n){const i=new Map;Fi(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,Co(o,a,n[r]))}return i}function Jo(t,e,n){const i=new Map;for(const r of t){const t=r.transform,s=n.data.field(r.field);i.set(r.field,To(t,s,e))}return i}class ta extends Uo{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ea extends Uo{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t){this.count=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ia,ra;function sa(t){switch(t){default:return Ni();case qi.CANCELLED:case qi.UNKNOWN:case qi.DEADLINE_EXCEEDED:case qi.RESOURCE_EXHAUSTED:case qi.INTERNAL:case qi.UNAVAILABLE:case qi.UNAUTHENTICATED:return!1;case qi.INVALID_ARGUMENT:case qi.NOT_FOUND:case qi.ALREADY_EXISTS:case qi.PERMISSION_DENIED:case qi.FAILED_PRECONDITION:case qi.ABORTED:case qi.OUT_OF_RANGE:case qi.UNIMPLEMENTED:case qi.DATA_LOSS:return!0}}function oa(t){if(void 0===t)return Pi("GRPC error has no .code"),qi.UNKNOWN;switch(t){case ia.OK:return qi.OK;case ia.CANCELLED:return qi.CANCELLED;case ia.UNKNOWN:return qi.UNKNOWN;case ia.DEADLINE_EXCEEDED:return qi.DEADLINE_EXCEEDED;case ia.RESOURCE_EXHAUSTED:return qi.RESOURCE_EXHAUSTED;case ia.INTERNAL:return qi.INTERNAL;case ia.UNAVAILABLE:return qi.UNAVAILABLE;case ia.UNAUTHENTICATED:return qi.UNAUTHENTICATED;case ia.INVALID_ARGUMENT:return qi.INVALID_ARGUMENT;case ia.NOT_FOUND:return qi.NOT_FOUND;case ia.ALREADY_EXISTS:return qi.ALREADY_EXISTS;case ia.PERMISSION_DENIED:return qi.PERMISSION_DENIED;case ia.FAILED_PRECONDITION:return qi.FAILED_PRECONDITION;case ia.ABORTED:return qi.ABORTED;case ia.OUT_OF_RANGE:return qi.OUT_OF_RANGE;case ia.UNIMPLEMENTED:return qi.UNIMPLEMENTED;case ia.DATA_LOSS:return qi.DATA_LOSS;default:return Ni()}}(ra=ia||(ia={}))[ra.OK=0]="OK",ra[ra.CANCELLED=1]="CANCELLED",ra[ra.UNKNOWN=2]="UNKNOWN",ra[ra.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ra[ra.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ra[ra.NOT_FOUND=5]="NOT_FOUND",ra[ra.ALREADY_EXISTS=6]="ALREADY_EXISTS",ra[ra.PERMISSION_DENIED=7]="PERMISSION_DENIED",ra[ra.UNAUTHENTICATED=16]="UNAUTHENTICATED",ra[ra.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ra[ra.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ra[ra.ABORTED=10]="ABORTED",ra[ra.OUT_OF_RANGE=11]="OUT_OF_RANGE",ra[ra.UNIMPLEMENTED=12]="UNIMPLEMENTED",ra[ra.INTERNAL=13]="INTERNAL",ra[ra.UNAVAILABLE=14]="UNAVAILABLE",ra[ra.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class aa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),i=this.inner[n];if(void 0===i)return this.inner[n]=[[t,e]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return 1===n.length?delete this.inner[e]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Nr(this.inner,((e,n)=>{for(const[i,r]of n)t(i,r)}))}isEmpty(){return Fr(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new Bs(ar.comparator);function ca(){return la}const ua=new Bs(ar.comparator);function ha(...t){let e=ua;for(const n of t)e=e.insert(n.key,n);return e}function da(t){let e=ua;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function fa(){return ga()}function pa(){return ga()}function ga(){return new aa((t=>t.toString()),((t,e)=>t.isEqual(e)))}const ma=new Bs(ar.comparator),va=new Us(ar.comparator);function ya(...t){let e=va;for(const n of t)e=e.add(n);return e}const ba=new Us(Zi);function wa(){return ba}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t,e,n,i,r){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const i=new Map;return i.set(t,xa.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new _a(nr.min(),i,wa(),ca(),ya())}}class xa{constructor(t,e,n,i,r){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new xa(n,e,ya(),ya(),ya())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,e,n,i){this.It=t,this.removedTargetIds=e,this.key=n,this.Tt=i}}class ka{constructor(t,e){this.targetId=t,this.Et=e}}class Ia{constructor(t,e,n=jr.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i}}class Ea{constructor(){this.At=0,this.Rt=Aa(),this.bt=jr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(t){t.approximateByteSize()>0&&(this.vt=!0,this.bt=t)}Ct(){let t=ya(),e=ya(),n=ya();return this.Rt.forEach(((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:n=n.add(i);break;default:Ni()}})),new xa(this.bt,this.Pt,t,e,n)}xt(){this.vt=!1,this.Rt=Aa()}Nt(t,e){this.vt=!0,this.Rt=this.Rt.insert(t,e)}kt(t){this.vt=!0,this.Rt=this.Rt.remove(t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Ta{constructor(t){this.$t=t,this.Bt=new Map,this.Lt=ca(),this.qt=Ca(),this.Ut=new Us(Zi)}Kt(t){for(const e of t.It)t.Tt&&t.Tt.isFoundDocument()?this.Gt(e,t.Tt):this.Qt(e,t.key,t.Tt);for(const e of t.removedTargetIds)this.Qt(e,t.key,t.Tt)}jt(t){this.forEachTarget(t,(e=>{const n=this.Wt(e);switch(t.state){case 0:this.zt(e)&&n.Dt(t.resumeToken);break;case 1:n.Mt(),n.Vt||n.xt(),n.Dt(t.resumeToken);break;case 2:n.Mt(),n.Vt||this.removeTarget(e);break;case 3:this.zt(e)&&(n.Ft(),n.Dt(t.resumeToken));break;case 4:this.zt(e)&&(this.Ht(e),n.Dt(t.resumeToken));break;default:Ni()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Bt.forEach(((t,n)=>{this.zt(n)&&e(n)}))}Jt(t){const e=t.targetId,n=t.Et.count,i=this.Yt(e);if(i){const t=i.target;if(to(t))if(0===n){const n=new ar(t.path);this.Qt(e,n,Ys.newNoDocument(n,nr.min()))}else Fi(1===n);else this.Xt(e)!==n&&(this.Ht(e),this.Ut=this.Ut.add(e))}}Zt(t){const e=new Map;this.Bt.forEach(((n,i)=>{const r=this.Yt(i);if(r){if(n.current&&to(r.target)){const e=new ar(r.target.path);null!==this.Lt.get(e)||this.te(i,e)||this.Qt(i,e,Ys.newNoDocument(e,t))}n.St&&(e.set(i,n.Ct()),n.xt())}}));let n=ya();this.qt.forEach(((t,e)=>{let i=!0;e.forEachWhile((t=>{const e=this.Yt(t);return!e||2===e.purpose||(i=!1,!1)})),i&&(n=n.add(t))})),this.Lt.forEach(((e,n)=>n.setReadTime(t)));const i=new _a(t,e,this.Ut,this.Lt,n);return this.Lt=ca(),this.qt=Ca(),this.Ut=new Us(Zi),i}Gt(t,e){if(!this.zt(t))return;const n=this.te(t,e.key)?2:0;this.Wt(t).Nt(e.key,n),this.Lt=this.Lt.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ee(e.key).add(t))}Qt(t,e,n){if(!this.zt(t))return;const i=this.Wt(t);this.te(t,e)?i.Nt(e,1):i.kt(e),this.qt=this.qt.insert(e,this.ee(e).delete(t)),n&&(this.Lt=this.Lt.insert(e,n))}removeTarget(t){this.Bt.delete(t)}Xt(t){const e=this.Wt(t).Ct();return this.$t.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.Wt(t).Ot()}Wt(t){let e=this.Bt.get(t);return e||(e=new Ea,this.Bt.set(t,e)),e}ee(t){let e=this.qt.get(t);return e||(e=new Us(Zi),this.qt=this.qt.insert(t,e)),e}zt(t){const e=null!==this.Yt(t);return e||Oi("WatchChangeAggregator","Detected inactive target",t),e}Yt(t){const e=this.Bt.get(t);return e&&e.Vt?null:this.$t.ne(t)}Ht(t){this.Bt.set(t,new Ea),this.$t.getRemoteKeysForTarget(t).forEach((e=>{this.Qt(t,e,null)}))}te(t,e){return this.$t.getRemoteKeysForTarget(t).has(e)}}function Ca(){return new Bs(ar.comparator)}function Aa(){return new Bs(ar.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=(()=>{const t={asc:"ASCENDING",desc:"DESCENDING"};return t})(),Da=(()=>{const t={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return t})(),Oa=(()=>{const t={and:"AND",or:"OR"};return t})();class Pa{constructor(t,e){this.databaseId=t,this.wt=e}}function Ra(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function La(t,e){return t.wt?e.toBase64():e.toUint8Array()}function Na(t,e){return Ra(t,e.toTimestamp())}function Fa(t){return Fi(!!t),nr.fromTimestamp(function(t){const e=Ur(t);return new er(e.seconds,e.nanos)}(t))}function Va(t,e){return function(t){return new rr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function qa(t){const e=rr.fromString(t);return Fi(ul(e)),e}function Ba(t,e){return Va(t.databaseId,e.path)}function ja(t,e){const n=qa(e);if(n.get(1)!==t.databaseId.projectId)throw new Bi(qi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Bi(qi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ar(Ha(n))}function za(t,e){return Va(t.databaseId,e)}function Ua(t){const e=qa(t);return 4===e.length?rr.emptyPath():Ha(e)}function $a(t){return new rr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ha(t){return Fi(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Wa(t,e,n){return{name:Ba(t,e),fields:n.value.mapValue.fields}}function Ka(t,e,n){const i=ja(t,e.name),r=Fa(e.updateTime),s=e.createTime?Fa(e.createTime):nr.min(),o=new Ks({mapValue:{fields:e.fields}}),a=Ys.newFoundDocument(i,r,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ga(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ni()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(t,e){return t.wt?(Fi(void 0===e||"string"==typeof e),jr.fromBase64String(e||"")):(Fi(void 0===e||e instanceof Uint8Array),jr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?qi.UNKNOWN:oa(t.code);return new Bi(e,t.message||"")}(o);n=new Ia(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=ja(t,i.document.name),s=Fa(i.document.updateTime),o=i.document.createTime?Fa(i.document.createTime):nr.min(),a=new Ks({mapValue:{fields:i.document.fields}}),l=Ys.newFoundDocument(r,s,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new Sa(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=ja(t,i.document),s=i.readTime?Fa(i.readTime):nr.min(),o=Ys.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Sa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=ja(t,i.document),s=i.removedTargetIds||[];n=new Sa([],s,r,null)}else{if(!("filter"in e))return Ni();{e.filter;const t=e.filter;t.targetId;const i=t.count||0,r=new na(i),s=t.targetId;n=new ka(s,r)}}return n}function Ya(t,e){let n;if(e instanceof Yo)n={update:Wa(t,e.key,e.value)};else if(e instanceof ta)n={delete:Ba(t,e.key)};else if(e instanceof Qo)n={update:Wa(t,e.key,e.data),updateMask:cl(e.fieldMask)};else{if(!(e instanceof ea))return Ni();n={verify:Ba(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof Mo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Do)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Po)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Lo)return{fieldPath:e.field.canonicalString(),increment:n.gt};throw Ni()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Na(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ni()}(t,e.precondition)),n}function Qa(t,e){const n=e.currentDocument?function(t){return void 0!==t.updateTime?jo.updateTime(Fa(t.updateTime)):void 0!==t.exists?jo.exists(t.exists):jo.none()}(e.currentDocument):jo.none(),i=e.updateTransforms?e.updateTransforms.map((e=>function(t,e){let n=null;if("setToServerValue"in e)Fi("REQUEST_TIME"===e.setToServerValue),n=new Mo;else if("appendMissingElements"in e){const t=e.appendMissingElements.values||[];n=new Do(t)}else if("removeAllFromArray"in e){const t=e.removeAllFromArray.values||[];n=new Po(t)}else"increment"in e?n=new Lo(t,e.increment):Ni();const i=or.fromServerFormat(e.fieldPath);return new Vo(i,n)}(t,e))):[];if(e.update){e.update.name;const r=ja(t,e.update.name),s=new Ks({mapValue:{fields:e.update.fields}});if(e.updateMask){const t=function(t){const e=t.fieldPaths||[];return new Ws(e.map((t=>or.fromServerFormat(t))))}(e.updateMask);return new Qo(r,s,t,n,i)}return new Yo(r,s,n,i)}if(e.delete){const i=ja(t,e.delete);return new ta(i,n)}if(e.verify){const i=ja(t,e.verify);return new ea(i,n)}return Ni()}function Xa(t,e){return t&&t.length>0?(Fi(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?Fa(t.updateTime):Fa(e);return n.isEqual(nr.min())&&(n=Fa(e)),new Bo(n,t.transformResults||[])}(t,e)))):[]}function Za(t,e){return{documents:[za(t,e.path)]}}function Ja(t,e){const n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=za(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=za(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(t){if(0!==t.length)return ll(_s.create(t,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const s=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:ol(t.field),direction:il(t.dir)}}(t)))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(t,e){return t.wt||Vr(e)?e:{value:e}}(t,e.limit);var a;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function tl(t){let e=Ua(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Fi(1===i);const t=n.from[0];t.allDescendants?r=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=nl(t);return e instanceof _s&&ks(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((t=>function(t){return new Vs(al(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,Vr(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new ms(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new ms(n,e)}(n.endAt)),so(e,r,o,s,a,"F",l,c)}function el(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ni()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}function nl(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=al(t.unaryFilter.field);return ws.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=al(t.unaryFilter.field);return ws.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=al(t.unaryFilter.field);return ws.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=al(t.unaryFilter.field);return ws.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Ni()}}(t):void 0!==t.fieldFilter?function(t){return ws.create(al(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ni()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return _s.create(t.compositeFilter.filters.map((t=>nl(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Ni()}}(t.compositeFilter.op))}(t):Ni()}function il(t){return Ma[t]}function rl(t){return Da[t]}function sl(t){return Oa[t]}function ol(t){return{fieldPath:t.canonicalString()}}function al(t){return or.fromServerFormat(t.fieldPath)}function ll(t){return t instanceof ws?function(t){if("=="===t.op){if(ls(t.value))return{unaryFilter:{field:ol(t.field),op:"IS_NAN"}};if(as(t.value))return{unaryFilter:{field:ol(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ls(t.value))return{unaryFilter:{field:ol(t.field),op:"IS_NOT_NAN"}};if(as(t.value))return{unaryFilter:{field:ol(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(t.field),op:rl(t.op),value:t.value}}}(t):t instanceof _s?function(t){const e=t.getFilters().map((t=>ll(t)));return 1===e.length?e[0]:{compositeFilter:{op:sl(t.op),filters:e}}}(t):Ni()}function cl(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ul(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=fl(e)),e=dl(t.get(n),e);return fl(e)}function dl(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const e=t.charAt(r);switch(e){case"\0":n+="";break;case"":n+="";break;default:n+=e}}return n}function fl(t){return t+""}function pl(t){const e=t.length;if(Fi(e>=2),2===e)return Fi(""===t.charAt(0)&&""===t.charAt(1)),rr.emptyPath();const n=e-2,i=[];let r="";for(let s=0;s<e;){const e=t.indexOf("",s);switch((e<0||e>n)&&Ni(),t.charAt(e+1)){case"":const n=t.substring(s,e);let o;0===r.length?o=n:(r+=n,o=r,r=""),i.push(o);break;case"":r+=t.substring(s,e),r+="\0";break;case"":r+=t.substring(s,e+1);break;default:Ni()}s=e+2}return new rr(i)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gl=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t,e){return[t,hl(e)]}function vl(t,e,n){return[t,hl(e),n]}const yl={},bl=["prefixPath","collectionGroup","readTime","documentId"],wl=["prefixPath","collectionGroup","documentId"],_l=["collectionGroup","readTime","prefixPath","documentId"],xl=["canonicalId","targetId"],Sl=["targetId","path"],kl=["path","targetId"],Il=["collectionId","parent"],El=["indexId","uid"],Tl=["uid","sequenceNumber"],Cl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Al=["indexId","uid","orderedDocumentKey"],Ml=["userId","collectionPath","documentId"],Dl=["userId","collectionPath","largestBatchId"],Ol=["userId","collectionGroup","largestBatchId"],Pl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rl=[...Pl,"documentOverlays"],Ll=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Nl=Ll,Fl=[...Nl,"indexConfiguration","indexState","indexEntries"];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends yr{constructor(t,e){super(),this.se=t,this.currentSequenceNumber=e}}function ql(t,e){const n=Vi(t);return xr.M(n.se,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t,e,n,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const e=this.mutations[i];e.key.isEqual(t.key)&&Ho(e,t,n[i])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Wo(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Wo(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=pa();return this.mutations.forEach((i=>{const r=t.get(i.key),s=r.overlayedDocument;let o=this.applyToLocalView(s,r.mutatedFields);o=e.has(i.key)?null:o;const a=$o(s,o);null!==a&&n.set(i.key,a),s.isValidDocument()||s.convertToNoDocument(nr.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),ya())}isEqual(t){return this.batchId===t.batchId&&Ji(this.mutations,t.mutations,((t,e)=>Go(t,e)))&&Ji(this.baseMutations,t.baseMutations,((t,e)=>Go(t,e)))}}class jl{constructor(t,e,n,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=i}static from(t,e,n){Fi(t.mutations.length===n.length);let i=ma;const r=t.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new jl(t,e,n,i)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(t,e,n,i,r=nr.min(),s=nr.min(),o=jr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(t){return new Ul(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new Ul(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(t){this.ie=t}}function Hl(t,e){let n;if(e.document)n=Ka(t.ie,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const t=ar.fromSegments(e.noDocument.path),i=Yl(e.noDocument.readTime);n=Ys.newNoDocument(t,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ni();{const t=ar.fromSegments(e.unknownDocument.path),i=Yl(e.unknownDocument.version);n=Ys.newUnknownDocument(t,i)}}return e.readTime&&n.setReadTime(function(t){const e=new er(t[0],t[1]);return nr.fromTimestamp(e)}(e.readTime)),n}function Wl(t,e){const n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Kl(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=function(t,e){return{name:Ba(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Ra(t,e.version.toTimestamp()),createTime:Ra(t,e.createTime.toTimestamp())}}(t.ie,e);else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:Gl(e.version)};else{if(!e.isUnknownDocument())return Ni();i.unknownDocument={path:n.path.toArray(),version:Gl(e.version)}}return i}function Kl(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Gl(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Yl(t){const e=new er(t.seconds,t.nanoseconds);return nr.fromTimestamp(e)}function Ql(t,e){const n=(e.baseMutations||[]).map((e=>Qa(t.ie,e)));for(let s=0;s<e.mutations.length-1;++s){const t=e.mutations[s];if(s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform){const n=e.mutations[s+1];t.updateTransforms=n.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const i=e.mutations.map((e=>Qa(t.ie,e))),r=er.fromMillis(e.localWriteTimeMs);return new Bl(e.batchId,r,n,i)}function Xl(t){const e=Yl(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Yl(t.lastLimboFreeSnapshotVersion):nr.min();let i;var r;return void 0!==t.query.documents?(Fi(1===(r=t.query).documents.length),i=fo(oo(Ua(r.documents[0])))):i=function(t){return fo(tl(t))}(t.query),new Ul(i,t.targetId,0,t.lastListenSequenceNumber,e,n,jr.fromBase64String(t.resumeToken))}function Zl(t,e){const n=Gl(e.snapshotVersion),i=Gl(e.lastLimboFreeSnapshotVersion);let r;r=to(e.target)?Za(t.ie,e.target):Ja(t.ie,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Zs(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Jl(t){const e=tl({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?go(e,e.limit,"L"):e}function tc(t,e){return new zl(e.largestBatchId,Qa(t.ie,e.overlayMutation))}function ec(t,e){const n=e.path.lastSegment();return[t,hl(e.path.popLast()),n]}function nc(t,e,n,i){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Gl(i.readTime),documentKey:hl(i.documentKey.path),largestBatchId:i.largestBatchId}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{getBundleMetadata(t,e){return rc(t).get(e).next((t=>{if(t)return{id:(e=t).bundleId,createTime:Yl(e.createTime),version:e.version};var e}))}saveBundleMetadata(t,e){return rc(t).put({bundleId:(n=e).id,createTime:Gl(Fa(n.createTime)),version:n.version});var n}getNamedQuery(t,e){return sc(t).get(e).next((t=>{if(t)return{name:(e=t).name,query:Jl(e.bundledQuery),readTime:Yl(e.readTime)};var e}))}saveNamedQuery(t,e){return sc(t).put(function(t){return{name:t.name,readTime:Gl(Fa(t.readTime)),bundledQuery:t.bundledQuery}}(e))}}function rc(t){return ql(t,"bundles")}function sc(t){return ql(t,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,e){this.yt=t,this.userId=e}static re(t,e){const n=e.uid||"";return new oc(t,n)}getOverlay(t,e){return ac(t).get(ec(this.userId,e)).next((t=>t?tc(this.yt,t):null))}getOverlays(t,e){const n=fa();return wr.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){const i=[];return n.forEach(((n,r)=>{const s=new zl(e,r);i.push(this.oe(t,s))})),wr.waitFor(i)}removeOverlaysForBatchId(t,e,n){const i=new Set;e.forEach((t=>i.add(hl(t.getCollectionPath()))));const r=[];return i.forEach((e=>{const i=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,n+1],!1,!0);r.push(ac(t).Y("collectionPathOverlayIndex",i))})),wr.waitFor(r)}getOverlaysForCollection(t,e,n){const i=fa(),r=hl(e),s=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return ac(t).W("collectionPathOverlayIndex",s).next((t=>{for(const e of t){const t=tc(this.yt,e);i.set(t.getKey(),t)}return i}))}getOverlaysForCollectionGroup(t,e,n,i){const r=fa();let s;const o=IDBKeyRange.bound([this.userId,e,n],[this.userId,e,Number.POSITIVE_INFINITY],!0);return ac(t).Z({index:"collectionGroupOverlayIndex",range:o},((t,e,n)=>{const o=tc(this.yt,e);r.size()<i||o.largestBatchId===s?(r.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>r))}oe(t,e){return ac(t).put(function(t,e,n){const[i,r,s]=ec(e,n.mutation.key);return{userId:e,collectionPath:r,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Ya(t.ie,n.mutation)}}(this.yt,this.userId,e))}}function ac(t){return ql(t,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){}ue(t,e){this.ce(t,e),e.ae()}ce(t,e){if("nullValue"in t)this.he(e,5);else if("booleanValue"in t)this.he(e,10),e.le(t.booleanValue?1:0);else if("integerValue"in t)this.he(e,15),e.le($r(t.integerValue));else if("doubleValue"in t){const n=$r(t.doubleValue);isNaN(n)?this.he(e,13):(this.he(e,15),qr(n)?e.le(0):e.le(n))}else if("timestampValue"in t){const n=t.timestampValue;this.he(e,20),"string"==typeof n?e.fe(n):(e.fe(`${n.seconds||""}`),e.le(n.nanos||0))}else if("stringValue"in t)this.de(t.stringValue,e),this._e(e);else if("bytesValue"in t)this.he(e,30),e.we(Hr(t.bytesValue)),this._e(e);else if("referenceValue"in t)this.me(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.he(e,45),e.le(n.latitude||0),e.le(n.longitude||0)}else"mapValue"in t?hs(t)?this.he(e,Number.MAX_SAFE_INTEGER):(this.ge(t.mapValue,e),this._e(e)):"arrayValue"in t?(this.ye(t.arrayValue,e),this._e(e)):Ni()}de(t,e){this.he(e,25),this.pe(t,e)}pe(t,e){e.fe(t)}ge(t,e){const n=t.fields||{};this.he(e,55);for(const i of Object.keys(n))this.de(i,e),this.ce(n[i],e)}ye(t,e){const n=t.values||[];this.he(e,50);for(const i of n)this.ce(i,e)}me(t,e){this.he(e,37),ar.fromName(t).path.forEach((t=>{this.he(e,60),this.pe(t,e)}))}he(t,e){t.le(e)}_e(t){t.le(2)}}function cc(t){if(0===t)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function uc(t){const e=64-function(t){let e=0;for(let n=0;n<8;++n){const i=cc(255&t[n]);if(e+=i,8!==i)break}return e}(t);return Math.ceil(e/8)}lc.Ie=new lc;class hc{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Te(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.Ee(n.value),n=e.next();this.Ae()}Re(t){const e=t[Symbol.iterator]();let n=e.next();for(;!n.done;)this.be(n.value),n=e.next();this.Pe()}ve(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.Ee(t);else if(t<2048)this.Ee(960|t>>>6),this.Ee(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.Ee(480|t>>>12),this.Ee(128|63&t>>>6),this.Ee(128|63&t);else{const t=e.codePointAt(0);this.Ee(240|t>>>18),this.Ee(128|63&t>>>12),this.Ee(128|63&t>>>6),this.Ee(128|63&t)}}this.Ae()}Ve(t){for(const e of t){const t=e.charCodeAt(0);if(t<128)this.be(t);else if(t<2048)this.be(960|t>>>6),this.be(128|63&t);else if(e<"\ud800"||"\udbff"<e)this.be(480|t>>>12),this.be(128|63&t>>>6),this.be(128|63&t);else{const t=e.codePointAt(0);this.be(240|t>>>18),this.be(128|63&t>>>12),this.be(128|63&t>>>6),this.be(128|63&t)}}this.Pe()}Se(t){const e=this.De(t),n=uc(e);this.Ce(1+n),this.buffer[this.position++]=255&n;for(let i=e.length-n;i<e.length;++i)this.buffer[this.position++]=255&e[i]}xe(t){const e=this.De(t),n=uc(e);this.Ce(1+n),this.buffer[this.position++]=~(255&n);for(let i=e.length-n;i<e.length;++i)this.buffer[this.position++]=~(255&e[i])}Ne(){this.ke(255),this.ke(255)}Oe(){this.Me(255),this.Me(255)}reset(){this.position=0}seed(t){this.Ce(t.length),this.buffer.set(t,this.position),this.position+=t.length}Fe(){return this.buffer.slice(0,this.position)}De(t){const e=function(t){const e=new DataView(new ArrayBuffer(8));return e.setFloat64(0,t,!1),new Uint8Array(e.buffer)}(t),n=0!=(128&e[0]);e[0]^=n?255:128;for(let i=1;i<e.length;++i)e[i]^=n?255:0;return e}Ee(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(e)}be(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(t)}Ae(){this.ke(0),this.ke(1)}Pe(){this.Me(0),this.Me(1)}ke(t){this.Ce(1),this.buffer[this.position++]=t}Me(t){this.Ce(1),this.buffer[this.position++]=~t}Ce(t){const e=t+this.position;if(e<=this.buffer.length)return;let n=2*this.buffer.length;n<e&&(n=e);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class dc{constructor(t){this.$e=t}we(t){this.$e.Te(t)}fe(t){this.$e.ve(t)}le(t){this.$e.Se(t)}ae(){this.$e.Ne()}}class fc{constructor(t){this.$e=t}we(t){this.$e.Re(t)}fe(t){this.$e.Ve(t)}le(t){this.$e.xe(t)}ae(){this.$e.Oe()}}class pc{constructor(){this.$e=new hc,this.Be=new dc(this.$e),this.Le=new fc(this.$e)}seed(t){this.$e.seed(t)}qe(t){return 0===t?this.Be:this.Le}Fe(){return this.$e.Fe()}reset(){this.$e.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,e,n,i){this.indexId=t,this.documentKey=e,this.arrayValue=n,this.directionalValue=i}Ue(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,n=new Uint8Array(e);return n.set(this.directionalValue,0),e!==t?n.set([0],this.directionalValue.length):++n[n.length-1],new gc(this.indexId,this.documentKey,this.arrayValue,n)}}function mc(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=vc(t.arrayValue,e.arrayValue),0!==n?n:(n=vc(t.directionalValue,e.directionalValue),0!==n?n:ar.comparator(t.documentKey,e.documentKey)))}function vc(t,e){for(let n=0;n<t.length&&n<e.length;++n){const i=t[n]-e[n];if(0!==i)return i}return t.length-e.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ke=t.orderBy,this.Ge=[];for(const e of t.filters){const t=e;t.isInequality()?this.Qe=t:this.Ge.push(t)}}je(t){Fi(t.collectionGroup===this.collectionId);const e=cr(t);if(void 0!==e&&!this.We(e))return!1;const n=ur(t);let i=0,r=0;for(;i<n.length&&this.We(n[i]);++i);if(i===n.length)return!0;if(void 0!==this.Qe){const t=n[i];if(!this.ze(this.Qe,t)||!this.He(this.Ke[r++],t))return!1;++i}for(;i<n.length;++i){const t=n[i];if(r>=this.Ke.length||!this.He(this.Ke[r++],t))return!1}return!0}We(t){for(const e of this.Ge)if(this.ze(e,t))return!0;return!1}ze(t,e){if(void 0===t||!t.field.isEqual(e.fieldPath))return!1;const n="array-contains"===t.op||"array-contains-any"===t.op;return 2===e.kind===n}He(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){var e,n;if(Fi(t instanceof ws||t instanceof _s),t instanceof ws){if(t instanceof Ls){const i=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map((e=>ws.create(t.field,"==",e))))||[];return _s.create(i,"or")}return t}const i=t.filters.map((t=>bc(t)));return _s.create(i,t.op)}function wc(t){if(0===t.getFilters().length)return[];const e=kc(bc(t));return Fi(Sc(e)),_c(e)||xc(e)?[e]:e.getFilters()}function _c(t){return t instanceof ws}function xc(t){return t instanceof _s&&ks(t)}function Sc(t){return _c(t)||xc(t)||function(t){if(t instanceof _s&&Ss(t)){for(const e of t.getFilters())if(!_c(e)&&!xc(e))return!1;return!0}return!1}(t)}function kc(t){if(Fi(t instanceof ws||t instanceof _s),t instanceof ws)return t;if(1===t.filters.length)return kc(t.filters[0]);const e=t.filters.map((t=>kc(t)));let n=_s.create(e,t.op);return n=Tc(n),Sc(n)?n:(Fi(n instanceof _s),Fi(xs(n)),Fi(n.filters.length>1),n.filters.reduce(((t,e)=>Ic(t,e))))}function Ic(t,e){let n;return Fi(t instanceof ws||t instanceof _s),Fi(e instanceof ws||e instanceof _s),n=t instanceof ws?e instanceof ws?function(t,e){return _s.create([t,e],"and")}(t,e):Ec(t,e):e instanceof ws?Ec(e,t):function(t,e){if(Fi(t.filters.length>0&&e.filters.length>0),xs(t)&&xs(e))return Cs(t,e.getFilters());const n=Ss(t)?t:e,i=Ss(t)?e:t,r=n.filters.map((t=>Ic(t,i)));return _s.create(r,"or")}(t,e),Tc(n)}function Ec(t,e){if(xs(e))return Cs(e,t.getFilters());{const n=e.filters.map((e=>Ic(t,e)));return _s.create(n,"or")}}function Tc(t){if(Fi(t instanceof ws||t instanceof _s),t instanceof ws)return t;const e=t.getFilters();if(1===e.length)return Tc(e[0]);if(Is(t))return t;const n=e.map((t=>Tc(t))),i=[];return n.forEach((e=>{e instanceof ws?i.push(e):e instanceof _s&&(e.op===t.op?i.push(...e.filters):i.push(e))})),1===i.length?i[0]:_s.create(i,t.op)
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Cc{constructor(){this.Je=new Ac}addToCollectionParentIndex(t,e){return this.Je.add(e),wr.resolve()}getCollectionParents(t,e){return wr.resolve(this.Je.getEntries(e))}addFieldIndex(t,e){return wr.resolve()}deleteFieldIndex(t,e){return wr.resolve()}getDocumentsMatchingTarget(t,e){return wr.resolve(null)}getIndexType(t,e){return wr.resolve(0)}getFieldIndexes(t,e){return wr.resolve([])}getNextCollectionGroupToUpdate(t){return wr.resolve(null)}getMinOffset(t,e){return wr.resolve(gr.min())}getMinOffsetFromCollectionGroup(t,e){return wr.resolve(gr.min())}updateCollectionGroup(t,e,n){return wr.resolve()}updateIndexEntries(t,e){return wr.resolve()}}class Ac{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e]||new Us(rr.comparator),r=!i.has(n);return this.index[e]=i.add(n),r}has(t){const e=t.lastSegment(),n=t.popLast(),i=this.index[e];return i&&i.has(n)}getEntries(t){return(this.index[t]||new Us(rr.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Uint8Array(0);class Dc{constructor(t,e){this.user=t,this.databaseId=e,this.Ye=new Ac,this.Xe=new aa((t=>Zs(t)),((t,e)=>Js(t,e))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Ye.has(e)){const n=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((()=>{this.Ye.add(e)}));const r={collectionId:n,parent:hl(i)};return Oc(t).put(r)}return wr.resolve()}getCollectionParents(t,e){const n=[],i=IDBKeyRange.bound([e,""],[tr(e),""],!1,!0);return Oc(t).W(i).next((t=>{for(const i of t){if(i.collectionId!==e)break;n.push(pl(i.parent))}return n}))}addFieldIndex(t,e){const n=Rc(t),i=function(t){return{indexId:t.indexId,collectionGroup:t.collectionGroup,fields:t.fields.map((t=>[t.fieldPath.canonicalString(),t.kind]))}}(e);delete i.indexId;const r=n.add(i);if(e.indexState){const n=Lc(t);return r.next((t=>{n.put(nc(t,this.user,e.indexState.sequenceNumber,e.indexState.offset))}))}return r.next()}deleteFieldIndex(t,e){const n=Rc(t),i=Lc(t),r=Pc(t);return n.delete(e.indexId).next((()=>i.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}getDocumentsMatchingTarget(t,e){const n=Pc(t);let i=!0;const r=new Map;return wr.forEach(this.Ze(e),(e=>this.tn(t,e).next((t=>{i&&(i=!!t),r.set(e,t)})))).next((()=>{if(i){let t=ya();const i=[];return wr.forEach(r,((r,s)=>{var o;Oi("IndexedDbIndexManager",`Using index ${o=r,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map((t=>`${t.fieldPath}:${t.kind}`)).join(",")}`} to execute ${Zs(e)}`);const a=function(t,e){const n=cr(e);if(void 0===n)return null;for(const i of eo(t,n.fieldPath))switch(i.op){case"array-contains-any":return i.value.arrayValue.values||[];case"array-contains":return[i.value]}return null}(s,r),l=function(t,e){const n=new Map;for(const i of ur(e))for(const e of eo(t,i.fieldPath))switch(e.op){case"==":case"in":n.set(i.fieldPath.canonicalString(),e.value);break;case"not-in":case"!=":return n.set(i.fieldPath.canonicalString(),e.value),Array.from(n.values())}return null}(s,r),c=function(t,e){const n=[];let i=!0;for(const r of ur(e)){const e=0===r.kind?no(t,r.fieldPath,t.startAt):io(t,r.fieldPath,t.startAt);n.push(e.value),i&&(i=e.inclusive)}return new ms(n,i)}(s,r),u=function(t,e){const n=[];let i=!0;for(const r of ur(e)){const e=0===r.kind?io(t,r.fieldPath,t.endAt):no(t,r.fieldPath,t.endAt);n.push(e.value),i&&(i=e.inclusive)}return new ms(n,i)}(s,r),h=this.en(r,s,c),d=this.en(r,s,u),f=this.nn(r,s,l),p=this.sn(r.indexId,a,h,c.inclusive,d,u.inclusive,f);return wr.forEach(p,(r=>n.J(r,e.limit).next((e=>{e.forEach((e=>{const n=ar.fromSegments(e.documentKey);t.has(n)||(t=t.add(n),i.push(n))}))}))))})).next((()=>i))}return wr.resolve(null)}))}Ze(t){let e=this.Xe.get(t);return e||(e=0===t.filters.length?[t]:wc(_s.create(t.filters,"and")).map((e=>Xs(t.path,t.collectionGroup,t.orderBy,e.getFilters(),t.limit,t.startAt,t.endAt))),this.Xe.set(t,e),e)}sn(t,e,n,i,r,s,o){const a=(null!=e?e.length:1)*Math.max(n.length,r.length),l=a/(null!=e?e.length:1),c=[];for(let u=0;u<a;++u){const a=e?this.rn(e[u/l]):Mc,h=this.on(t,a,n[u%l],i),d=this.un(t,a,r[u%l],s),f=o.map((e=>this.on(t,a,e,!0)));c.push(...this.createRange(h,d,f))}return c}on(t,e,n,i){const r=new gc(t,ar.empty(),e,n);return i?r:r.Ue()}un(t,e,n,i){const r=new gc(t,ar.empty(),e,n);return i?r.Ue():r}tn(t,e){const n=new yc(e),i=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,i).next((t=>{let e=null;for(const i of t)n.je(i)&&(!e||i.fields.length>e.fields.length)&&(e=i);return e}))}getIndexType(t,e){let n=2;const i=this.Ze(e);return wr.forEach(i,(e=>this.tn(t,e).next((t=>{t?0!==n&&t.fields.length<function(t){let e=new Us(or.comparator),n=!1;for(const i of t.filters)for(const t of i.getFlattenedFilters())t.field.isKeyField()||("array-contains"===t.op||"array-contains-any"===t.op?n=!0:e=e.add(t.field));for(const i of t.orderBy)i.field.isKeyField()||(e=e.add(i.field));return e.size+(n?1:0)}(e)&&(n=1):n=0})))).next((()=>function(t){return null!==t.limit}(e)&&i.length>1&&2===n?1:n))}cn(t,e){const n=new pc;for(const i of ur(t)){const t=e.data.field(i.fieldPath);if(null==t)return null;const r=n.qe(i.kind);lc.Ie.ue(t,r)}return n.Fe()}rn(t){const e=new pc;return lc.Ie.ue(t,e.qe(0)),e.Fe()}an(t,e){const n=new pc;return lc.Ie.ue(rs(this.databaseId,e),n.qe(function(t){const e=ur(t);return 0===e.length?0:e[e.length-1].kind}(t))),n.Fe()}nn(t,e,n){if(null===n)return[];let i=[];i.push(new pc);let r=0;for(const s of ur(t)){const t=n[r++];for(const n of i)if(this.hn(e,s.fieldPath)&&os(t))i=this.ln(i,s,t);else{const e=n.qe(s.kind);lc.Ie.ue(t,e)}}return this.fn(i)}en(t,e,n){return this.nn(t,e,n.position)}fn(t){const e=[];for(let n=0;n<t.length;++n)e[n]=t[n].Fe();return e}ln(t,e,n){const i=[...t],r=[];for(const s of n.arrayValue.values||[])for(const t of i){const n=new pc;n.seed(t.Fe()),lc.Ie.ue(s,n.qe(e.kind)),r.push(n)}return r}hn(t,e){return!!t.filters.find((t=>t instanceof ws&&t.field.isEqual(e)&&("in"===t.op||"not-in"===t.op)))}getFieldIndexes(t,e){const n=Rc(t),i=Lc(t);return(e?n.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):n.W()).next((t=>{const e=[];return wr.forEach(t,(t=>i.get([t.indexId,this.uid]).next((n=>{e.push(function(t,e){const n=e?new dr(e.sequenceNumber,new gr(Yl(e.readTime),new ar(pl(e.documentKey)),e.largestBatchId)):dr.empty(),i=t.fields.map((([t,e])=>new hr(or.fromServerFormat(t),e)));return new lr(t.indexId,t.collectionGroup,i,n)}(t,n))})))).next((()=>e))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((t=>0===t.length?null:(t.sort(((t,e)=>{const n=t.indexState.sequenceNumber-e.indexState.sequenceNumber;return 0!==n?n:Zi(t.collectionGroup,e.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(t,e,n){const i=Rc(t),r=Lc(t);return this.dn(t).next((t=>i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next((e=>wr.forEach(e,(e=>r.put(nc(e.indexId,this.user,t,n))))))))}updateIndexEntries(t,e){const n=new Map;return wr.forEach(e,((e,i)=>{const r=n.get(e.collectionGroup);return(r?wr.resolve(r):this.getFieldIndexes(t,e.collectionGroup)).next((r=>(n.set(e.collectionGroup,r),wr.forEach(r,(n=>this._n(t,e,n).next((e=>{const r=this.wn(i,n);return e.isEqual(r)?wr.resolve():this.mn(t,i,n,e,r)})))))))}))}gn(t,e,n,i){return Pc(t).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.an(n,e.key),documentKey:e.key.path.toArray()})}yn(t,e,n,i){return Pc(t).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.an(n,e.key),e.key.path.toArray()])}_n(t,e,n){const i=Pc(t);let r=new Us(mc);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.an(n,e)])},((t,i)=>{r=r.add(new gc(n.indexId,e,i.arrayValue,i.directionalValue))})).next((()=>r))}wn(t,e){let n=new Us(mc);const i=this.cn(e,t);if(null==i)return n;const r=cr(e);if(null!=r){const s=t.data.field(r.fieldPath);if(os(s))for(const r of s.arrayValue.values||[])n=n.add(new gc(e.indexId,t.key,this.rn(r),i))}else n=n.add(new gc(e.indexId,t.key,Mc,i));return n}mn(t,e,n,i,r){Oi("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const s=[];return function(t,e,n,i,r){const s=t.getIterator(),o=e.getIterator();let a=Hs(s),l=Hs(o);for(;a||l;){let t=!1,e=!1;if(a&&l){const i=n(a,l);i<0?e=!0:i>0&&(t=!0)}else null!=a?e=!0:t=!0;t?(i(l),l=Hs(o)):e?(r(a),a=Hs(s)):(a=Hs(s),l=Hs(o))}}(i,r,mc,(i=>{s.push(this.gn(t,e,n,i))}),(i=>{s.push(this.yn(t,e,n,i))})),wr.waitFor(s)}dn(t){let e=1;return Lc(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((t,n,i)=>{i.done(),e=n.sequenceNumber+1})).next((()=>e))}createRange(t,e,n){n=n.sort(((t,e)=>mc(t,e))).filter(((t,e,n)=>!e||0!==mc(t,n[e-1])));const i=[];i.push(t);for(const s of n){const n=mc(s,t),r=mc(s,e);if(0===n)i[0]=t.Ue();else if(n>0&&r<0)i.push(s),i.push(s.Ue());else if(r>0)break}i.push(e);const r=[];for(let s=0;s<i.length;s+=2){if(this.pn(i[s],i[s+1]))return[];const t=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,Mc,[]],e=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,Mc,[]];r.push(IDBKeyRange.bound(t,e))}return r}pn(t,e){return mc(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(Nc)}getMinOffset(t,e){return wr.mapArray(this.Ze(e),(e=>this.tn(t,e).next((t=>t||Ni())))).next(Nc)}}function Oc(t){return ql(t,"collectionParents")}function Pc(t){return ql(t,"indexEntries")}function Rc(t){return ql(t,"indexConfiguration")}function Lc(t){return ql(t,"indexState")}function Nc(t){Fi(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){const r=t[i].indexState.offset;mr(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new gr(e.readTime,e.documentKey,n)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Vc{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new Vc(t,Vc.DEFAULT_COLLECTION_PERCENTILE,Vc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t,e,n){const i=t.store("mutations"),r=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=i.Z({range:o},((t,e,n)=>(a++,n.delete())));s.push(l.next((()=>{Fi(1===a)})));const c=[];for(const u of n.mutations){const t=vl(e,u.key.path,n.batchId);s.push(r.delete(t)),c.push(u.key)}return wr.waitFor(s).next((()=>c))}function Bc(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ni();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vc.DEFAULT_COLLECTION_PERCENTILE=10,Vc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vc.DEFAULT=new Vc(41943040,Vc.DEFAULT_COLLECTION_PERCENTILE,Vc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vc.DISABLED=new Vc(-1,0,0);class jc{constructor(t,e,n,i){this.userId=t,this.yt=e,this.indexManager=n,this.referenceDelegate=i,this.In={}}static re(t,e,n,i){Fi(""!==t.uid);const r=t.isAuthenticated()?t.uid:"";return new jc(r,e,n,i)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Uc(t).Z({index:"userMutationsIndex",range:n},((t,n,i)=>{e=!1,i.done()})).next((()=>e))}addMutationBatch(t,e,n,i){const r=$c(t),s=Uc(t);return s.add({}).next((o=>{Fi("number"==typeof o);const a=new Bl(o,e,n,i),l=function(t,e,n){const i=n.baseMutations.map((e=>Ya(t.ie,e))),r=n.mutations.map((e=>Ya(t.ie,e)));return{userId:e,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:i,mutations:r}}(this.yt,this.userId,a),c=[];let u=new Us(((t,e)=>Zi(t.canonicalString(),e.canonicalString())));for(const t of i){const e=vl(this.userId,t.key.path,o);u=u.add(t.key.path.popLast()),c.push(s.put(l)),c.push(r.put(e,yl))}return u.forEach((e=>{c.push(this.indexManager.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((()=>{this.In[o]=a.keys()})),wr.waitFor(c).next((()=>a))}))}lookupMutationBatch(t,e){return Uc(t).get(e).next((t=>t?(Fi(t.userId===this.userId),Ql(this.yt,t)):null))}Tn(t,e){return this.In[e]?wr.resolve(this.In[e]):this.lookupMutationBatch(t,e).next((t=>{if(t){const n=t.keys();return this.In[e]=n,n}return null}))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=IDBKeyRange.lowerBound([this.userId,n]);let r=null;return Uc(t).Z({index:"userMutationsIndex",range:i},((t,e,i)=>{e.userId===this.userId&&(Fi(e.batchId>=n),r=Ql(this.yt,e)),i.done()})).next((()=>r))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Uc(t).Z({index:"userMutationsIndex",range:e,reverse:!0},((t,e,i)=>{n=e.batchId,i.done()})).next((()=>n))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Uc(t).W("userMutationsIndex",e).next((t=>t.map((t=>Ql(this.yt,t)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=ml(this.userId,e.path),i=IDBKeyRange.lowerBound(n),r=[];return $c(t).Z({range:i},((n,i,s)=>{const[o,a,l]=n,c=pl(a);if(o===this.userId&&e.path.isEqual(c))return Uc(t).get(l).next((t=>{if(!t)throw Ni();Fi(t.userId===this.userId),r.push(Ql(this.yt,t))}));s.done()})).next((()=>r))}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Us(Zi);const i=[];return e.forEach((e=>{const r=ml(this.userId,e.path),s=IDBKeyRange.lowerBound(r),o=$c(t).Z({range:s},((t,i,r)=>{const[s,o,a]=t,l=pl(o);s===this.userId&&e.path.isEqual(l)?n=n.add(a):r.done()}));i.push(o)})),wr.waitFor(i).next((()=>this.En(t,n)))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1,r=ml(this.userId,n),s=IDBKeyRange.lowerBound(r);let o=new Us(Zi);return $c(t).Z({range:s},((t,e,r)=>{const[s,a,l]=t,c=pl(a);s===this.userId&&n.isPrefixOf(c)?c.length===i&&(o=o.add(l)):r.done()})).next((()=>this.En(t,o)))}En(t,e){const n=[],i=[];return e.forEach((e=>{i.push(Uc(t).get(e).next((t=>{if(null===t)throw Ni();Fi(t.userId===this.userId),n.push(Ql(this.yt,t))})))})),wr.waitFor(i).next((()=>n))}removeMutationBatch(t,e){return qc(t.se,this.userId,e).next((n=>(t.addOnCommittedListener((()=>{this.An(e.batchId)})),wr.forEach(n,(e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return wr.resolve();const n=IDBKeyRange.lowerBound([this.userId]),i=[];return $c(t).Z({range:n},((t,e,n)=>{if(t[0]===this.userId){const e=pl(t[1]);i.push(e)}else n.done()})).next((()=>{Fi(0===i.length)}))}))}containsKey(t,e){return zc(t,this.userId,e)}Rn(t){return Hc(t).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function zc(t,e,n){const i=ml(e,n.path),r=i[1],s=IDBKeyRange.lowerBound(i);let o=!1;return $c(t).Z({range:s,X:!0},((t,n,i)=>{const[s,a,l]=t;s===e&&a===r&&(o=!0),i.done()})).next((()=>o))}function Uc(t){return ql(t,"mutations")}function $c(t){return ql(t,"documentMutations")}function Hc(t){return ql(t,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Wc(0)}static vn(){return new Wc(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,e){this.referenceDelegate=t,this.yt=e}allocateTargetId(t){return this.Vn(t).next((e=>{const n=new Wc(e.highestTargetId);return e.highestTargetId=n.next(),this.Sn(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.Vn(t).next((t=>nr.fromTimestamp(new er(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.Vn(t).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(t,e,n){return this.Vn(t).next((i=>(i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),this.Sn(t,i))))}addTargetData(t,e){return this.Dn(t,e).next((()=>this.Vn(t).next((n=>(n.targetCount+=1,this.Cn(e,n),this.Sn(t,n))))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>Gc(t).delete(e.targetId))).next((()=>this.Vn(t))).next((e=>(Fi(e.targetCount>0),e.targetCount-=1,this.Sn(t,e))))}removeTargets(t,e,n){let i=0;const r=[];return Gc(t).Z(((s,o)=>{const a=Xl(o);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,r.push(this.removeTargetData(t,a)))})).next((()=>wr.waitFor(r))).next((()=>i))}forEachTarget(t,e){return Gc(t).Z(((t,n)=>{const i=Xl(n);e(i)}))}Vn(t){return Yc(t).get("targetGlobalKey").next((t=>(Fi(null!==t),t)))}Sn(t,e){return Yc(t).put("targetGlobalKey",e)}Dn(t,e){return Gc(t).put(Zl(this.yt,e))}Cn(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.Vn(t).next((t=>t.targetCount))}getTargetData(t,e){const n=Zs(e),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let r=null;return Gc(t).Z({range:i,index:"queryTargetsIndex"},((t,n,i)=>{const s=Xl(n);Js(e,s.target)&&(r=s,i.done())})).next((()=>r))}addMatchingKeys(t,e,n){const i=[],r=Qc(t);return e.forEach((e=>{const s=hl(e.path);i.push(r.put({targetId:n,path:s})),i.push(this.referenceDelegate.addReference(t,n,e))})),wr.waitFor(i)}removeMatchingKeys(t,e,n){const i=Qc(t);return wr.forEach(e,(e=>{const r=hl(e.path);return wr.waitFor([i.delete([n,r]),this.referenceDelegate.removeReference(t,n,e)])}))}removeMatchingKeysForTargetId(t,e){const n=Qc(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),i=Qc(t);let r=ya();return i.Z({range:n,X:!0},((t,e,n)=>{const i=pl(t[1]),s=new ar(i);r=r.add(s)})).next((()=>r))}containsKey(t,e){const n=hl(e.path),i=IDBKeyRange.bound([n],[tr(n)],!1,!0);let r=0;return Qc(t).Z({index:"documentTargetsIndex",X:!0,range:i},(([t,e],n,i)=>{0!==t&&(r++,i.done())})).next((()=>r>0))}ne(t,e){return Gc(t).get(e).next((t=>t?Xl(t):null))}}function Gc(t){return ql(t,"targets")}function Yc(t){return ql(t,"targetGlobal")}function Qc(t){return ql(t,"targetDocuments")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc([t,e],[n,i]){const r=Zi(t,n);return 0===r?Zi(e,i):r}class Zc{constructor(t){this.xn=t,this.buffer=new Us(Xc),this.Nn=0}kn(){return++this.Nn}On(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Xc(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Jc{constructor(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(t){Oi("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Mn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ir(t)?Oi("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await br(t)}await this.Fn(3e5)}))}}class tu{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next((t=>Math.floor(e/100*t)))}nthSequenceNumber(t,e){if(0===e)return wr.resolve(Or.at);const n=new Zc(e);return this.$n.forEachTarget(t,(t=>n.On(t.sequenceNumber))).next((()=>this.$n.Ln(t,(t=>n.On(t))))).next((()=>n.maxValue))}removeTargets(t,e,n){return this.$n.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Oi("LruGarbageCollector","Garbage collection skipped; disabled"),wr.resolve(Fc)):this.getCacheSize(t).next((n=>n<this.params.cacheSizeCollectionThreshold?(Oi("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fc):this.qn(t,e)))}getCacheSize(t){return this.$n.getCacheSize(t)}qn(t,e){let n,i,r,s,a,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((e=>(e>this.params.maximumSequenceNumbersToCollect?(Oi("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),i=this.params.maximumSequenceNumbersToCollect):i=e,s=Date.now(),this.nthSequenceNumber(t,i)))).next((i=>(n=i,a=Date.now(),this.removeTargets(t,n,e)))).next((e=>(r=e,l=Date.now(),this.removeOrphanedDocuments(t,n)))).next((t=>(c=Date.now(),Di()<=o["in"].DEBUG&&Oi("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${i} in `+(a-s)+"ms\n"+`\tRemoved ${r} targets in `+(l-a)+"ms\n"+`\tRemoved ${t} documents in `+(c-l)+"ms\n"+`Total Duration: ${c-u}ms`),wr.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:t}))))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t,e){this.db=t,this.garbageCollector=function(t,e){return new tu(t,e)}(this,e)}Bn(t){const e=this.Un(t);return this.db.getTargetCache().getTargetCount(t).next((t=>e.next((e=>t+e))))}Un(t){let e=0;return this.Ln(t,(t=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,((t,n)=>e(n)))}addReference(t,e,n){return nu(t,n)}removeReference(t,e,n){return nu(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return nu(t,e)}Gn(t,e){return function(t,e){let n=!1;return Hc(t).tt((i=>zc(t,i,e).next((t=>(t&&(n=!0),wr.resolve(!t)))))).next((()=>n))}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let r=0;return this.Kn(t,((s,o)=>{if(o<=e){const e=this.Gn(t,s).next((e=>{if(!e)return r++,n.getEntry(t,s).next((()=>(n.removeEntry(s,nr.min()),Qc(t).delete([0,hl(s.path)]))))}));i.push(e)}})).next((()=>wr.waitFor(i))).next((()=>n.apply(t))).next((()=>r))}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return nu(t,e)}Kn(t,e){const n=Qc(t);let i,r=Or.at;return n.Z({index:"documentTargetsIndex"},(([t,n],{path:s,sequenceNumber:o})=>{0===t?(r!==Or.at&&e(new ar(pl(i)),r),r=o,i=s):r=Or.at})).next((()=>{r!==Or.at&&e(new ar(pl(i)),r)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function nu(t,e){return Qc(t).put(function(t,e){return{targetId:0,path:hl(t.path),sequenceNumber:e}}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this.changes=new aa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Ys.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?wr.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t){this.yt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,n){return lu(t).put(n)}removeEntry(t,e,n){return lu(t).delete(function(t,e){const n=t.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Kl(e),n[n.length-1]]}(e,n))}updateMetadata(t,e){return this.getMetadata(t).next((n=>(n.byteSize+=e,this.Qn(t,n))))}getEntry(t,e){let n=Ys.newInvalidDocument(e);return lu(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(cu(e))},((t,i)=>{n=this.jn(e,i)})).next((()=>n))}Wn(t,e){let n={size:0,document:Ys.newInvalidDocument(e)};return lu(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(cu(e))},((t,i)=>{n={document:this.jn(e,i),size:Bc(i)}})).next((()=>n))}getEntries(t,e){let n=ca();return this.zn(t,e,((t,e)=>{const i=this.jn(t,e);n=n.insert(t,i)})).next((()=>n))}Hn(t,e){let n=ca(),i=new Bs(ar.comparator);return this.zn(t,e,((t,e)=>{const r=this.jn(t,e);n=n.insert(t,r),i=i.insert(t,Bc(e))})).next((()=>({documents:n,Jn:i})))}zn(t,e,n){if(e.isEmpty())return wr.resolve();let i=new Us(hu);e.forEach((t=>i=i.add(t)));const r=IDBKeyRange.bound(cu(i.first()),cu(i.last())),s=i.getIterator();let o=s.getNext();return lu(t).Z({index:"documentKeyIndex",range:r},((t,e,i)=>{const r=ar.fromSegments([...e.prefixPath,e.collectionGroup,e.documentId]);for(;o&&hu(o,r)<0;)n(o,null),o=s.getNext();o&&o.isEqual(r)&&(n(o,e),o=s.hasNext()?s.getNext():null),o?i.j(cu(o)):i.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getAllFromCollection(t,e,n){const i=[e.popLast().toArray(),e.lastSegment(),Kl(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],r=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lu(t).W(IDBKeyRange.bound(i,r,!0)).next((t=>{let e=ca();for(const n of t){const t=this.jn(ar.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);e=e.insert(t.key,t)}return e}))}getAllFromCollectionGroup(t,e,n,i){let r=ca();const s=uu(e,n),o=uu(e,gr.max());return lu(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((t,e,n)=>{const s=this.jn(ar.fromSegments(e.prefixPath.concat(e.collectionGroup,e.documentId)),e);r=r.insert(s.key,s),r.size===i&&n.done()})).next((()=>r))}newChangeBuffer(t){return new ou(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((t=>t.byteSize))}getMetadata(t){return au(t).get("remoteDocumentGlobalKey").next((t=>(Fi(!!t),t)))}Qn(t,e){return au(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const t=Hl(this.yt,e);if(!t.isNoDocument()||!t.version.isEqual(nr.min()))return t}return Ys.newInvalidDocument(t)}}function su(t){return new ru(t)}class ou extends iu{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new aa((t=>t.toString()),((t,e)=>t.isEqual(e)))}applyChanges(t){const e=[];let n=0,i=new Us(((t,e)=>Zi(t.canonicalString(),e.canonicalString())));return this.changes.forEach(((r,s)=>{const o=this.Xn.get(r);if(e.push(this.Yn.removeEntry(t,r,o.readTime)),s.isValidDocument()){const a=Wl(this.Yn.yt,s);i=i.add(r.path.popLast());const l=Bc(a);n+=l-o.size,e.push(this.Yn.addEntry(t,r,a))}else if(n-=o.size,this.trackRemovals){const n=Wl(this.Yn.yt,s.convertToNoDocument(nr.min()));e.push(this.Yn.addEntry(t,r,n))}})),i.forEach((n=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,n))})),e.push(this.Yn.updateMetadata(t,n)),wr.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next((t=>(this.Xn.set(e,{size:t.size,readTime:t.document.readTime}),t.document)))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next((({documents:t,Jn:e})=>(e.forEach(((e,n)=>{this.Xn.set(e,{size:n,readTime:t.get(e).readTime})})),t)))}}function au(t){return ql(t,"remoteDocumentGlobal")}function lu(t){return ql(t,"remoteDocumentsV14")}function cu(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function uu(t,e){const n=e.documentKey.path.toArray();return[t,Kl(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function hu(t,e){const n=t.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<n.length-2&&s<i.length-2;++s)if(r=Zi(n[s],i[s]),r)return r;return r=Zi(n.length,i.length),r||(r=Zi(n[n.length-2],i[i.length-2]),r||Zi(n[n.length-1],i[i.length-1]))
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class du{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,e,n,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((i=>(n=i,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&Wo(n.mutation,t,Ws.empty(),er.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,ya()).next((()=>e))))}getLocalViewOfDocuments(t,e,n=ya()){const i=fa();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,n).next((t=>{let e=ha();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=fa();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,ya())))}populateOverlays(t,e,n){const i=[];return n.forEach((t=>{e.has(t)||i.push(t)})),this.documentOverlayCache.getOverlays(t,i).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,i){let r=ca();const s=ga(),o=ga();return e.forEach(((t,e)=>{const o=n.get(e.key);i.has(e.key)&&(void 0===o||o.mutation instanceof Qo)?r=r.insert(e.key,e):void 0!==o&&(s.set(e.key,o.mutation.getFieldMask()),Wo(o.mutation,e,o.mutation.getFieldMask(),er.now()))})),this.recalculateAndSaveOverlays(t,r).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var n;return o.set(t,new du(e,null!==(n=s.get(t))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(t,e){const n=ga();let i=new Bs(((t,e)=>t-e)),r=ya();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const r of t)r.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||Ws.empty();o=r.applyToLocalView(s,o),n.set(t,o);const a=(i.get(r.batchId)||ya()).add(t);i=i.insert(r.batchId,a)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const i=o.getNext(),a=i.key,l=i.value,c=pa();l.forEach((t=>{if(!r.has(t)){const i=$o(e.get(t),n.get(t));null!==i&&c.set(t,i),r=r.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,c))}return wr.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n){return function(t){return ar.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):uo(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)}getNextDocuments(t,e,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,i).next((r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,i-r.size):wr.resolve(fa());let o=-1,a=r;return s.next((e=>wr.forEach(e,((e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),r.get(e)?wr.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,r))).next((()=>this.computeViews(t,a,e,ya()))).next((t=>({batchId:o,changes:da(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ar(e)).next((t=>{let e=ha();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n){const i=e.collectionGroup;let r=ha();return this.indexManager.getCollectionParents(t,i).next((s=>wr.forEach(s,(s=>{const o=function(t,e){return new ro(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return this.getDocumentsMatchingCollectionQuery(t,o,n).next((t=>{t.forEach(((t,e)=>{r=r.insert(t,e)}))}))})).next((()=>r))))}getDocumentsMatchingCollectionQuery(t,e,n){let i;return this.remoteDocumentCache.getAllFromCollection(t,e.path,n).next((r=>(i=r,this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId)))).next((t=>{t.forEach(((t,e)=>{const n=e.getKey();null===i.get(n)&&(i=i.insert(n,Ys.newInvalidDocument(n)))}));let n=ha();return i.forEach(((i,r)=>{const s=t.get(i);void 0!==s&&Wo(s.mutation,r,Ws.empty(),er.now()),bo(e,r)&&(n=n.insert(i,r))})),n}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t){this.yt=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return wr.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var n;return this.Zn.set(e.id,{id:(n=e).id,version:n.version,createTime:Fa(n.createTime)}),wr.resolve()}getNamedQuery(t,e){return wr.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,function(t){return{name:t.name,query:Jl(t.bundledQuery),readTime:Fa(t.readTime)}}(e)),wr.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(){this.overlays=new Bs(ar.comparator),this.es=new Map}getOverlay(t,e){return wr.resolve(this.overlays.get(e))}getOverlays(t,e){const n=fa();return wr.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,i)=>{this.oe(t,e,i)})),wr.resolve()}removeOverlaysForBatchId(t,e,n){const i=this.es.get(n);return void 0!==i&&(i.forEach((t=>this.overlays=this.overlays.remove(t))),this.es.delete(n)),wr.resolve()}getOverlaysForCollection(t,e,n){const i=fa(),r=e.length+1,s=new ar(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===r&&t.largestBatchId>n&&i.set(t.getKey(),t)}return wr.resolve(i)}getOverlaysForCollectionGroup(t,e,n,i){let r=new Bs(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=r.get(t.largestBatchId);null===e&&(e=fa(),r=r.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=fa(),a=r.getIterator();for(;a.hasNext();)if(a.getNext().value.forEach(((t,e)=>o.set(t,e))),o.size()>=i)break;return wr.resolve(o)}oe(t,e,n){const i=this.overlays.get(n.key);if(null!==i){const t=this.es.get(i.largestBatchId).delete(n.key);this.es.set(i.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new zl(e,n));let r=this.es.get(e);void 0===r&&(r=ya(),this.es.set(e,r)),this.es.set(e,r.add(n.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.ns=new Us(vu.ss),this.rs=new Us(vu.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const n=new vu(t,e);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.cs(new vu(t,e))}hs(t,e){t.forEach((t=>this.removeReference(t,e)))}ls(t){const e=new ar(new rr([])),n=new vu(e,t),i=new vu(e,t+1),r=[];return this.rs.forEachInRange([n,i],(t=>{this.cs(t),r.push(t.key)})),r}fs(){this.ns.forEach((t=>this.cs(t)))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new ar(new rr([])),n=new vu(e,t),i=new vu(e,t+1);let r=ya();return this.rs.forEachInRange([n,i],(t=>{r=r.add(t.key)})),r}containsKey(t){const e=new vu(t,0),n=this.ns.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class vu{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return ar.comparator(t.key,e.key)||Zi(t._s,e._s)}static os(t,e){return Zi(t._s,e._s)||ar.comparator(t.key,e.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Us(vu.ss)}checkEmpty(t){return wr.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,i){const r=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Bl(r,e,n,i);this.mutationQueue.push(s);for(const o of i)this.gs=this.gs.add(new vu(o.key,r)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return wr.resolve(s)}lookupMutationBatch(t,e){return wr.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,i=this.ps(n),r=i<0?0:i;return wr.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return wr.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return wr.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new vu(e,0),i=new vu(e,Number.POSITIVE_INFINITY),r=[];return this.gs.forEachInRange([n,i],(t=>{const e=this.ys(t._s);r.push(e)})),wr.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Us(Zi);return e.forEach((t=>{const e=new vu(t,0),i=new vu(t,Number.POSITIVE_INFINITY);this.gs.forEachInRange([e,i],(t=>{n=n.add(t._s)}))})),wr.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,i=n.length+1;let r=n;ar.isDocumentKey(r)||(r=r.child(""));const s=new vu(new ar(r),0);let o=new Us(Zi);return this.gs.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===i&&(o=o.add(t._s)),!0)}),s),wr.resolve(this.Is(o))}Is(t){const e=[];return t.forEach((t=>{const n=this.ys(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){Fi(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let n=this.gs;return wr.forEach(e.mutations,(i=>{const r=new vu(i.key,e.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((()=>{this.gs=n}))}An(t){}containsKey(t,e){const n=new vu(e,0),i=this.gs.firstAfterOrEqual(n);return wr.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,wr.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t){this.Es=t,this.docs=new Bs(ar.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,i=this.docs.get(n),r=i?i.size:0,s=this.Es(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return wr.resolve(n?n.document.mutableCopy():Ys.newInvalidDocument(e))}getEntries(t,e){let n=ca();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Ys.newInvalidDocument(t))})),wr.resolve(n)}getAllFromCollection(t,e,n){let i=ca();const r=new ar(e.child("")),s=this.docs.getIteratorFrom(r);for(;s.hasNext();){const{key:t,value:{document:r}}=s.getNext();if(!e.isPrefixOf(t.path))break;t.path.length>e.length+1||mr(pr(r),n)<=0||(i=i.insert(r.key,r.mutableCopy()))}return wr.resolve(i)}getAllFromCollectionGroup(t,e,n,i){Ni()}As(t,e){return wr.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new wu(this)}getSize(t){return wr.resolve(this.size)}}class wu extends iu{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?e.push(this.Yn.addEntry(t,i)):this.Yn.removeEntry(n)})),wr.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t){this.persistence=t,this.Rs=new aa((t=>Zs(t)),Js),this.lastRemoteSnapshotVersion=nr.min(),this.highestTargetId=0,this.bs=0,this.Ps=new mu,this.targetCount=0,this.vs=Wc.Pn()}forEachTarget(t,e){return this.Rs.forEach(((t,n)=>e(n))),wr.resolve()}getLastRemoteSnapshotVersion(t){return wr.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return wr.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),wr.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.bs&&(this.bs=e),wr.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Wc(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,wr.resolve()}updateTargetData(t,e){return this.Dn(e),wr.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,wr.resolve()}removeTargets(t,e,n){let i=0;const r=[];return this.Rs.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Rs.delete(s),r.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)})),wr.waitFor(r).next((()=>i))}getTargetCount(t){return wr.resolve(this.targetCount)}getTargetData(t,e){const n=this.Rs.get(e)||null;return wr.resolve(n)}addMatchingKeys(t,e,n){return this.Ps.us(e,n),wr.resolve()}removeMatchingKeys(t,e,n){this.Ps.hs(e,n);const i=this.persistence.referenceDelegate,r=[];return i&&e.forEach((e=>{r.push(i.markPotentiallyOrphaned(t,e))})),wr.waitFor(r)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),wr.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Ps.ds(e);return wr.resolve(n)}containsKey(t,e){return wr.resolve(this.Ps.containsKey(e))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new Or(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new _u(this),this.indexManager=new Cc,this.remoteDocumentCache=function(t){return new bu(t)}((t=>this.referenceDelegate.xs(t))),this.yt=new $l(e),this.Ns=new pu(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new gu,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Vs[t.toKey()];return n||(n=new yu(e,this.referenceDelegate),this.Vs[t.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,n){Oi("MemoryPersistence","Starting transaction:",t);const i=new Su(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((t=>this.referenceDelegate.Os(i).next((()=>t)))).toPromise().then((t=>(i.raiseOnCommittedEvent(),t)))}Ms(t,e){return wr.or(Object.values(this.Vs).map((n=>()=>n.containsKey(t,e))))}}class Su extends yr{constructor(t){super(),this.currentSequenceNumber=t}}class ku{constructor(t){this.persistence=t,this.Fs=new mu,this.$s=null}static Bs(t){return new ku(t)}get Ls(){if(this.$s)return this.$s;throw Ni()}addReference(t,e,n){return this.Fs.addReference(n,e),this.Ls.delete(n.toString()),wr.resolve()}removeReference(t,e,n){return this.Fs.removeReference(n,e),this.Ls.add(n.toString()),wr.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),wr.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach((t=>this.Ls.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Ls.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wr.forEach(this.Ls,(n=>{const i=ar.fromPath(n);return this.qs(t,i).next((t=>{t||e.removeEntry(i,nr.min())}))})).next((()=>(this.$s=null,e.apply(t))))}updateLimboDocument(t,e){return this.qs(t,e).next((t=>{t?this.Ls.delete(e.toString()):this.Ls.add(e.toString())}))}xs(t){return 0}qs(t,e){return wr.or([()=>wr.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(t){this.yt=t}$(t,e,n,i){const r=new _r("createOrUpgrade",e);n<1&&i>=1&&(function(t){t.createObjectStore("owner")}(t),function(t){t.createObjectStore("mutationQueues",{keyPath:"userId"}),t.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gl,{unique:!0}),t.createObjectStore("documentMutations")}(t),Eu(t),function(t){t.createObjectStore("remoteDocuments")}(t));let s=wr.resolve();return n<3&&i>=3&&(0!==n&&(function(t){t.deleteObjectStore("targetDocuments"),t.deleteObjectStore("targets"),t.deleteObjectStore("targetGlobal")}(t),Eu(t)),s=s.next((()=>function(t){const e=t.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:nr.min().toTimestamp(),targetCount:0};return e.put("targetGlobalKey",n)}(r)))),n<4&&i>=4&&(0!==n&&(s=s.next((()=>function(t,e){return e.store("mutations").W().next((n=>{t.deleteObjectStore("mutations"),t.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",gl,{unique:!0});const i=e.store("mutations"),r=n.map((t=>i.put(t)));return wr.waitFor(r)}))}(t,r)))),s=s.next((()=>{!function(t){t.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)}))),n<5&&i>=5&&(s=s.next((()=>this.Us(r)))),n<6&&i>=6&&(s=s.next((()=>(function(t){t.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(r))))),n<7&&i>=7&&(s=s.next((()=>this.Gs(r)))),n<8&&i>=8&&(s=s.next((()=>this.Qs(t,r)))),n<9&&i>=9&&(s=s.next((()=>{!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t)}))),n<10&&i>=10&&(s=s.next((()=>this.js(r)))),n<11&&i>=11&&(s=s.next((()=>{!function(t){t.createObjectStore("bundles",{keyPath:"bundleId"})}(t),function(t){t.createObjectStore("namedQueries",{keyPath:"name"})}(t)}))),n<12&&i>=12&&(s=s.next((()=>{!function(t){const e=t.createObjectStore("documentOverlays",{keyPath:Ml});e.createIndex("collectionPathOverlayIndex",Dl,{unique:!1}),e.createIndex("collectionGroupOverlayIndex",Ol,{unique:!1})}(t)}))),n<13&&i>=13&&(s=s.next((()=>function(t){const e=t.createObjectStore("remoteDocumentsV14",{keyPath:bl});e.createIndex("documentKeyIndex",wl),e.createIndex("collectionGroupIndex",_l)}(t))).next((()=>this.Ws(t,r))).next((()=>t.deleteObjectStore("remoteDocuments")))),n<14&&i>=14&&(s=s.next((()=>this.zs(t,r)))),n<15&&i>=15&&(s=s.next((()=>function(t){t.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),t.createObjectStore("indexState",{keyPath:El}).createIndex("sequenceNumberIndex",Tl,{unique:!1}),t.createObjectStore("indexEntries",{keyPath:Cl}).createIndex("documentKeyIndex",Al,{unique:!1})}(t)))),s}Ks(t){let e=0;return t.store("remoteDocuments").Z(((t,n)=>{e+=Bc(n)})).next((()=>{const n={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Us(t){const e=t.store("mutationQueues"),n=t.store("mutations");return e.W().next((e=>wr.forEach(e,(e=>{const i=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",i).next((n=>wr.forEach(n,(n=>{Fi(n.userId===e.userId);const i=Ql(this.yt,n);return qc(t,e.userId,i).next((()=>{}))}))))}))))}Gs(t){const e=t.store("targetDocuments"),n=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next((t=>{const i=[];return n.Z(((n,r)=>{const s=new rr(n),o=function(t){return[0,hl(t)]}(s);i.push(e.get(o).next((n=>n?wr.resolve():(n=>e.put({targetId:0,path:hl(n),sequenceNumber:t.highestListenSequenceNumber}))(s))))})).next((()=>wr.waitFor(i)))}))}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:Il});const n=e.store("collectionParents"),i=new Ac,r=t=>{if(i.add(t)){const e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:hl(i)})}};return e.store("remoteDocuments").Z({X:!0},((t,e)=>{const n=new rr(t);return r(n.popLast())})).next((()=>e.store("documentMutations").Z({X:!0},(([t,e,n],i)=>{const s=pl(e);return r(s.popLast())}))))}js(t){const e=t.store("targets");return e.Z(((t,n)=>{const i=Xl(n),r=Zl(this.yt,i);return e.put(r)}))}Ws(t,e){const n=e.store("remoteDocuments"),i=[];return n.Z(((t,n)=>{const r=e.store("remoteDocumentsV14"),s=(o=n,o.document?new ar(rr.fromString(o.document.name).popFirst(5)):o.noDocument?ar.fromSegments(o.noDocument.path):o.unknownDocument?ar.fromSegments(o.unknownDocument.path):Ni()).path.toArray();var o;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};i.push(r.put(a))})).next((()=>wr.waitFor(i)))}zs(t,e){const n=e.store("mutations"),i=su(this.yt),r=new xu(ku.Bs,this.yt.ie);return n.W().next((t=>{const n=new Map;return t.forEach((t=>{var e;let i=null!==(e=n.get(t.userId))&&void 0!==e?e:ya();Ql(this.yt,t).keys().forEach((t=>i=i.add(t))),n.set(t.userId,i)})),wr.forEach(n,((t,n)=>{const s=new Ci(n),o=oc.re(this.yt,s),a=r.getIndexManager(s),l=jc.re(s,this.yt,a,r.referenceDelegate);return new fu(i,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new Vl(e,Or.at),t).next()}))}))}}function Eu(t){t.createObjectStore("targetDocuments",{keyPath:Sl}).createIndex("documentTargetsIndex",kl,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xl,{unique:!0}),t.createObjectStore("targetGlobal")}const Tu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Cu{constructor(t,e,n,i,r,s,o,a,l,c,u=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Hs=r,this.window=s,this.document=o,this.Js=l,this.Ys=c,this.Xs=u,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=t=>Promise.resolve(),!Cu.C())throw new Bi(qi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eu(this,i),this.ii=e+"main",this.yt=new $l(a),this.ri=new xr(this.ii,this.Xs,new Iu(this.yt)),this.Cs=new Kc(this.referenceDelegate,this.yt),this.remoteDocumentCache=su(this.yt),this.Ns=new ic,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===c&&Pi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Bi(qi.FAILED_PRECONDITION,Tu);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.Cs.getHighestSequenceNumber(t)))})).then((t=>{this.Ss=new Or(t,this.Js)})).then((()=>{this.Ds=!0})).catch((t=>(this.ri&&this.ri.close(),Promise.reject(t))))}li(t){return this.si=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L((async e=>{null===e.newVersion&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((async()=>{this.started&&await this.ui()})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>Mu(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(t).next((t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable((()=>this.si(!1))))}))})).next((()=>this.di(t))).next((e=>this.isPrimary&&!e?this._i(t).next((()=>!1)):!!e&&this.wi(t).next((()=>!0)))))).catch((t=>{if(Ir(t))return Oi("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Oi("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable((()=>this.si(t))),this.isPrimary=t}))}fi(t){return Au(t).get("owner").next((t=>wr.resolve(this.mi(t))))}gi(t){return Mu(t).delete(this.clientId)}async yi(){if(this.isPrimary&&!this.pi(this.ni,18e5)){this.ni=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const e=ql(t,"clientMetadata");return e.W().next((t=>{const n=this.Ii(t,18e5),i=t.filter((t=>-1===n.indexOf(t)));return wr.forEach(i,(t=>e.delete(t.clientId))).next((()=>i))}))})).catch((()=>[]));if(this.oi)for(const e of t)this.oi.removeItem(this.Ti(e.clientId))}}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.ui().then((()=>this.yi())).then((()=>this.hi()))))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?wr.resolve(!0):Au(t).get("owner").next((e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Bi(qi.FAILED_PRECONDITION,Tu);return!1}}return!(!this.networkEnabled||!this.inForeground)||Mu(t).W().next((t=>void 0===this.Ii(t,5e3).find((t=>{if(this.clientId!==t.clientId){const e=!this.networkEnabled&&t.networkEnabled,n=!this.inForeground&&t.inForeground,i=this.networkEnabled===t.networkEnabled;if(e||n&&i)return!0}return!1}))))})).next((t=>(this.isPrimary!==t&&Oi("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),await this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(t=>{const e=new Vl(t,Or.at);return this._i(e).next((()=>this.gi(e)))})),this.ri.close(),this.Pi()}Ii(t,e){return t.filter((t=>this.pi(t.updateTimeMs,e)&&!this.Ei(t.clientId)))}vi(){return this.runTransaction("getActiveClients","readonly",(t=>Mu(t).W().next((t=>this.Ii(t,18e5).map((t=>t.clientId))))))}get started(){return this.Ds}getMutationQueue(t,e){return jc.re(t,this.yt,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new Dc(t,this.yt.ie.databaseId)}getDocumentOverlayCache(t){return oc.re(this.yt,t)}getBundleCache(){return this.Ns}runTransaction(t,e,n){Oi("IndexedDbPersistence","Starting transaction:",t);const i="readonly"===e?"readonly":"readwrite",r=15===(s=this.Xs)?Fl:14===s?Nl:13===s?Ll:12===s?Rl:11===s?Pl:void Ni();var s;let o;return this.ri.runTransaction(t,i,r,(i=>(o=new Vl(i,this.Ss?this.Ss.next():Or.at),"readwrite-primary"===e?this.fi(o).next((t=>!!t||this.di(o))).next((e=>{if(!e)throw Pi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable((()=>this.si(!1))),new Bi(qi.FAILED_PRECONDITION,vr);return n(o)})).next((t=>this.wi(o).next((()=>t)))):this.Vi(o).next((()=>n(o)))))).then((t=>(o.raiseOnCommittedEvent(),t)))}Vi(t){return Au(t).get("owner").next((t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Bi(qi.FAILED_PRECONDITION,Tu)}))}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Au(t).put("owner",e)}static C(){return xr.C()}_i(t){const e=Au(t);return e.get("owner").next((t=>this.mi(t)?(Oi("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):wr.resolve()))}pi(t,e){const n=Date.now();return!(t<n-e)&&(!(t>n)||(Pi(`Detected an update time that is in the future: ${t} > ${n}`),!1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.ui())))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,a.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const n=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Oi("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(t){return Pi("IndexedDbPersistence","Failed to get zombied client id.",t),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(x){Pi("Failed to set zombie client id.",x)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(x){}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Au(t){return ql(t,"owner")}function Mu(t){return ql(t,"clientMetadata")}function Du(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Ou{constructor(t,e,n,i){this.targetId=t,this.fromCache=e,this.Si=n,this.Di=i}static Ci(t,e){let n=ya(),i=ya();for(const r of e.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Ou(t,e.fromCache,n,i)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,n,i){return this.ki(t,e).next((r=>r||this.Oi(t,e,i,n))).next((n=>n||this.Mi(t,e)))}ki(t,e){if(ao(e))return wr.resolve(null);let n=fo(e);return this.indexManager.getIndexType(t,n).next((i=>0===i?null:(null!==e.limit&&1===i&&(e=go(e,null,"F"),n=fo(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((i=>{const r=ya(...i);return this.Ni.getDocuments(t,r).next((i=>this.indexManager.getMinOffset(t,n).next((n=>{const s=this.Fi(e,i);return this.$i(e,s,r,n.readTime)?this.ki(t,go(e,null,"F")):this.Bi(t,s,e,n)}))))})))))}Oi(t,e,n,i){return ao(e)||i.isEqual(nr.min())?this.Mi(t,e):this.Ni.getDocuments(t,n).next((r=>{const s=this.Fi(e,r);return this.$i(e,s,n,i)?this.Mi(t,e):(Di()<=o["in"].DEBUG&&Oi("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yo(e)),this.Bi(t,s,e,fr(i,-1)))}))}Fi(t,e){let n=new Us(_o(t));return e.forEach(((e,i)=>{bo(t,i)&&(n=n.add(i))})),n}$i(t,e,n,i){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const r="F"===t.limitType?e.last():e.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Mi(t,e){return Di()<=o["in"].DEBUG&&Oi("QueryEngine","Using full collection scan to execute query:",yo(e)),this.Ni.getDocumentsMatchingQuery(t,e,gr.min())}Bi(t,e,n,i){return this.Ni.getDocumentsMatchingQuery(t,n,i).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(t,e,n,i){this.persistence=t,this.Li=e,this.yt=i,this.qi=new Bs(Zi),this.Ui=new aa((t=>Zs(t)),Js),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(n)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fu(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.qi)))}}function Lu(t,e,n,i){return new Ru(t,e,n,i)}async function Nu(t,e){const n=Vi(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let i;return n.mutationQueue.getAllMutationBatches(t).next((r=>(i=r,n.Qi(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const r=[],s=[];let o=ya();for(const t of i){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next((t=>({ji:t,removedBatchIds:r,addedBatchIds:s})))}))}))}function Fu(t,e){const n=Vi(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const i=e.batch.keys(),r=n.Gi.newChangeBuffer({trackRemovals:!0});return function(t,e,n,i){const r=n.batch,s=r.keys();let o=wr.resolve();return s.forEach((t=>{o=o.next((()=>i.getEntry(e,t))).next((e=>{const s=n.docVersions.get(t);Fi(null!==s),e.version.compareTo(s)<0&&(r.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),i.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,r)))}(n,t,e,r).next((()=>r.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=ya();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,i)))}))}function Vu(t){const e=Vi(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Cs.getLastRemoteSnapshotVersion(t)))}function qu(t,e){const n=Vi(t),i=e.snapshotVersion;let r=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=n.Gi.newChangeBuffer({trackRemovals:!0});r=n.qi;const o=[];e.targetChanges.forEach(((s,a)=>{const l=r.get(a);if(!l)return;o.push(n.Cs.removeMatchingKeys(t,s.removedDocuments,a).next((()=>n.Cs.addMatchingKeys(t,s.addedDocuments,a))));let c=l.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(a)?c=c.withResumeToken(jr.EMPTY_BYTE_STRING,nr.min()).withLastLimboFreeSnapshotVersion(nr.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(a,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&o.push(n.Cs.updateTargetData(t,c))}));let a=ca(),l=ya();if(e.documentUpdates.forEach((i=>{e.resolvedLimboDocuments.has(i)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,i))})),o.push(Bu(t,s,e.documentUpdates).next((t=>{a=t.Wi,l=t.zi}))),!i.isEqual(nr.min())){const e=n.Cs.getLastRemoteSnapshotVersion(t).next((e=>n.Cs.setTargetsMetadata(t,t.currentSequenceNumber,i)));o.push(e)}return wr.waitFor(o).next((()=>s.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,l))).next((()=>a))})).then((t=>(n.qi=r,t)))}function Bu(t,e,n){let i=ya(),r=ya();return n.forEach((t=>i=i.add(t))),e.getEntries(t,i).next((t=>{let i=ca();return n.forEach(((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(nr.min())?(e.removeEntry(n,s.readTime),i=i.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),i=i.insert(n,s)):Oi("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{Wi:i,zi:r}}))}function ju(t,e){const n=Vi(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function zu(t,e){const n=Vi(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let i;return n.Cs.getTargetData(t,e).next((r=>r?(i=r,wr.resolve(i)):n.Cs.allocateTargetId(t).next((r=>(i=new Ul(e,r,0,t.currentSequenceNumber),n.Cs.addTargetData(t,i).next((()=>i)))))))})).then((t=>{const i=n.qi.get(t.targetId);return(null===i||t.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(t.targetId,t),n.Ui.set(e,t.targetId)),t}))}async function Uu(t,e,n){const i=Vi(t),r=i.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(t=>i.persistence.referenceDelegate.removeTarget(t,r)))}catch(t){if(!Ir(t))throw t;Oi("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}i.qi=i.qi.remove(e),i.Ui.delete(r.target)}function $u(t,e,n){const i=Vi(t);let r=nr.min(),s=ya();return i.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const i=Vi(t),r=i.Ui.get(n);return void 0!==r?wr.resolve(i.qi.get(r)):i.Cs.getTargetData(e,n)}(i,t,fo(e)).next((e=>{if(e)return r=e.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>i.Li.getDocumentsMatchingQuery(t,e,n?r:nr.min(),n?s:ya()))).next((t=>(Hu(i,wo(e),t),{documents:t,Hi:s})))))}function Hu(t,e,n){let i=t.Ki.get(e)||nr.min();n.forEach(((t,e)=>{e.readTime.compareTo(i)>0&&(i=e.readTime)})),t.Ki.set(e,i)}class Wu{constructor(){this.activeTargetIds=wa()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ku{constructor(){this.Lr=new Wu,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Lr.er(t),this.qr[t]||"not-current"}updateQueryState(t,e,n){this.qr[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.qr[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new Wu,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{Ur(t){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Oi("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Oi("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.oo=e+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,n,i,r){const s=this.ho(t,e);Oi("RestConnection","Sending: ",s,n);const o={};return this.lo(o,i,r),this.fo(t,s,o,n).then((t=>(Oi("RestConnection","Received: ",t),t)),(e=>{throw Ri("RestConnection",`${t} failed with error: `,e,"url: ",s,"request:",n),e}))}_o(t,e,n,i,r,s){return this.ao(t,e,n,i,r)}lo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ai,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}ho(t,e){const n=Qu[t];return`${this.oo}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,n,i){return new Promise(((r,s)=>{const o=new Ei;o.setWithCredentials(!0),o.listenOnce(_i.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case wi.NO_ERROR:const e=o.getResponseJson();Oi("Connection","XHR received:",JSON.stringify(e)),r(e);break;case wi.TIMEOUT:Oi("Connection",'RPC "'+t+'" timed out'),s(new Bi(qi.DEADLINE_EXCEEDED,"Request time out"));break;case wi.HTTP_ERROR:const n=o.getStatus();if(Oi("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){let t=o.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(qi).indexOf(e)>=0?e:qi.UNKNOWN}(e.status);s(new Bi(t,e.message))}else s(new Bi(qi.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Bi(qi.UNAVAILABLE,"Connection failed."));break;default:Ni()}}finally{Oi("Connection",'RPC "'+t+'" completed.')}}));const a=JSON.stringify(i);o.send(e,"POST",a,n,15)}))}wo(t,e,n){const i=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=yi(),s=bi(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new ki({})),this.lo(o.initMessageHeaders,e,n),o.encodeInitMessageHeaders=!0;const a=i.join("");Oi("Connection","Creating WebChannel: "+a,o);const l=r.createWebChannel(a,o);let c=!1,u=!1;const h=new Xu({Hr:t=>{u?Oi("Connection","Not sending because WebChannel is closed:",t):(c||(Oi("Connection","Opening WebChannel transport."),l.open(),c=!0),Oi("Connection","WebChannel sending:",t),l.send(t))},Jr:()=>l.close()}),d=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return d(l,Ii.EventType.OPEN,(()=>{u||Oi("Connection","WebChannel transport opened.")})),d(l,Ii.EventType.CLOSE,(()=>{u||(u=!0,Oi("Connection","WebChannel transport closed"),h.io())})),d(l,Ii.EventType.ERROR,(t=>{u||(u=!0,Ri("Connection","WebChannel transport errored:",t),h.io(new Bi(qi.UNAVAILABLE,"The operation could not be completed")))})),d(l,Ii.EventType.MESSAGE,(t=>{var e;if(!u){const n=t.data[0];Fi(!!n);const i=n,r=i.error||(null===(e=i[0])||void 0===e?void 0:e.error);if(r){Oi("Connection","WebChannel received error:",r);const t=r.status;let e=function(t){const e=ia[t];if(void 0!==e)return oa(e)}(t),n=r.message;void 0===e&&(e=qi.INTERNAL,n="Unknown error status: "+t+" with message "+r.message),u=!0,h.io(new Bi(e,n)),l.close()}else Oi("Connection","WebChannel received:",n),h.ro(n)}})),d(s,xi.STAT_EVENT,(t=>{t.stat===Si.PROXY?Oi("Connection","Detected buffering proxy"):t.stat===Si.NOPROXY&&Oi("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.so()}),0),h}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(){return"undefined"!=typeof window?window:null}function th(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){return new Pa(t,!0)}class nh{constructor(t,e,n=1e3,i=1.5,r=6e4){this.Hs=t,this.timerId=e,this.mo=n,this.yo=i,this.po=r,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),i=Math.max(0,e-n);i>0&&Oi("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,(()=>(this.Eo=Date.now(),t()))),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,e,n,i,r,s,o,a){this.Hs=t,this.vo=n,this.Vo=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new nh(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(()=>this.$o())))}Bo(t){this.Lo(),this.stream.send(t)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(t,e){this.Lo(),this.qo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():e&&e.code===qi.RESOURCE_EXHAUSTED?(Pi(e.toString()),Pi("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):e&&e.code===qi.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Uo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(e)}Uo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,n])=>{this.So===e&&this.Go(t,n)}),(e=>{t((()=>{const t=new Bi(qi.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Qo(t)}))}))}Go(t,e){const n=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr((()=>{n((()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,(()=>(this.ko()&&(this.state=3),Promise.resolve()))),this.listener.Yr())))})),this.stream.Zr((t=>{n((()=>this.Qo(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}Oo(){this.state=5,this.xo.Ro((async()=>{this.state=0,this.start()}))}Qo(t){return Oi("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget((()=>this.So===t?e():(Oi("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class rh extends ih{constructor(t,e,n,i,r,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,i,s),this.yt=r}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=Ga(this.yt,t),n=function(t){if(!("targetChange"in t))return nr.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?nr.min():e.readTime?Fa(e.readTime):nr.min()}(t);return this.listener.Wo(e,n)}zo(t){const e={};e.database=$a(this.yt),e.addTarget=function(t,e){let n;const i=e.target;return n=to(i)?{documents:Za(t,i)}:{query:Ja(t,i)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=La(t,e.resumeToken):e.snapshotVersion.compareTo(nr.min())>0&&(n.readTime=Ra(t,e.snapshotVersion.toTimestamp())),n}(this.yt,t);const n=el(this.yt,t);n&&(e.labels=n),this.Bo(e)}Ho(t){const e={};e.database=$a(this.yt),e.removeTarget=t,this.Bo(e)}}class sh extends ih{constructor(t,e,n,i,r,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,i,s),this.yt=r,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(Fi(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=Xa(t.writeResults,t.commitTime),n=Fa(t.commitTime);return this.listener.Zo(n,e)}return Fi(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=$a(this.yt),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>Ya(this.yt,t)))};this.Bo(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh extends class{}{constructor(t,e,n,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.yt=i,this.nu=!1}su(){if(this.nu)throw new Bi(qi.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,r])=>this.connection.ao(t,e,n,i,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===qi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Bi(qi.UNKNOWN,t.toString())}))}_o(t,e,n,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,s])=>this.connection._o(t,e,n,r,s,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===qi.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Bi(qi.UNKNOWN,t.toString())}))}terminate(){this.nu=!0}}class ah{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve()))))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Pi(e),this.ou=!1):Oi("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,e,n,i,r){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=r,this.mu.Ur((t=>{n.enqueueAndForget((async()=>{vh(this)&&(Oi("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Vi(t);e._u.add(4),await uh(e),e.gu.set("Unknown"),e._u.delete(4),await ch(e)}(this))}))})),this.gu=new ah(n,i)}}async function ch(t){if(vh(t))for(const e of t.wu)await e(!0)}async function uh(t){for(const e of t.wu)await e(!1)}function hh(t,e){const n=Vi(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),mh(n)?gh(n):Lh(n).ko()&&fh(n,e))}function dh(t,e){const n=Vi(t),i=Lh(n);n.du.delete(e),i.ko()&&ph(n,e),0===n.du.size&&(i.ko()?i.Fo():vh(n)&&n.gu.set("Unknown"))}function fh(t,e){t.yu.Ot(e.targetId),Lh(t).zo(e)}function ph(t,e){t.yu.Ot(e),Lh(t).Ho(e)}function gh(t){t.yu=new Ta({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),Lh(t).start(),t.gu.uu()}function mh(t){return vh(t)&&!Lh(t).No()&&t.du.size>0}function vh(t){return 0===Vi(t)._u.size}function yh(t){t.yu=void 0}async function bh(t){t.du.forEach(((e,n)=>{fh(t,e)}))}async function wh(t,e){yh(t),mh(t)?(t.gu.hu(e),gh(t)):t.gu.set("Unknown")}async function _h(t,e,n){if(t.gu.set("Online"),e instanceof Ia&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const i of e.targetIds)t.du.has(i)&&(await t.remoteSyncer.rejectListen(i,n),t.du.delete(i),t.yu.removeTarget(i))}(t,e)}catch(n){Oi("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await xh(t,n)}else if(e instanceof Sa?t.yu.Kt(e):e instanceof ka?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(nr.min()))try{const e=await Vu(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.yu.Zt(e);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=t.du.get(i);r&&t.du.set(i,r.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((e=>{const n=t.du.get(e);if(!n)return;t.du.set(e,n.withResumeToken(jr.EMPTY_BYTE_STRING,n.snapshotVersion)),ph(t,e);const i=new Ul(n.target,e,1,n.sequenceNumber);fh(t,i)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Oi("RemoteStore","Failed to raise snapshot:",e),await xh(t,e)}}async function xh(t,e,n){if(!Ir(e))throw e;t._u.add(1),await uh(t),t.gu.set("Offline"),n||(n=()=>Vu(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Oi("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await ch(t)}))}function Sh(t,e){return e().catch((n=>xh(t,n,e)))}async function kh(t){const e=Vi(t),n=Nh(e);let i=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Ih(e);)try{const t=await ju(e.localStore,i);if(null===t){0===e.fu.length&&n.Fo();break}i=t.batchId,Eh(e,t)}catch(t){await xh(e,t)}Th(e)&&Ch(e)}function Ih(t){return vh(t)&&t.fu.length<10}function Eh(t,e){t.fu.push(e);const n=Nh(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function Th(t){return vh(t)&&!Nh(t).No()&&t.fu.length>0}function Ch(t){Nh(t).start()}async function Ah(t){Nh(t).eu()}async function Mh(t){const e=Nh(t);for(const n of t.fu)e.Xo(n.mutations)}async function Dh(t,e,n){const i=t.fu.shift(),r=jl.from(i,e,n);await Sh(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await kh(t)}async function Oh(t,e){e&&Nh(t).Yo&&await async function(t,e){if(n=e.code,sa(n)&&n!==qi.ABORTED){const n=t.fu.shift();Nh(t).Mo(),await Sh(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await kh(t)}var n}(t,e),Th(t)&&Ch(t)}async function Ph(t,e){const n=Vi(t);n.asyncQueue.verifyOperationInProgress(),Oi("RemoteStore","RemoteStore received new credentials");const i=vh(n);n._u.add(3),await uh(n),i&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await ch(n)}async function Rh(t,e){const n=Vi(t);e?(n._u.delete(2),await ch(n)):e||(n._u.add(2),await uh(n),n.gu.set("Unknown"))}function Lh(t){return t.pu||(t.pu=function(t,e,n){const i=Vi(t);return i.su(),new rh(e,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t.datastore,t.asyncQueue,{Yr:bh.bind(null,t),Zr:wh.bind(null,t),Wo:_h.bind(null,t)}),t.wu.push((async e=>{e?(t.pu.Mo(),mh(t)?gh(t):t.gu.set("Unknown")):(await t.pu.stop(),yh(t))}))),t.pu}function Nh(t){return t.Iu||(t.Iu=function(t,e,n){const i=Vi(t);return i.su(),new sh(e,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,n)}(t.datastore,t.asyncQueue,{Yr:Ah.bind(null,t),Zr:Oh.bind(null,t),tu:Mh.bind(null,t),Zo:Dh.bind(null,t)}),t.wu.push((async e=>{e?(t.Iu.Mo(),await kh(t)):(await t.Iu.stop(),t.fu.length>0&&(Oi("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))}))),t.Iu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Fh{constructor(t,e,n,i,r){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,i,r){const s=Date.now()+n,o=new Fh(t,e,s,i,r);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Bi(qi.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vh(t,e){if(Pi("AsyncQueue",`${e}: ${t}`),Ir(t))return new Bi(qi.UNAVAILABLE,`${e}: ${t}`);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(t){this.comparator=t?(e,n)=>t(e,n)||ar.comparator(e.key,n.key):(t,e)=>ar.comparator(t.key,e.key),this.keyedMap=ha(),this.sortedSet=new Bs(this.comparator)}static emptySet(t){return new qh(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof qh))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,i=n.getNext().key;if(!t.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new qh;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this.Tu=new Bs(ar.comparator)}track(t){const e=t.doc.key,n=this.Tu.get(e);n?0!==t.type&&3===n.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==n.type?this.Tu=this.Tu.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Tu=this.Tu.remove(e):1===t.type&&2===n.type?this.Tu=this.Tu.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):Ni():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal(((e,n)=>{t.push(n)})),t}}class jh{constructor(t,e,n,i,r,s,o,a,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,i,r){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new jh(t,e,qh.emptySet(e),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==n[i].type||!e[i].doc.isEqual(n[i].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.Au=void 0,this.listeners=[]}}class Uh{constructor(){this.queries=new aa((t=>vo(t)),mo),this.onlineState="Unknown",this.Ru=new Set}}async function $h(t,e){const n=Vi(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new zh),r)try{s.Au=await n.onListen(i)}catch(t){const n=Vh(t,`Initialization of query '${yo(e.query)}' failed`);return void e.onError(n)}n.queries.set(i,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&Gh(n)}async function Hh(t,e){const n=Vi(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function Wh(t,e){const n=Vi(t);let i=!1;for(const r of e){const t=r.query,e=n.queries.get(t);if(e){for(const t of e.listeners)t.Pu(r)&&(i=!0);e.Au=r}}i&&Gh(n)}function Kh(t,e,n){const i=Vi(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function Gh(t){t.Ru.forEach((t=>{t.next()}))}class Yh{constructor(t,e,n){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new jh(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.Nu||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){if(t.docChanges.length>0)return!0;const e=this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}xu(t){t=jh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Qh{constructor(t){this.key=t}}class Xh{constructor(t){this.key=t}}class Zh{constructor(t,e){this.query=t,this.qu=e,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ya(),this.mutatedKeys=ya(),this.Gu=_o(t),this.Qu=new qh(this.Gu)}get ju(){return this.qu}Wu(t,e){const n=e?e.zu:new Bh,i=e?e.Qu:this.Qu;let r=e?e.mutatedKeys:this.mutatedKeys,s=i,o=!1;const a="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(((t,e)=>{const c=i.get(t),u=bo(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Hu(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Gu(u,a)>0||l&&this.Gu(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),r=d?r.add(t):r.delete(t)):(s=s.delete(t),r=r.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),r=r.delete(t.key),n.track({type:1,doc:t})}return{Qu:s,zu:n,$i:o,mutatedKeys:r}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const i=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const r=t.zu.Eu();r.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ni()}};return n(t)-n(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.type,e.type)||this.Gu(t.doc,e.doc))),this.Ju(n);const s=e?this.Yu():[],o=0===this.Ku.size&&this.current?1:0,a=o!==this.Uu;return this.Uu=o,0!==r.length||a?{snapshot:new jh(this.query,t.Qu,i,r,t.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:s}:{Xu:s}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Bh,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.qu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach((t=>this.qu=this.qu.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.qu=this.qu.delete(t))),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=ya(),this.Qu.forEach((t=>{this.Zu(t.key)&&(this.Ku=this.Ku.add(t.key))}));const e=[];return t.forEach((t=>{this.Ku.has(t)||e.push(new Xh(t))})),this.Ku.forEach((n=>{t.has(n)||e.push(new Qh(n))})),e}tc(t){this.qu=t.Hi,this.Ku=ya();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return jh.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Jh{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class td{constructor(t){this.key=t,this.nc=!1}}class ed{constructor(t,e,n,i,r,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.sc={},this.ic=new aa((t=>vo(t)),mo),this.rc=new Map,this.oc=new Set,this.uc=new Bs(ar.comparator),this.cc=new Map,this.ac=new mu,this.hc={},this.lc=new Map,this.fc=Wc.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}async function nd(t,e){const n=_d(t);let i,r;const s=n.ic.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.ec();else{const t=await zu(n.localStore,fo(e));n.isPrimaryClient&&hh(n.remoteStore,t);const s=n.sharedClientState.addLocalQueryTarget(t.targetId);i=t.targetId,r=await id(n,e,i,"current"===s,t.resumeToken)}return r}async function id(t,e,n,i,r){t._c=(e,n,i)=>async function(t,e,n,i){let r=e.view.Wu(n);r.$i&&(r=await $u(t.localStore,e.query,!1).then((({documents:t})=>e.view.Wu(t,r))));const s=i&&i.targetChanges.get(e.targetId),o=e.view.applyChanges(r,t.isPrimaryClient,s);return gd(t,e.targetId,o.Xu),o.snapshot}(t,e,n,i);const s=await $u(t.localStore,e,!0),o=new Zh(e,s.Hi),a=o.Wu(s.documents),l=xa.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),c=o.applyChanges(a,t.isPrimaryClient,l);gd(t,n,c.Xu);const u=new Jh(e,n,o);return t.ic.set(e,u),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),c.snapshot}async function rd(t,e){const n=Vi(t),i=n.ic.get(e),r=n.rc.get(i.targetId);if(r.length>1)return n.rc.set(i.targetId,r.filter((t=>!mo(t,e)))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Uu(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),dh(n.remoteStore,i.targetId),fd(n,i.targetId)})).catch(br)):(fd(n,i.targetId),await Uu(n.localStore,i.targetId,!0))}async function sd(t,e,n){const i=xd(t);try{const t=await function(t,e){const n=Vi(t),i=er.now(),r=e.reduce(((t,e)=>t.add(e.key)),ya());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=ca(),l=ya();return n.Gi.getEntries(t,r).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(l=l.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((r=>{s=r;const o=[];for(const t of e){const e=Ko(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new Qo(t.key,e,Gs(e.value.mapValue),jo.exists(!0)))}return n.mutationQueue.addMutationBatch(t,i,o,e)})).next((e=>{o=e;const i=e.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,i)}))})).then((()=>({batchId:o.batchId,changes:da(s)})))}(i.localStore,e);i.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let i=t.hc[t.currentUser.toKey()];i||(i=new Bs(Zi)),i=i.insert(e,n),t.hc[t.currentUser.toKey()]=i}(i,t.batchId,n),await yd(i,t.changes),await kh(i.remoteStore)}catch(t){const e=Vh(t,"Failed to persist write");n.reject(e)}}async function od(t,e){const n=Vi(t);try{const t=await qu(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const i=n.cc.get(e);i&&(Fi(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?i.nc=!0:t.modifiedDocuments.size>0?Fi(i.nc):t.removedDocuments.size>0&&(Fi(i.nc),i.nc=!1))})),await yd(n,t,e)}catch(t){await br(t)}}function ad(t,e,n){const i=Vi(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const t=[];i.ic.forEach(((n,i)=>{const r=i.view.bu(e);r.snapshot&&t.push(r.snapshot)})),function(t,e){const n=Vi(t);n.onlineState=e;let i=!1;n.queries.forEach(((t,n)=>{for(const r of n.listeners)r.bu(e)&&(i=!0)})),i&&Gh(n)}(i.eventManager,e),t.length&&i.sc.Wo(t),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function ld(t,e,n){const i=Vi(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.cc.get(e),s=r&&r.key;if(s){let t=new Bs(ar.comparator);t=t.insert(s,Ys.newNoDocument(s,nr.min()));const n=ya().add(s),r=new _a(nr.min(),new Map,new Us(Zi),t,n);await od(i,r),i.uc=i.uc.remove(s),i.cc.delete(e),vd(i)}else await Uu(i.localStore,e,!1).then((()=>fd(i,e,n))).catch(br)}async function cd(t,e){const n=Vi(t),i=e.batch.batchId;try{const t=await Fu(n.localStore,e);dd(n,i,null),hd(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await yd(n,t)}catch(t){await br(t)}}async function ud(t,e,n){const i=Vi(t);try{const t=await function(t,e){const n=Vi(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let i;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(Fi(null!==e),i=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,i,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,i))).next((()=>n.localDocuments.getDocuments(t,i)))}))}(i.localStore,e);dd(i,e,n),hd(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await yd(i,t)}catch(n){await br(n)}}function hd(t,e){(t.lc.get(e)||[]).forEach((t=>{t.resolve()})),t.lc.delete(e)}function dd(t,e,n){const i=Vi(t);let r=i.hc[i.currentUser.toKey()];if(r){const t=r.get(e);t&&(n?t.reject(n):t.resolve(),r=r.remove(e)),i.hc[i.currentUser.toKey()]=r}}function fd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.rc.get(e))t.ic.delete(i),n&&t.sc.wc(i,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach((e=>{t.ac.containsKey(e)||pd(t,e)}))}function pd(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);null!==n&&(dh(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),vd(t))}function gd(t,e,n){for(const i of n)i instanceof Qh?(t.ac.addReference(i.key,e),md(t,i)):i instanceof Xh?(Oi("SyncEngine","Document no longer in limbo: "+i.key),t.ac.removeReference(i.key,e),t.ac.containsKey(i.key)||pd(t,i.key)):Ni()}function md(t,e){const n=e.key,i=n.path.canonicalString();t.uc.get(n)||t.oc.has(i)||(Oi("SyncEngine","New document in limbo: "+n),t.oc.add(i),vd(t))}function vd(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new ar(rr.fromString(e)),i=t.fc.next();t.cc.set(i,new td(n)),t.uc=t.uc.insert(n,i),hh(t.remoteStore,new Ul(fo(oo(n.path)),i,2,Or.at))}}async function yd(t,e,n){const i=Vi(t),r=[],s=[],o=[];i.ic.isEmpty()||(i.ic.forEach(((t,a)=>{o.push(i._c(a,e,n).then((t=>{if((t||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(a.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){r.push(t);const e=Ou.Ci(a.targetId,t);s.push(e)}})))})),await Promise.all(o),i.sc.Wo(r),await async function(t,e){const n=Vi(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>wr.forEach(e,(e=>wr.forEach(e.Si,(i=>n.persistence.referenceDelegate.addReference(t,e.targetId,i))).next((()=>wr.forEach(e.Di,(i=>n.persistence.referenceDelegate.removeReference(t,e.targetId,i)))))))))}catch(t){if(!Ir(t))throw t;Oi("LocalStore","Failed to update sequence numbers: "+t)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.qi.get(t),i=e.snapshotVersion,r=e.withLastLimboFreeSnapshotVersion(i);n.qi=n.qi.insert(t,r)}}}(i.localStore,s))}async function bd(t,e){const n=Vi(t);if(!n.currentUser.isEqual(e)){Oi("SyncEngine","User change. New user:",e.toKey());const t=await Nu(n.localStore,e);n.currentUser=e,function(t,e){t.lc.forEach((t=>{t.forEach((t=>{t.reject(new Bi(qi.CANCELLED,e))}))})),t.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await yd(n,t.ji)}}function wd(t,e){const n=Vi(t),i=n.cc.get(e);if(i&&i.nc)return ya().add(i.key);{let t=ya();const i=n.rc.get(e);if(!i)return t;for(const e of i){const i=n.ic.get(e);t=t.unionWith(i.view.ju)}return t}}function _d(t){const e=Vi(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=od.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wd.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ld.bind(null,e),e.sc.Wo=Wh.bind(null,e.eventManager),e.sc.wc=Kh.bind(null,e.eventManager),e}function xd(t){const e=Vi(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cd.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ud.bind(null,e),e}class Sd{constructor(){this.synchronizeTabs=!1}async initialize(t){this.yt=eh(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),await this.persistence.start(),this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore)}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return Lu(this.persistence,new Pu,t.initialUser,this.yt)}yc(t){return new xu(ku.Bs,this.yt)}gc(t){return new Ku}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kd extends Sd{constructor(t,e,n){super(),this.Ac=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.Ac.initialize(this,t),await xd(this.Ac.syncEngine),await kh(this.Ac.remoteStore),await this.persistence.li((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}Ic(t){return Lu(this.persistence,new Pu,t.initialUser,this.yt)}Tc(t,e){const n=this.persistence.referenceDelegate.garbageCollector;return new Jc(n,t.asyncQueue,e)}Ec(t,e){const n=new Dr(e,this.persistence);return new Mr(t.asyncQueue,n)}yc(t){const e=Du(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Vc.withCacheSize(this.cacheSizeBytes):Vc.DEFAULT;return new Cu(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Ju(),th(),this.yt,this.sharedClientState,!!this.forceOwnership)}gc(t){return new Ku}}class Id{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>ad(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=bd.bind(null,this.syncEngine),await Rh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Uh}createDatastore(t){const e=eh(t.databaseInfo.databaseId),n=(i=t.databaseInfo,new Zu(i));var i;return function(t,e,n,i){return new oh(t,e,n,i)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,i=t.asyncQueue,r=t=>ad(this.syncEngine,t,0),s=Yu.C()?new Yu:new Gu,new lh(e,n,i,r,s);var e,n,i,r,s}createSyncEngine(t,e){return function(t,e,n,i,r,s,o){const a=new ed(t,e,n,i,r,s);return o&&(a.dc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=Vi(t);Oi("RemoteStore","RemoteStore shutting down."),e._u.add(5),await uh(e),e.mu.shutdown(),e.gu.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t,e,n){if(!n)throw new Bi(qi.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Td(t,e,n,i){if(!0===e&&!0===i)throw new Bi(qi.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Cd(t){if(!ar.isDocumentKey(t))throw new Bi(qi.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ad(t){if(ar.isDocumentKey(t))throw new Bi(qi.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Md(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":Ni()}function Dd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Bi(qi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Md(t);throw new Bi(qi.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Od=new Map;class Pd{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Bi(qi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Bi(qi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Td("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(t,e,n,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Bi(qi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Bi(qi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pd(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Ui;switch(t.type){case"gapi":const e=t.client;return new Ki(e,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Bi(qi.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Od.get(t);e&&(Oi("ComponentProvider","Removing Datastore"),Od.delete(t),e.terminate())}(this),Promise.resolve()}}function Ld(t,e,n,i={}){var r;const s=(t=Dd(t,Rd))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Ri("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),i.mockUserToken){let e,n;if("string"==typeof i.mockUserToken)e=i.mockUserToken,n=Ci.MOCK_USER;else{e=(0,a.Sg)(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Bi(qi.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ci(s)}t._authCredentials=new $i(new zi(e,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vd(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Nd(this.firestore,t,this._key)}}class Fd{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Fd(this.firestore,t,this._query)}}class Vd extends Fd{constructor(t,e,n){super(t,e,oo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Nd(this.firestore,null,new ar(t))}withConverter(t){return new Vd(this.firestore,t,this._path)}}function qd(t,e,...n){if(t=(0,a.m9)(t),Ed("collection","path",e),t instanceof Rd){const i=rr.fromString(e,...n);return Ad(i),new Vd(t,null,i)}{if(!(t instanceof Nd||t instanceof Vd))throw new Bi(qi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(rr.fromString(e,...n));return Ad(i),new Vd(t.firestore,null,i)}}function Bd(t,e,...n){if(t=(0,a.m9)(t),1===arguments.length&&(e=Xi.R()),Ed("doc","path",e),t instanceof Rd){const i=rr.fromString(e,...n);return Cd(i),new Nd(t,null,new ar(i))}{if(!(t instanceof Nd||t instanceof Vd))throw new Bi(qi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(rr.fromString(e,...n));return Cd(i),new Nd(t.firestore,t instanceof Vd?t.converter:null,new ar(i))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class jd{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):Pi("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zd{constructor(t,e,n,i){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=Ci.UNAUTHENTICATED,this.clientId=Xi.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{Oi("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Oi("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Bi(qi.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Vh(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Ud(t,e){t.asyncQueue.verifyOperationInProgress(),Oi("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener((async t=>{i.isEqual(t)||(await Nu(e.localStore,t),i=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t.offlineComponents=e}async function $d(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Hd(t);Oi("FirestoreClient","Initializing OnlineComponentProvider");const i=await t.getConfiguration();await e.initialize(n,i),t.setCredentialChangeListener((t=>Ph(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>Ph(e.remoteStore,n))),t.onlineComponents=e}async function Hd(t){return t.offlineComponents||(Oi("FirestoreClient","Using default OfflineComponentProvider"),await Ud(t,new Sd)),t.offlineComponents}async function Wd(t){return t.onlineComponents||(Oi("FirestoreClient","Using default OnlineComponentProvider"),await $d(t,new Id)),t.onlineComponents}function Kd(t){return Hd(t).then((t=>t.localStore))}function Gd(t){return Wd(t).then((t=>t.syncEngine))}async function Yd(t){const e=await Wd(t),n=e.eventManager;return n.onListen=nd.bind(null,e.syncEngine),n.onUnlisten=rd.bind(null,e.syncEngine),n}function Qd(t,e){const n=new ji;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){try{const i=await function(t,e){const n=Vi(t);return n.persistence.runTransaction("read document","readonly",(t=>n.localDocuments.getDocument(t,e)))}(t,e);i.isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Bi(qi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(t){const i=Vh(t,`Failed to get document '${e} from cache`);n.reject(i)}}(await Kd(t),e,n))),n.promise}function Xd(t,e,n={}){const i=new ji;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,r){const s=new jd({next:s=>{e.enqueueAndForget((()=>Hh(t,o)));const a=s.docs.has(n);!a&&s.fromCache?r.reject(new Bi(qi.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&i&&"server"===i.source?r.reject(new Bi(qi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:t=>r.reject(t)}),o=new Yh(oo(n.path),s,{includeMetadataChanges:!0,Nu:!0});return $h(t,o)}(await Yd(t),t.asyncQueue,e,n,i))),i.promise}function Zd(t,e,n={}){const i=new ji;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,i,r){const s=new jd({next:n=>{e.enqueueAndForget((()=>Hh(t,o))),n.fromCache&&"server"===i.source?r.reject(new Bi(qi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:t=>r.reject(t)}),o=new Yh(n,s,{includeMetadataChanges:!0,Nu:!0});return $h(t,o)}(await Yd(t),t.asyncQueue,e,n,i))),i.promise}class Jd{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new nh(this,"async_queue_retry"),this.Wc=()=>{const t=th();t&&Oi("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const t=th();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.qc){this.qc=!0,this.Qc=t||!1;const e=th();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.qc)return new Promise((()=>{}));const e=new ji;return this.Hc((()=>this.qc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Lc.push(t),this.Jc())))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(x){if(!Ir(x))throw x;Oi("AsyncQueue","Operation failed with retryable error: "+x)}this.Lc.length>0&&this.xo.Ro((()=>this.Jc()))}}Hc(t){const e=this.Bc.then((()=>(this.Gc=!0,t().catch((t=>{this.Kc=t,this.Gc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);throw Pi("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Gc=!1,t))))));return this.Bc=e,e}enqueueAfterDelay(t,e,n){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const i=Fh.createAndSchedule(this,t,e,n,(t=>this.Yc(t)));return this.Uc.push(i),i}zc(){this.Kc&&Ni()}verifyOperationInProgress(){}async Xc(){let t;do{t=this.Bc,await t}while(t!==this.Bc)}Zc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then((()=>{this.Uc.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()}))}ea(t){this.jc.push(t)}Yc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}class tf extends Rd{constructor(t,e,n,i){super(t,e,n,i),this.type="firestore",this._queue=new Jd,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rf(this),this._firestoreClient.terminate()}}function ef(t,e){const n="object"==typeof t?t:(0,r.Mq)(),i="string"==typeof t?t:e||"(default)",s=(0,r.qX)(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const t=(0,a.P0)("firestore");t&&Ld(s,...t)}return s}function nf(t){return t._firestoreClient||rf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rf(t){var e;const n=t._freezeSettings(),i=function(t,e,n,i){return new Pr(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new zd(t._authCredentials,t._appCheckCredentials,t._queue,i)}function sf(t,e){af(t=Dd(t,tf));const n=nf(t),i=t._freezeSettings(),r=new Id;return of(n,r,new kd(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function of(t,e,n){const i=new ji;return t.asyncQueue.enqueue((async()=>{try{await Ud(t,n),await $d(t,e),i.resolve()}catch(t){const n=t;if(!function(t){return"FirebaseError"===t.name?t.code===qi.FAILED_PRECONDITION||t.code===qi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code||11===t.code)}(n))throw n;Ri("Error enabling offline persistence. Falling back to persistence disabled: "+n),i.reject(n)}})).then((()=>i.promise))}function af(t){if(t._initialized||t._terminated)throw new Bi(qi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t){this._byteString=t}static fromBase64String(t){try{return new lf(jr.fromBase64String(t))}catch(t){throw new Bi(qi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new lf(jr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Bi(qi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new or(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class uf{constructor(t){this._methodName=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Bi(qi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Bi(qi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Zi(this._lat,t._lat)||Zi(this._long,t._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df=/^__.*__$/;class ff{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new Qo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Yo(t,this.data,e,this.fieldTransforms)}}class pf{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new Qo(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function gf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ni()}}class mf{constructor(t,e,n,i,r,s){this.settings=t,this.databaseId=e,this.yt=n,this.ignoreUndefinedProperties=i,void 0===r&&this.na(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new mf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ia({path:n,oa:!1});return i.ua(t),i}ca(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.ia({path:n,oa:!1});return i.na(),i}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return Df(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(gf(this.sa)&&df.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class vf{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.yt=n||eh(t)}da(t,e,n,i=!1){return new mf({sa:t,methodName:e,fa:n,path:or.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function yf(t){const e=t._freezeSettings(),n=eh(t._databaseId);return new vf(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bf(t,e,n,i,r,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,r);Tf("Data must be an object, but it was:",o,i);const a=If(i,o);let l,c;if(s.merge)l=new Ws(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const i of s.mergeFields){const r=Cf(e,i,n);if(!o.contains(r))throw new Bi(qi.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);Of(t,r)||t.push(r)}l=new Ws(t),c=o.fieldTransforms.filter((t=>l.covers(t.field)))}else l=null,c=o.fieldTransforms;return new ff(new Ks(a),l,c)}class wf extends uf{_toFieldTransform(t){if(2!==t.sa)throw 1===t.sa?t.ha(`${this._methodName}() can only appear at the top level of your update data`):t.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wf}}function _f(t,e,n,i){const r=t.da(1,e,n);Tf("Data must be an object, but it was:",r,i);const s=[],o=Ks.empty();Nr(i,((t,i)=>{const l=Mf(e,t,n);i=(0,a.m9)(i);const c=r.ca(l);if(i instanceof wf)s.push(l);else{const t=kf(i,c);null!=t&&(s.push(l),o.set(l,t))}}));const l=new Ws(s);return new pf(o,l,r.fieldTransforms)}function xf(t,e,n,i,r,s){const o=t.da(1,e,n),l=[Cf(e,i,n)],c=[r];if(s.length%2!=0)throw new Bi(qi.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<s.length;a+=2)l.push(Cf(e,s[a])),c.push(s[a+1]);const u=[],h=Ks.empty();for(let f=l.length-1;f>=0;--f)if(!Of(u,l[f])){const t=l[f];let e=c[f];e=(0,a.m9)(e);const n=o.ca(t);if(e instanceof wf)u.push(t);else{const i=kf(e,n);null!=i&&(u.push(t),h.set(t,i))}}const d=new Ws(u);return new pf(h,d,o.fieldTransforms)}function Sf(t,e,n,i=!1){return kf(n,t.da(i?4:3,e))}function kf(t,e){if(Ef(t=(0,a.m9)(t)))return Tf("Unsupported field value:",e,t),If(t,e);if(t instanceof uf)return function(t,e){if(!gf(e.sa))throw e.ha(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.ha(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,e){const n=[];let i=0;for(const r of t){let t=kf(r,e.aa(i));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),i++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,a.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Io(e.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=er.fromDate(t);return{timestampValue:Ra(e.yt,n)}}if(t instanceof er){const n=new er(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ra(e.yt,n)}}if(t instanceof hf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof lf)return{bytesValue:La(e.yt,t._byteString)};if(t instanceof Nd){const n=e.databaseId,i=t.firestore._databaseId;if(!i.isEqual(n))throw e.ha(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Va(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.ha(`Unsupported field value: ${Md(t)}`)}(t,e)}function If(t,e){const n={};return Fr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(t,((t,i)=>{const r=kf(i,e.ra(t));null!=r&&(n[t]=r)})),{mapValue:{fields:n}}}function Ef(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof er||t instanceof hf||t instanceof lf||t instanceof Nd||t instanceof uf)}function Tf(t,e,n){if(!Ef(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const i=Md(n);throw"an object"===i?e.ha(t+" a custom object"):e.ha(t+" "+i)}}function Cf(t,e,n){if((e=(0,a.m9)(e))instanceof cf)return e._internalPath;if("string"==typeof e)return Mf(t,e);throw Df("Field path arguments must be of type string or ",t,!1,void 0,n)}const Af=new RegExp("[~\\*/\\[\\]]");function Mf(t,e,n){if(e.search(Af)>=0)throw Df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cf(...e.split("."))._internalPath}catch(i){throw Df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Df(t,e,n,i,r){const s=i&&!i.isEmpty(),o=void 0!==r;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new Bi(qi.INVALID_ARGUMENT,a+t+l)}function Of(t,e){return t.some((t=>t.isEqual(e)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t,e,n,i,r){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Nd(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Rf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Lf("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Rf extends Pf{data(){return super.data()}}function Lf(t,e){return"string"==typeof e?Mf(t,e):e instanceof cf?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Bi(qi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ff{}class Vf extends Ff{}function qf(t,e,...n){let i=[];e instanceof Ff&&i.push(e),i=i.concat(n),function(t){const e=t.filter((t=>t instanceof zf)).length,n=t.filter((t=>t instanceof Bf)).length;if(e>1||e>0&&n>0)throw new Bi(qi.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(i);for(const r of i)t=r._apply(t);return t}class Bf extends Vf{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new Bf(t,e,n)}_apply(t){const e=this._parse(t);return Kf(t._query,e),new Fd(t.firestore,t.converter,po(t._query,e))}_parse(t){const e=yf(t.firestore),n=function(t,e,n,i,r,s,o){let a;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Bi(qi.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Wf(o,s);const e=[];for(const n of o)e.push(Hf(i,t,n));a={arrayValue:{values:e}}}else a=Hf(i,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Wf(o,s),a=Sf(n,e,o,"in"===s||"not-in"===s);return ws.create(r,s,a)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}function jf(t,e,n){const i=e,r=Lf("where",t);return Bf._create(r,i,n)}class zf extends Ff{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new zf(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:_s.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const i=e.getFlattenedFilters();for(const r of i)Kf(n,r),n=po(n,r)}(t._query,e),new Fd(t.firestore,t.converter,po(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Uf extends Vf{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Uf(t,e)}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new Bi(qi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Bi(qi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const i=new Vs(e,n);return function(t,e){if(null===lo(t)){const n=co(t);null!==n&&Gf(t,n,e.field)}}(t,i),i}(t._query,this._field,this._direction);return new Fd(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new ro(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function $f(t,e="asc"){const n=e,i=Lf("orderBy",t);return Uf._create(i,n)}function Hf(t,e,n){if("string"==typeof(n=(0,a.m9)(n))){if(""===n)throw new Bi(qi.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!uo(e)&&-1!==n.indexOf("/"))throw new Bi(qi.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(rr.fromString(n));if(!ar.isDocumentKey(i))throw new Bi(qi.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return rs(t,new ar(i))}if(n instanceof Nd)return rs(t,n._key);throw new Bi(qi.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Md(n)}.`)}function Wf(t,e){if(!Array.isArray(t)||0===t.length)throw new Bi(qi.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new Bi(qi.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Kf(t,e){if(e.isInequality()){const n=co(t),i=e.field;if(null!==n&&!n.isEqual(i))throw new Bi(qi.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${i.toString()}'`);const r=lo(t);null!==r&&Gf(t,i,r)}const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new Bi(qi.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Bi(qi.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Gf(t,e,n){if(!n.isEqual(e))throw new Bi(qi.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Yf{convertValue(t,e="none"){switch(Xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $r(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Ni()}}convertObject(t,e){const n={};return Nr(t.fields,((t,i)=>{n[t]=this.convertValue(i,e)})),n}convertGeoPoint(t){return new hf($r(t.latitude),$r(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Kr(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Gr(t));default:return null}}convertTimestamp(t){const e=Ur(t);return new er(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=rr.fromString(t);Fi(ul(n));const i=new Rr(n.get(1),n.get(3)),r=new ar(n.popFirst(5));return i.isEqual(e)||Pi(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),r}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xf{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zf extends Pf{constructor(t,e,n,i,r,s){super(t,e,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(Lf("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Jf extends Zf{data(t={}){return super.data(t)}}class tp{constructor(t,e,n,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new Xf(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Jf(this._firestore,this._userDataWriter,n.key,n,new Xf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Bi(qi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const i=new Jf(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Xf(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const i=new Jf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Xf(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let r=-1,s=-1;return 0!==e.type&&(r=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:ep(e.type),doc:i,oldIndex:r,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ep(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ni()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function np(t){t=Dd(t,Nd);const e=Dd(t.firestore,tf);return Xd(nf(e),t._key).then((n=>hp(e,t,n)))}class ip extends Yf{constructor(t){super(),this.firestore=t}convertBytes(t){return new lf(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Nd(this.firestore,null,e)}}function rp(t){t=Dd(t,Nd);const e=Dd(t.firestore,tf),n=nf(e),i=new ip(e);return Qd(n,t._key).then((n=>new Zf(e,i,t._key,n,new Xf(null!==n&&n.hasLocalMutations,!0),t.converter)))}function sp(t){t=Dd(t,Fd);const e=Dd(t.firestore,tf),n=nf(e),i=new ip(e);return Nf(t._query),Zd(n,t._query).then((n=>new tp(e,i,t,n)))}function op(t,e,n){t=Dd(t,Nd);const i=Dd(t.firestore,tf),r=Qf(t.converter,e,n);return up(i,[bf(yf(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,jo.none())])}function ap(t,e,n,...i){t=Dd(t,Nd);const r=Dd(t.firestore,tf),s=yf(r);let o;return o="string"==typeof(e=(0,a.m9)(e))||e instanceof cf?xf(s,"updateDoc",t._key,e,n,i):_f(s,"updateDoc",t._key,e),up(r,[o.toMutation(t._key,jo.exists(!0))])}function lp(t){return up(Dd(t.firestore,tf),[new ta(t._key,jo.none())])}function cp(t,e){const n=Dd(t.firestore,tf),i=Bd(t),r=Qf(t.converter,e);return up(n,[bf(yf(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,jo.exists(!1))]).then((()=>i))}function up(t,e){return function(t,e){const n=new ji;return t.asyncQueue.enqueueAndForget((async()=>sd(await Gd(t),e,n))),n.promise}(nf(t),e)}function hp(t,e,n){const i=n.docs.get(e._key),r=new ip(t);return new Zf(t,r,e._key,i,new Xf(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t,e=!0){!function(t){Ai=t}(r.Jn),(0,r.Xd)(new s.wA("firestore",((t,{instanceIdentifier:n,options:i})=>{const r=t.getProvider("app").getImmediate(),s=new tf(new Hi(t.getProvider("auth-internal")),new Yi(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Bi(qi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rr(t.options.projectId,e)}(r,n),r);return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s}),"PUBLIC").setMultipleInstances(!0)),(0,r.KN)(Ti,"3.8.0",t),(0,r.KN)(Ti,"3.8.0","esm2017")}()},3073:function(t,e,n){"use strict";n.d(e,{X3:function(){return _}});const i=(t,e)=>e.some((e=>t instanceof e));let r,s;function o(){return r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a(){return s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const l=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap;function f(t){const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",s)},r=()=>{e(b(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&l.set(e,t)})).catch((()=>{})),d.set(e,t),e}function p(t){if(c.has(t))return;const e=new Promise(((e,n)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",s),t.removeEventListener("abort",s)},r=()=>{e(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",s),t.addEventListener("abort",s)}));c.set(t,e)}let g={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return c.get(t);if("objectStoreNames"===e)return t.objectStoreNames||u.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return b(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t}};function m(t){g=t(g)}function v(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?a().includes(t)?function(...e){return t.apply(w(this),e),b(l.get(this))}:function(...e){return b(t.apply(w(this),e))}:function(e,...n){const i=t.call(w(this),e,...n);return u.set(i,e.sort?e.sort():[e]),b(i)}}function y(t){return"function"===typeof t?v(t):(t instanceof IDBTransaction&&p(t),i(t,o())?new Proxy(t,g):t)}function b(t){if(t instanceof IDBRequest)return f(t);if(h.has(t))return h.get(t);const e=y(t);return e!==t&&(h.set(t,e),d.set(e,t)),e}const w=t=>d.get(t);function _(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=b(o);return i&&o.addEventListener("upgradeneeded",(t=>{i(b(o.result),t.oldVersion,t.newVersion,b(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((t=>{s&&t.addEventListener("close",(()=>s())),r&&t.addEventListener("versionchange",(()=>r()))})).catch((()=>{})),a}const x=["get","getKey","getAll","getAllKeys","count"],S=["put","add","delete","clear"],k=new Map;function I(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(k.get(e))return k.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=S.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!x.includes(n))return;const s=async function(t,...e){const s=this.transaction(t,r?"readwrite":"readonly");let o=s.store;return i&&(o=o.index(e.shift())),(await Promise.all([o[n](...e),r&&s.done]))[0]};return k.set(e,s),s}m((t=>({...t,get:(e,n,i)=>I(e,n)||t.get(e,n,i),has:(e,n)=>!!I(e,n)||t.has(e,n)})))},2201:function(t,e,n){"use strict";n.d(e,{PO:function(){return q},p7:function(){return ee}});var i=n(9269),r=n(6237);
/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const s="undefined"!==typeof window;function o(t){return t.__esModule||"Module"===t[Symbol.toStringTag]}const a=Object.assign;function l(t,e){const n={};for(const i in e){const r=e[i];n[i]=u(r)?r.map(t):t(r)}return n}const c=()=>{},u=Array.isArray;const h=/\/$/,d=t=>t.replace(h,"");function f(t,e,n="/"){let i,r={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),r=t(s)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=_(null!=i?i:e,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:o}}function p(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function g(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function m(t,e,n){const i=e.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&v(e.matched[i],n.matched[r])&&y(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function v(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function y(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!b(t[n],e[n]))return!1;return!0}function b(t,e){return u(t)?w(t,e):u(e)?w(e,t):t===e}function w(t,e){return u(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}function _(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/");let r,s,o=n.length-1;for(r=0;r<i.length;r++)if(s=i[r],"."!==s){if(".."!==s)break;o>1&&o--}return n.slice(0,o).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}var x,S;(function(t){t["pop"]="pop",t["push"]="push"})(x||(x={})),function(t){t["back"]="back",t["forward"]="forward",t["unknown"]=""}(S||(S={}));function k(t){if(!t)if(s){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),d(t)}const I=/^[^#]+#/;function E(t,e){return t.replace(I,"#")+e}function T(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const C=()=>({left:window.pageXOffset,top:window.pageYOffset});function A(t){let e;if("el"in t){const n=t.el,i="string"===typeof n&&n.startsWith("#");0;const r="string"===typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=T(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function M(t,e){const n=history.state?history.state.position-e:-1;return n+t}const D=new Map;function O(t,e){D.set(t,e)}function P(t){const e=D.get(t);return D.delete(t),e}let R=()=>location.protocol+"//"+location.host;function L(t,e){const{pathname:n,search:i,hash:r}=e,s=t.indexOf("#");if(s>-1){let e=r.includes(t.slice(s))?t.slice(s).length:1,n=r.slice(e);return"/"!==n[0]&&(n="/"+n),g(n,"")}const o=g(n,t);return o+i+r}function N(t,e,n,i){let r=[],s=[],o=null;const l=({state:s})=>{const a=L(t,location),l=n.value,c=e.value;let u=0;if(s){if(n.value=a,e.value=s,o&&o===l)return void(o=null);u=c?s.position-c.position:0}else i(a);r.forEach((t=>{t(n.value,l,{delta:u,type:x.pop,direction:u?u>0?S.forward:S.back:S.unknown})}))};function c(){o=n.value}function u(t){r.push(t);const e=()=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)};return s.push(e),e}function h(){const{history:t}=window;t.state&&t.replaceState(a({},t.state,{scroll:C()}),"")}function d(){for(const t of s)t();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",h),{pauseListeners:c,listen:u,destroy:d}}function F(t,e,n,i=!1,r=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:r?C():null}}function V(t){const{history:e,location:n}=window,i={value:L(t,n)},r={value:e.state};function s(i,s,o){const a=t.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+i:R()+t+i;try{e[o?"replaceState":"pushState"](s,"",l),r.value=s}catch(c){console.error(c),n[o?"replace":"assign"](l)}}function o(t,n){const o=a({},e.state,F(r.value.back,t,r.value.forward,!0),n,{position:r.value.position});s(t,o,!0),i.value=t}function l(t,n){const o=a({},r.value,e.state,{forward:t,scroll:C()});s(o.current,o,!0);const l=a({},F(i.value,t,null),{position:o.position+1},n);s(t,l,!1),i.value=t}return r.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:i,state:r,push:l,replace:o}}function q(t){t=k(t);const e=V(t),n=N(t,e.state,e.location,e.replace);function i(t,e=!0){e||n.pauseListeners(),history.go(t)}const r=a({location:"",base:t,go:i,createHref:E.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function B(t){return"string"===typeof t||t&&"object"===typeof t}function j(t){return"string"===typeof t||"symbol"===typeof t}const z={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},U=Symbol("");var $;(function(t){t[t["aborted"]=4]="aborted",t[t["cancelled"]=8]="cancelled",t[t["duplicated"]=16]="duplicated"})($||($={}));function H(t,e){return a(new Error,{type:t,[U]:!0},e)}function W(t,e){return t instanceof Error&&U in t&&(null==e||!!(t.type&e))}const K="[^/]+?",G={sensitive:!1,strict:!1,start:!0,end:!0},Y=/[.+*?^${}()[\]/\\]/g;function Q(t,e){const n=a({},G,e),i=[];let r=n.start?"^":"";const s=[];for(const a of t){const t=a.length?[]:[90];n.strict&&!a.length&&(r+="/");for(let e=0;e<a.length;e++){const i=a[e];let o=40+(n.sensitive?.25:0);if(0===i.type)e||(r+="/"),r+=i.value.replace(Y,"\\$&"),o+=40;else if(1===i.type){const{value:t,repeatable:n,optional:l,regexp:c}=i;s.push({name:t,repeatable:n,optional:l});const u=c||K;if(u!==K){o+=10;try{new RegExp(`(${u})`)}catch(h){throw new Error(`Invalid custom RegExp for param "${t}" (${u}): `+h.message)}}let d=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;e||(d=l&&a.length<2?`(?:/${d})`:"/"+d),l&&(d+="?"),r+=d,o+=20,l&&(o+=-8),n&&(o+=-20),".*"===u&&(o+=-50)}t.push(o)}i.push(t)}if(n.strict&&n.end){const t=i.length-1;i[t][i[t].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function l(t){const e=t.match(o),n={};if(!e)return null;for(let i=1;i<e.length;i++){const t=e[i]||"",r=s[i-1];n[r.name]=t&&r.repeatable?t.split("/"):t}return n}function c(e){let n="",i=!1;for(const r of t){i&&n.endsWith("/")||(n+="/"),i=!1;for(const t of r)if(0===t.type)n+=t.value;else if(1===t.type){const{value:s,repeatable:o,optional:a}=t,l=s in e?e[s]:"";if(u(l)&&!o)throw new Error(`Provided param "${s}" is an array but it is not repeatable (* or + modifiers)`);const c=u(l)?l.join("/"):l;if(!c){if(!a)throw new Error(`Missing required param "${s}"`);r.length<2&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=c}}return n||"/"}return{re:o,score:i,keys:s,parse:l,stringify:c}}function X(t,e){let n=0;while(n<t.length&&n<e.length){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function Z(t,e){let n=0;const i=t.score,r=e.score;while(n<i.length&&n<r.length){const t=X(i[n],r[n]);if(t)return t;n++}if(1===Math.abs(r.length-i.length)){if(J(i))return 1;if(J(r))return-1}return r.length-i.length}function J(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const tt={type:0,value:""},et=/[a-zA-Z0-9_]/;function nt(t){if(!t)return[[]];if("/"===t)return[[tt]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a,l=0,c="",u="";function h(){c&&(0===n?s.push({type:0,value:c}):1===n||2===n||3===n?(s.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function d(){c+=a}while(l<t.length)if(a=t[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&h(),o()):":"===a?(h(),n=1):d();break;case 4:d(),n=i;break;case 1:"("===a?n=2:et.test(a)?d():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:e("Unknown state");break}else i=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function it(t,e,n){const i=Q(nt(t.path),n);const r=a(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf===!e.record.aliasOf&&e.children.push(r),r}function rt(t,e){const n=[],i=new Map;function r(t){return i.get(t)}function s(t,n,i){const r=!i,l=ot(t);l.aliasOf=i&&i.record;const h=ut(e,t),d=[l];if("alias"in t){const e="string"===typeof t.alias?[t.alias]:t.alias;for(const t of e)d.push(a({},l,{components:i?i.record.components:l.components,path:t,aliasOf:i?i.record:l}))}let f,p;for(const e of d){const{path:a}=e;if(n&&"/"!==a[0]){const t=n.record.path,i="/"===t[t.length-1]?"":"/";e.path=n.record.path+(a&&i+a)}if(f=it(e,n,h),i?i.alias.push(f):(p=p||f,p!==f&&p.alias.push(f),r&&t.name&&!lt(f)&&o(t.name)),l.children){const t=l.children;for(let e=0;e<t.length;e++)s(t[e],f,i&&i.children[e])}i=i||f,(f.record.components&&Object.keys(f.record.components).length||f.record.name||f.record.redirect)&&u(f)}return p?()=>{o(p)}:c}function o(t){if(j(t)){const e=i.get(t);e&&(i.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(o),e.alias.forEach(o))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&i.delete(t.record.name),t.children.forEach(o),t.alias.forEach(o))}}function l(){return n}function u(t){let e=0;while(e<n.length&&Z(t,n[e])>=0&&(t.record.path!==n[e].record.path||!ht(t,n[e])))e++;n.splice(e,0,t),t.record.name&&!lt(t)&&i.set(t.record.name,t)}function h(t,e){let r,s,o,l={};if("name"in t&&t.name){if(r=i.get(t.name),!r)throw H(1,{location:t});0,o=r.record.name,l=a(st(e.params,r.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params&&st(t.params,r.keys.map((t=>t.name)))),s=r.stringify(l)}else if("path"in t)s=t.path,r=n.find((t=>t.re.test(s))),r&&(l=r.parse(s),o=r.record.name);else{if(r=e.name?i.get(e.name):n.find((t=>t.re.test(e.path))),!r)throw H(1,{location:t,currentLocation:e});o=r.record.name,l=a({},e.params,t.params),s=r.stringify(l)}const c=[];let u=r;while(u)c.unshift(u.record),u=u.parent;return{name:o,path:s,params:l,matched:c,meta:ct(c)}}return e=ut({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>s(t))),{addRoute:s,resolve:h,removeRoute:o,getRoutes:l,getRecordMatcher:r}}function st(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function ot(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:at(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function at(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]="boolean"===typeof n?n:n[i];return e}function lt(t){while(t){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ct(t){return t.reduce(((t,e)=>a(t,e.meta)),{})}function ut(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function ht(t,e){return e.children.some((e=>e===t||ht(t,e)))}const dt=/#/g,ft=/&/g,pt=/\//g,gt=/=/g,mt=/\?/g,vt=/\+/g,yt=/%5B/g,bt=/%5D/g,wt=/%5E/g,_t=/%60/g,xt=/%7B/g,St=/%7C/g,kt=/%7D/g,It=/%20/g;function Et(t){return encodeURI(""+t).replace(St,"|").replace(yt,"[").replace(bt,"]")}function Tt(t){return Et(t).replace(xt,"{").replace(kt,"}").replace(wt,"^")}function Ct(t){return Et(t).replace(vt,"%2B").replace(It,"+").replace(dt,"%23").replace(ft,"%26").replace(_t,"`").replace(xt,"{").replace(kt,"}").replace(wt,"^")}function At(t){return Ct(t).replace(gt,"%3D")}function Mt(t){return Et(t).replace(dt,"%23").replace(mt,"%3F")}function Dt(t){return null==t?"":Mt(t).replace(pt,"%2F")}function Ot(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function Pt(t){const e={};if(""===t||"?"===t)return e;const n="?"===t[0],i=(n?t.slice(1):t).split("&");for(let r=0;r<i.length;++r){const t=i[r].replace(vt," "),n=t.indexOf("="),s=Ot(n<0?t:t.slice(0,n)),o=n<0?null:Ot(t.slice(n+1));if(s in e){let t=e[s];u(t)||(t=e[s]=[t]),t.push(o)}else e[s]=o}return e}function Rt(t){let e="";for(let n in t){const i=t[n];if(n=At(n),null==i){void 0!==i&&(e+=(e.length?"&":"")+n);continue}const r=u(i)?i.map((t=>t&&Ct(t))):[i&&Ct(i)];r.forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function Lt(t){const e={};for(const n in t){const i=t[n];void 0!==i&&(e[n]=u(i)?i.map((t=>null==t?null:""+t)):null==i?i:""+i)}return e}const Nt=Symbol(""),Ft=Symbol(""),Vt=Symbol(""),qt=Symbol(""),Bt=Symbol("");function jt(){let t=[];function e(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function zt(t,e,n,i,r){const s=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise(((o,a)=>{const l=t=>{!1===t?a(H(4,{from:n,to:e})):t instanceof Error?a(t):B(t)?a(H(2,{from:e,to:t})):(s&&i.enterCallbacks[r]===s&&"function"===typeof t&&s.push(t),o())},c=t.call(i&&i.instances[r],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch((t=>a(t)))}))}function Ut(t,e,n,i){const r=[];for(const s of t){0;for(const t in s.components){let a=s.components[t];if("beforeRouteEnter"===e||s.instances[t])if($t(a)){const o=a.__vccOpts||a,l=o[e];l&&r.push(zt(l,n,i,s,t))}else{let l=a();0,r.push((()=>l.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${s.path}"`));const a=o(r)?r.default:r;s.components[t]=a;const l=a.__vccOpts||a,c=l[e];return c&&zt(c,n,i,s,t)()}))))}}}return r}function $t(t){return"object"===typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}function Ht(t){const e=(0,i.f3)(Vt),n=(0,i.f3)(qt),s=(0,i.Fl)((()=>e.resolve((0,r.SU)(t.to)))),o=(0,i.Fl)((()=>{const{matched:t}=s.value,{length:e}=t,i=t[e-1],r=n.matched;if(!i||!r.length)return-1;const o=r.findIndex(v.bind(null,i));if(o>-1)return o;const a=Qt(t[e-2]);return e>1&&Qt(i)===a&&r[r.length-1].path!==a?r.findIndex(v.bind(null,t[e-2])):o})),a=(0,i.Fl)((()=>o.value>-1&&Yt(n.params,s.value.params))),l=(0,i.Fl)((()=>o.value>-1&&o.value===n.matched.length-1&&y(n.params,s.value.params)));function u(n={}){return Gt(n)?e[(0,r.SU)(t.replace)?"replace":"push"]((0,r.SU)(t.to)).catch(c):Promise.resolve()}return{route:s,href:(0,i.Fl)((()=>s.value.href)),isActive:a,isExactActive:l,navigate:u}}const Wt=(0,i.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ht,setup(t,{slots:e}){const n=(0,r.qj)(Ht(t)),{options:s}=(0,i.f3)(Vt),o=(0,i.Fl)((()=>({[Xt(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Xt(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=e.default&&e.default(n);return t.custom?r:(0,i.h)("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}}),Kt=Wt;function Gt(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Yt(t,e){for(const n in e){const i=e[n],r=t[n];if("string"===typeof i){if(i!==r)return!1}else if(!u(r)||r.length!==i.length||i.some(((t,e)=>t!==r[e])))return!1}return!0}function Qt(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Xt=(t,e,n)=>null!=t?t:null!=e?e:n,Zt=(0,i.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=(0,i.f3)(Bt),o=(0,i.Fl)((()=>t.route||s.value)),l=(0,i.f3)(Ft,0),c=(0,i.Fl)((()=>{let t=(0,r.SU)(l);const{matched:e}=o.value;let n;while((n=e[t])&&!n.components)t++;return t})),u=(0,i.Fl)((()=>o.value.matched[c.value]));(0,i.JJ)(Ft,(0,i.Fl)((()=>c.value+1))),(0,i.JJ)(Nt,u),(0,i.JJ)(Bt,o);const h=(0,r.iH)();return(0,i.YP)((()=>[h.value,u.value,t.name]),(([t,e,n],[i,r,s])=>{e&&(e.instances[n]=t,r&&r!==e&&t&&t===i&&(e.leaveGuards.size||(e.leaveGuards=r.leaveGuards),e.updateGuards.size||(e.updateGuards=r.updateGuards))),!t||!e||r&&v(e,r)&&i||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const r=o.value,s=t.name,l=u.value,c=l&&l.components[s];if(!c)return Jt(n.default,{Component:c,route:r});const d=l.props[s],f=d?!0===d?r.params:"function"===typeof d?d(r):d:null,p=t=>{t.component.isUnmounted&&(l.instances[s]=null)},g=(0,i.h)(c,a({},f,e,{onVnodeUnmounted:p,ref:h}));return Jt(n.default,{Component:g,route:r})||g}}});function Jt(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const te=Zt;function ee(t){const e=rt(t.routes,t),n=t.parseQuery||Pt,o=t.stringifyQuery||Rt,h=t.history;const d=jt(),g=jt(),v=jt(),y=(0,r.XI)(z);let b=z;s&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const w=l.bind(null,(t=>""+t)),_=l.bind(null,Dt),S=l.bind(null,Ot);function k(t,n){let i,r;return j(t)?(i=e.getRecordMatcher(t),r=n):r=t,e.addRoute(r,i)}function I(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)}function E(){return e.getRoutes().map((t=>t.record))}function T(t){return!!e.getRecordMatcher(t)}function D(t,i){if(i=a({},i||y.value),"string"===typeof t){const r=f(n,t,i.path),s=e.resolve({path:r.path},i),o=h.createHref(r.fullPath);return a(r,s,{params:S(s.params),hash:Ot(r.hash),redirectedFrom:void 0,href:o})}let r;if("path"in t)r=a({},t,{path:f(n,t.path,i.path).path});else{const e=a({},t.params);for(const t in e)null==e[t]&&delete e[t];r=a({},t,{params:_(t.params)}),i.params=_(i.params)}const s=e.resolve(r,i),l=t.hash||"";s.params=w(S(s.params));const c=p(o,a({},t,{hash:Tt(l),path:s.path})),u=h.createHref(c);return a({fullPath:c,hash:l,query:o===Rt?Lt(t.query):t.query||{}},s,{redirectedFrom:void 0,href:u})}function R(t){return"string"===typeof t?f(n,t,y.value.path):a({},t)}function L(t,e){if(b!==t)return H(8,{from:e,to:t})}function N(t){return q(t)}function F(t){return N(a(R(t),{replace:!0}))}function V(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let i="function"===typeof n?n(t):n;return"string"===typeof i&&(i=i.includes("?")||i.includes("#")?i=R(i):{path:i},i.params={}),a({query:t.query,hash:t.hash,params:"path"in i?{}:t.params},i)}}function q(t,e){const n=b=D(t),i=y.value,r=t.state,s=t.force,l=!0===t.replace,c=V(n);if(c)return q(a(R(c),{state:"object"===typeof c?a({},r,c.state):r,force:s,replace:l}),e||n);const u=n;let h;return u.redirectedFrom=e,!s&&m(o,i,n)&&(h=H(16,{to:u,from:i}),nt(i,i,!0,!1)),(h?Promise.resolve(h):U(u,i)).catch((t=>W(t)?W(t,2)?t:et(t):J(t,u,i))).then((t=>{if(t){if(W(t,2))return q(a({replace:l},R(t.to),{state:"object"===typeof t.to?a({},r,t.to.state):r,force:s}),e||u)}else t=K(u,i,!0,l,r);return $(u,i,t),t}))}function B(t,e){const n=L(t,e);return n?Promise.reject(n):Promise.resolve()}function U(t,e){let n;const[i,r,s]=ie(t,e);n=Ut(i.reverse(),"beforeRouteLeave",t,e);for(const a of i)a.leaveGuards.forEach((i=>{n.push(zt(i,t,e))}));const o=B.bind(null,t,e);return n.push(o),ne(n).then((()=>{n=[];for(const i of d.list())n.push(zt(i,t,e));return n.push(o),ne(n)})).then((()=>{n=Ut(r,"beforeRouteUpdate",t,e);for(const i of r)i.updateGuards.forEach((i=>{n.push(zt(i,t,e))}));return n.push(o),ne(n)})).then((()=>{n=[];for(const i of t.matched)if(i.beforeEnter&&!e.matched.includes(i))if(u(i.beforeEnter))for(const r of i.beforeEnter)n.push(zt(r,t,e));else n.push(zt(i.beforeEnter,t,e));return n.push(o),ne(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=Ut(s,"beforeRouteEnter",t,e),n.push(o),ne(n)))).then((()=>{n=[];for(const i of g.list())n.push(zt(i,t,e));return n.push(o),ne(n)})).catch((t=>W(t,8)?t:Promise.reject(t)))}function $(t,e,n){for(const i of v.list())i(t,e,n)}function K(t,e,n,i,r){const o=L(t,e);if(o)return o;const l=e===z,c=s?history.state:{};n&&(i||l?h.replace(t.fullPath,a({scroll:l&&c&&c.scroll},r)):h.push(t.fullPath,r)),y.value=t,nt(t,e,n,l),et()}let G;function Y(){G||(G=h.listen(((t,e,n)=>{if(!at.listening)return;const i=D(t),r=V(i);if(r)return void q(a(r,{replace:!0}),i).catch(c);b=i;const o=y.value;s&&O(M(o.fullPath,n.delta),C()),U(i,o).catch((t=>W(t,12)?t:W(t,2)?(q(t.to,i).then((t=>{W(t,20)&&!n.delta&&n.type===x.pop&&h.go(-1,!1)})).catch(c),Promise.reject()):(n.delta&&h.go(-n.delta,!1),J(t,i,o)))).then((t=>{t=t||K(i,o,!1),t&&(n.delta&&!W(t,8)?h.go(-n.delta,!1):n.type===x.pop&&W(t,20)&&h.go(-1,!1)),$(i,o,t)})).catch(c)})))}let Q,X=jt(),Z=jt();function J(t,e,n){et(t);const i=Z.list();return i.length?i.forEach((i=>i(t,e,n))):console.error(t),Promise.reject(t)}function tt(){return Q&&y.value!==z?Promise.resolve():new Promise(((t,e)=>{X.add([t,e])}))}function et(t){return Q||(Q=!t,Y(),X.list().forEach((([e,n])=>t?n(t):e())),X.reset()),t}function nt(e,n,r,o){const{scrollBehavior:a}=t;if(!s||!a)return Promise.resolve();const l=!r&&P(M(e.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return(0,i.Y3)().then((()=>a(e,n,l))).then((t=>t&&A(t))).catch((t=>J(t,e,n)))}const it=t=>h.go(t);let st;const ot=new Set,at={currentRoute:y,listening:!0,addRoute:k,removeRoute:I,hasRoute:T,getRoutes:E,resolve:D,options:t,push:N,replace:F,go:it,back:()=>it(-1),forward:()=>it(1),beforeEach:d.add,beforeResolve:g.add,afterEach:v.add,onError:Z.add,isReady:tt,install(t){const e=this;t.component("RouterLink",Kt),t.component("RouterView",te),t.config.globalProperties.$router=e,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,r.SU)(y)}),s&&!st&&y.value===z&&(st=!0,N(h.location).catch((t=>{0})));const n={};for(const r in z)n[r]=(0,i.Fl)((()=>y.value[r]));t.provide(Vt,e),t.provide(qt,(0,r.qj)(n)),t.provide(Bt,y);const o=t.unmount;ot.add(t),t.unmount=function(){ot.delete(t),ot.size<1&&(b=z,G&&G(),G=null,y.value=z,st=!1,Q=!1),o()}}};return at}function ne(t){return t.reduce(((t,e)=>t.then((()=>e()))),Promise.resolve())}function ie(t,e){const n=[],i=[],r=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const s=e.matched[o];s&&(t.matched.find((t=>v(t,s)))?i.push(s):n.push(s));const a=t.matched[o];a&&(e.matched.find((t=>v(t,a)))||r.push(a))}return[n,i,r]}}}]);
//# sourceMappingURL=chunk-vendors.3fabddbf.js.map